(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1012:function(t,e,o){"use strict";o(327)},1013:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.chatbox{position:relative}.chatbox .notconnected{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;left:0;bottom:0;right:0;top:0;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:6}.chatbox .message-entry .buttons{display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden}.chatbox .message-entry .message-link{opacity:.2;font-size:10px;display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;margin:0 2px;color:inherit}.chatbox .message-entry:hover .message-link{opacity:.5}.chatbox .message-entry .message-link.active,.chatbox .message-entry .message-link:hover{opacity:1!important}.chatbox .message-entry.deleted{opacity:.5;text-decoration:line-through;font-size:10px;font-style:italic}.chatbox .paragraph{border-radius:4px;padding:5px 10px 10px;display:-webkit-box;display:-ms-flexbox;display:flex}.chatbox .paragraph.internal{background:#fbe593;color:#7d5415}.chatbox .paragraph .chat-name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.chatbox .paragraph strong{-webkit-box-flex:1;-ms-flex:1;flex:1;display:block}.chatbox .paragraph .chat-time{opacity:0;-webkit-box-flex:0;-ms-flex:none;flex:none;font-size:10px}.chatbox .paragraph:nth-child(odd).default{background:rgba(0,0,0,.02)}.chatbox .paragraph:hover .chat-time{opacity:.5}.chatbox .paragraph .avatar-column{-webkit-box-flex:0;-ms-flex:none;flex:none;width:40px;padding:4px 10px 4px 0;overflow:hidden}.chatbox .paragraph .avatar-column .placeholder{display:block;height:0;padding-bottom:100%;background:rgba(0,0,0,.1);border-radius:5px;text-align:center;text-transform:uppercase;letter-spacing:.1em;line-height:30px;color:#fff}.chatbox .paragraph .avatar-column img{width:100%;height:auto;border-radius:5px}.chatbox .paragraph .text{-webkit-box-flex:1;-ms-flex:1;flex:1}@media (max-width:600px){.chatbox .paragraph .messages{padding-right:10px}}.chatbox .paragraph .message{text-align:left;opacity:.9;white-space:pre-line;margin-bottom:2px}.chatbox .casual .avatar-column{padding-top:0}.chatbox .casual .avatar{border-radius:100%;overflow:hidden;width:34px;height:34px;display:block;vertical-align:bottom}.chatbox .casual .paragraph{background:none!important}.chatbox .casual .message{line-height:24px;background:#e9ebee;color:#1c1e21;padding:5px 15px;border-radius:.3em 20px 20px .3em;display:inline-block}.chatbox .casual .message-entry:last-child .message{border-bottom-left-radius:20px}.chatbox .casual .message-entry:first-child .message{border-top-left-radius:20px}.chatbox .casual .message-entry:only-child .message{border-radius:20px}.chatbox .casual .messages{padding-right:10%}.chatbox .casual .self .avatar,.chatbox .casual .self .chat-name{display:none}.chatbox .casual .self .messages{padding-left:10%;padding-right:10px}.chatbox .casual .self .message-entry{text-align:right}.chatbox .casual .self .message{background:#09f;color:#fff;border-radius:20px .3em .3em 20px}.chatbox .casual .self .message-entry:last-child .message{border-bottom-right-radius:20px}.chatbox .casual .self .message-entry:first-child .message{border-top-right-radius:20px}.chatbox .casual .self .message-entry:only-child .message{border-radius:20px}.chatbox .chatbox-body{width:100%}.chatbox .chatbox-footer{border-top:1px solid rgba(0,0,0,.1);padding:10px}.chatbox .chatbox-footer .mode-links{display:block}.chatbox .chatbox-footer .mode-links a{display:inline-block;opacity:.5;padding:5px;color:inherit}.chatbox .chatbox-footer .mode-links a.active{opacity:1;font-weight:700}.chatbox .chatbox-footer textarea{max-height:150px;overflow:auto;resize:none;outline:none;border:none;width:100%;display:block;border-radius:5px;background-color:rgba(0,0,0,.05);color:inherit;padding:0 5px;height:30px;border:1px solid rgba(0,0,0,.1);line-height:30px}.chatbox .chatbox-footer textarea:focus{border:1px solid transparent}.chatbox .chatbox-footer.internal textarea{background:#fff5c0;color:#674300}",""]),t.exports=n},1246:function(t,e,o){"use strict";o(810)},1247:function(t,e,o){var n=o(9)(!1);n.push([t.i,".timeline-entry[data-v-30d2dc97]{cursor:pointer}",""]),t.exports=n},1258:function(t,e,o){"use strict";o(816)},1259:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.datestring{font-size:.8em;opacity:.5}.timeline-post .fluro-content-render-field{font-size:.9em;width:50%;float:left}",""]),t.exports=n},1260:function(t,e,o){"use strict";o(817)},1261:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.datestring{font-size:.8em;opacity:.5}",""]),t.exports=n},1262:function(t,e,o){"use strict";o(818)},1263:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.checkin-timeline-entry{padding:10px;font-style:italic;font-size:.8em}",""]),t.exports=n},1264:function(t,e,o){"use strict";o(819)},1265:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.log-timeline-entry{padding:10px;font-style:italic;font-size:.8em;color:rgba(0,0,0,.5)}",""]),t.exports=n},1266:function(t,e,o){"use strict";o(820)},1267:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.checkin-timeline-entry{padding:10px;font-style:italic;font-size:.8em}",""]),t.exports=n},1268:function(t,e,o){"use strict";o(821)},1269:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-f273885e]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-f273885e]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-f273885e]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-f273885e]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-f273885e]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-f273885e]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-f273885e]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-f273885e]{color:#6378f6!important;caret-color:#6378f6!important}.timeline-entry[data-v-f273885e]{cursor:pointer}",""]),t.exports=n},1270:function(t,e,o){"use strict";o(822)},1271:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-799ca264]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-799ca264]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-799ca264]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-799ca264]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-799ca264]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-799ca264]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-799ca264]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-799ca264]{color:#6378f6!important;caret-color:#6378f6!important}.timeline-entry[data-v-799ca264]{cursor:pointer}",""]),t.exports=n},1272:function(t,e,o){"use strict";o(823)},1273:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top,.timeline-entry{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.contact-timeline .timeline-wrapper{max-width:960px;margin:auto}.pulse{padding:0;background:#fff;border-radius:10px;margin-bottom:25px;overflow:hidden}.pulse .labels{padding:15px 15px 0}.pulse svg{display:block}.pill-box{padding:15px;background:#fff;border-radius:10px;margin-bottom:25px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1)}.pill-box div{font-size:1.3em}.log-message{font-size:.8em;opacity:.5;padding:5px;font-style:italic}.timeline-entry{padding:5px;position:relative;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.timeline-entry .summary{font-size:.8em;opacity:.5}.timeline-icon{text-align:center;width:34px;line-height:34px;height:34px;background:rgba(0,0,0,.1);border-radius:100%;display:block}",""]),t.exports=n},1280:function(t,e,o){"use strict";o(827)},1281:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-7cf53950]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-7cf53950]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-7cf53950]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-7cf53950]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-7cf53950]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-7cf53950]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-7cf53950]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-7cf53950]{color:#6378f6!important;caret-color:#6378f6!important}.card[data-v-7cf53950]{background:#fff;border-radius:5px;margin-bottom:10px;overflow:hidden}",""]),t.exports=n},1282:function(t,e,o){"use strict";o(828)},1283:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.sheet-panel.archived{opacity:.5}",""]),t.exports=n},1284:function(t,e,o){"use strict";o(829)},1285:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}",""]),t.exports=n},1286:function(t,e,o){"use strict";o(830)},1287:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-1648a433]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-1648a433]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-1648a433]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-1648a433]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-1648a433]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-1648a433]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-1648a433]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-1648a433]{color:#6378f6!important;caret-color:#6378f6!important}.thumbnail[data-v-1648a433]{width:50px;height:50px;background-size:contain;background-position:50%;background-repeat:no-repeat;display:block;border-radius:4px;margin-right:10px}",""]),t.exports=n},1288:function(t,e,o){"use strict";o(831)},1289:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.sheet-panel.archived{opacity:.5}",""]),t.exports=n},1306:function(t,e,o){"use strict";o(840)},1307:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.log-viewer{max-width:500px;max-height:70vh;height:100%}.log-viewer .timeline{background:#f4f4f4;padding-right:10px}.log-viewer .timeline .year{border-left:1px solid rgba(0,0,0,.1)}.log-viewer .timeline .year-label{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.4em;background:rgba(0,0,0,.1)}.log-viewer .timeline .month{border-top:1px solid rgba(0,0,0,.1)}.log-viewer .timeline .month-label{font-weight:500;text-transform:uppercase;display:block;padding:1px 10px;font-size:15px;margin:10px 0;color:rgba(0,0,0,.8)}.log-viewer .timeline .day{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.log-viewer .timeline .day-label{font-weight:600;font-size:10px;text-transform:uppercase;padding:5px 10px;border-top:1px solid rgba(0,0,0,.1);width:60px;white-space:nowrap;color:rgba(0,0,0,.3)}.log-viewer .timeline .entries{position:relative;top:-10px;background:#fff;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1);-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:15px}.log-viewer .timeline .entry{padding:8px;font-size:11px;background:#fff;border-top:1px solid rgba(0,0,0,.1);min-width:320px;cursor:pointer}.log-viewer .timeline .entry:hover{background:#fafafa}.log-viewer .timeline .entry:first-child{border-top:none}",""]),t.exports=n},1308:function(t,e,o){"use strict";o(842)},1309:function(t,e,o){var n=o(9)(!1);n.push([t.i,'.border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.modal-inner .content-edit{width:100%;min-width:80vw;min-height:80vh}.file-drop-area{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;overflow:hidden}.file-drop-area.active:before{pointer-events:none!important;content:"";width:100%;height:100%;left:0;top:0;right:0;bottom:0;position:absolute;background:rgba(99,120,246,.1);border:2px dashed #6378f6;z-index:1}',""]),t.exports=n},1310:function(t,e,o){"use strict";o(843)},1311:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-b947ae48]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-b947ae48]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-b947ae48]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-b947ae48]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-b947ae48]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-b947ae48]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-b947ae48]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-b947ae48]{color:#6378f6!important;caret-color:#6378f6!important}.settings-popup[data-v-b947ae48]{z-index:100}.white-background[data-v-b947ae48]{background:#fff}.content-edit[data-v-b947ae48]{background:#fafafa}.content-edit[data-v-b947ae48] .tabset-menu{background:#fff}.content-edit[data-v-b947ae48] .tabset-menu a.active{background:#fafafa}.content-edit[data-v-b947ae48] .v-text-field--outline .v-input__control .v-input__slot{border-width:1px!important;border-color:rgba(0,0,0,.3);background:#fff!important;-webkit-box-shadow:inset 0 1px 3px rgba(0,0,0,.1)!important;box-shadow:inset 0 1px 3px rgba(0,0,0,.1)!important}.content-edit[data-v-b947ae48] .v-text-field--outline.error--text .v-input__control .v-input__slot,.content-edit[data-v-b947ae48] .v-text-field--outline.success--text .v-input__control .v-input__slot,.content-edit[data-v-b947ae48] .v-text-field--outline.v-input--is-focused .v-input__control .v-input__slot{border-color:currentColor}.content-edit[data-v-b947ae48] .v-label{font-weight:500}",""]),t.exports=n},1372:function(t,e,o){"use strict";o(873)},1373:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-ade5fe4c]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-ade5fe4c]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-ade5fe4c]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-ade5fe4c]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-ade5fe4c]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-ade5fe4c]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-ade5fe4c]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-ade5fe4c]{color:#6378f6!important;caret-color:#6378f6!important}.modal-size[data-v-ade5fe4c]{max-width:800px!important;padding-top:24px}.modal-size .modal-body[data-v-ade5fe4c]{min-height:452px}.qr[data-v-ade5fe4c]{display:block;position:relative;height:0;overflow:hidden;padding-bottom:100%}.qr img[data-v-ade5fe4c]{width:100%;height:100%;position:absolute;left:-10%;right:-10%;bottom:-10%;top:-10%;border-radius:10px}",""]),t.exports=n},1374:function(t,e,o){"use strict";o(874)},1375:function(t,e,o){var n=o(9)(!1);n.push([t.i,".border-top[data-v-45065884]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-45065884]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-45065884]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-45065884]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-45065884]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-45065884]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-45065884]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-45065884]{color:#6378f6!important;caret-color:#6378f6!important}.modal[data-v-45065884]{width:800px!important}.modal .header[data-v-45065884]{padding:24px 24px 0}.modal .loading-spinner[data-v-45065884]{color:#b8babf;min-height:21px}.modal .url[data-v-45065884]{text-decoration:underline}",""]),t.exports=n},142:function(t,e,o){"use strict";e.a={methods:{getColor:function(t){return this.options.colors[t%this.options.colors.length]}}}},143:function(t,e,o){"use strict";o(23),o(17);e.a={computed:{},methods:{easterComputus:function(t){var e,a,b,o,n,r;return(e=new Date).setHours(0,0,0,0),e.setFullYear(t),a=t%19,n=1<=(o=0===(b=2200<=t&&t<=2299?(11*a+4)%30:(11*a+5)%30)||1===b&&a>10?b+1:b)&&o<=19?3:2,r=(50-o)%31,e.setMonth(n,r),e.setMonth(n,r+(7-e.getDay())),e},pentecostSunday:function(t){var e=easterComputus(t),o=moment(e).add(50,"days").toDate();return o},calculateRunningAverages:function(data){var t=[];return _.each(data,(function(e){if(e.AOT){var o=0,n=0,r={name:"".concat(e.name," - Average over time"),key:"".concat(e.key,"_AOT"),type:"line",data:_.map(e.data,(function(t){return n+=t,o+=1,parseInt(n/o)}))};t.push(r)}})),t}}}},170:function(t,e,o){"use strict";o(23);var n=o(91),r=o(113),c=o(35),l={props:{item:{type:Object,required:!0}},components:{FluroContentRender:n.default,FluroAvatar:r.a,FluroRealmBar:c.a},computed:{definedFields:function(){return this.item&&this.item.fullDefinition?this.item.fullDefinition.fields:[]},author:function(){return this.item.author&&this.item.author.name?this.item.author.name:this.item.managedAuthor&&this.item.managedAuthor.title?this.item.managedAuthor.title:"Someone"},definitionTitle:function(){return this.$fluro.types.readable(this.item.definition,!1,"post")},title:function(){return this.item.author||this.managedAuthor||!this.item.title?this.item.family?"".concat(this.author," posted a ").concat(this.definitionTitle," linked to the family household"):"".concat(this.author," posted a ").concat(this.definitionTitle):this.item.title},datestring:function(){return"".concat(this.$filters.formatDate(this.item.created,"h:mma")," - ").concat(this.$filters.formatDate(this.item.created,"dddd D MMM YYYY")," - ").concat(this.$filters.timeago(this.item.created)," ")}}},d=(o(1258),o(1)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry timeline-post"},[o("fluro-realm-bar",{attrs:{realm:t.item.realms}}),t._v(" "),o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[t.item.author?o("fluro-avatar",{attrs:{md:"",id:t.item.author,type:"user"}}):t.item.managedAuthor?o("fluro-avatar",{attrs:{md:"",id:t.item.managedAuthor,type:"persona"}}):o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{type:"post"}})],1)],1)],1),t._v(" "),o("v-flex",[o("v-container",{staticClass:"border-bottom",attrs:{"pa-2":""}},[o("v-layout",[o("v-flex",[o("strong",[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"datestring"},[t._v(t._s(t.datestring))])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$actions.open([t.item])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1),t._v(" "),o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$fluro.global.edit(t.item,!0)}}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1)],1)],1)],1),t._v(" "),o("v-container",{attrs:{"pa-2":""}},[t.item.body?o("div",[t._v(t._s(t.item.body))]):t._e(),t._v(" "),o("fluro-content-render",{attrs:{fields:t.definedFields},model:{value:t.item.data,callback:function(e){t.$set(t.item,"data",e)},expression:"item.data"}})],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},209:function(t,e,o){"use strict";o(21);var n=o(0),r=o.n(n),c={computed:{chartOptions:function(){var t=this,e=t.options;return r.a.get(e,"chart.width")||r.a.set(e,"chart.width",380),r.a.get(e,"chart.type")||r.a.set(e,"chart.type","pie"),r.a.get(e,"labels")||r.a.set(e,"labels",t.model.labels),r.a.get(e,"colors")||r.a.set(e,"colors",t.model.colors),r.a.get(e,"chart.toolbar")||r.a.set(e,"chart.toolbar",{show:!0,offsetX:0,offsetY:0,tools:{download:!0}}),r.a.get(e,"responsive")||r.a.set(e,"responsive",[{breakpoint:480,options:{legend:{position:"bottom"}}}]),r.a.set(e,"chart.events",{zoomed:function(e,o){t.$emit("chartEvent",{key:"zoom",event:o})},click:function(e,o,n){t.$emit("chartEvent",{key:"click",event:e,config:n})},markerClick:function(e,o,n){var r=n.seriesIndex,c=n.dataPointIndex,l=n.config;t.$emit("chartEvent",{key:"markerClick",event:e,seriesIndex:r,dataPointIndex:c,config:l})},dataPointSelection:function(e,o,n){console.log("datapointSelection",e,n),t.$emit("chartEvent",{key:"dataPointSelection",event:e,config:n})},legendClick:function(e,o,n){console.log("datapointSelection",event,n),t.$emit("chartEvent",{key:"dataPointSelection",event:event,seriesIndex:o})},scrolled:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"chartContext",xaxis:n})},beforeZoom:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"beforeZoom",xaxis:n})},dataPointMouseLeave:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseLeave",event:e,config:n})},dataPointMouseEnter:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseEnter",event:e,config:n})},selection:function(e,o){var n=o.xaxis,r=o.yaxis;t.$emit("chartEvent",{key:"selection",xaxis:n,yaxis:r})},mouseMove:function(e,o,n){t.$emit("chartEvent",{key:"mouseMove",event:e,config:n})},updated:function(e,o){t.$emit("chartEvent",{key:"updated",config:o})},mounted:function(e,o){t.$emit("chartEvent",{key:"mounted",config:o})},beforeMounted:function(e,o){t.$emit("chartEvent",{key:"beforeMounted",config:o})}}),t.annotations&&r.a.set(e,"annotations",t.annotations),e}},props:{value:{type:Object,required:!0},options:{type:Object,default:function(){return{}}},chartType:{type:String,default:"pie"},height:{type:Number},width:{type:Number,default:350},annotations:{type:Array}},components:{},methods:{},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}},asyncComputed:{}},l=o(1),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("apexchart",{attrs:{type:t.chartType,height:t.height,width:t.width,options:t.chartOptions,series:t.model.series.data}})],1)}),[],!1,null,null,null);e.a=component.exports},210:function(t,e,o){"use strict";o(17),o(12),o(51),o(48),o(23),o(281),o(21),o(14),o(56),o(57);var n=o(0),r=o.n(n),c=o(7),l=o.n(c),d=o(142),f=o(143),m={mixins:[d.a,f.a],computed:{actualChartType:function(){var t=this.chartType;return this.options._AOT&&"area"!=this.chartType&&(t="line"),t},mainChartId:function(){return this.$fluro.utils.guid()},brushedChartId:function(){return this.$fluro.utils.guid()},chartData:function(){var t=this,e=r.a.concat([],t.model.series);if(!r.a.get(r.a.first(t.model.series),"data.length"))return[];if(r.a.get(t,"options._AOT")){"line"!=t.chartType&&"area"!=t.chartType&&r.a.each(e,(function(t){t.type="column"}));var o=t.calculateRunningAverages(e);"area"==t.chartType&&(o=r.a.map(o,(function(t){return delete t.type,t}))),e=r.a.concat(e,o)}return e},brushedChartOptions:function(){var t=this,e=r.a.cloneDeep(t.chartOptions);r.a.set(e,"chart.height",130),delete e.chart.toolbar,r.a.set(e,"chart.id",t.brushedChartId),r.a.set(e,"chart.brush",{target:t.mainChartId,enabled:!0});var o=t.model.axis.data.length;r.a.set(e,"chart.selection",{enabled:!0,xaxis:{min:new Date(t.model.axis.data[Math.round(.6*o)]).getTime(),max:new Date(r.a.last(t.model.axis.data)).getTime()}}),r.a.set(e,"colors",["#008FFB"]),delete e.brushed,delete e.toolbar;var n=r.a.first(e.yaxis);return r.a.set(e,"yaxis",[n]),e.legend={show:!1},e},brushedChartData:function(){return[r.a.first(this.model.series)]},isBrushed:function(){return r.a.get(this,"options.brushed")}},asyncComputed:{chartOptions:function(){var t=this;return new Promise((function(e,o){var n=r.a.cloneDeep(t.options);if(r.a.get(n,"chart.height")||r.a.set(n,"chart.height",380),r.a.set(n,"chart.type",t.actualChartType),"area"==t.chartType&&r.a.get(n,"chart.dropShadow"),("bar"==n.chart.type||"column"==n.chart.type)&&!n.plotOptions){n.plotOptions={bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",dataLabels:{position:"bottom",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}}}}function c(e,o){var c={axisTicks:{show:!0},axisBorder:{show:!0,color:e.color||t.getColor(o)},labels:{style:{color:e.color||t.getColor(o)}},title:{text:e.name,style:{color:e.color||t.getColor(o)}},tooltip:{enabled:!0,shared:!0},show:!0};e.key.includes("_AOT")&&r.a.set(n,"stroke.dashArray[".concat(o,"]"),2),o>0&&r.a.set(c,"opposite",!0);var l=r.a.min(e.data)||0;l>0&&(l=Math.round(.97*l));var d=r.a.max(e.data)||0;return d=Math.round(1.03*d)||0,r.a.set(c,"min",l),r.a.set(c,"max",d),c}r.a.set(n,"chart.id",t.mainChartId),r.a.get(n,"colors")||r.a.set(n,"colors",t.theme.colors),r.a.get(n,"dataLabels")||r.a.set(n,"dataLabels",{enabled:!1}),r.a.get(n,"markers")||r.a.set(n,"markers",{size:0}),r.a.get(n,"labels")||r.a.set(n,"labels",{row:{colors:["#f3f3f3","transparent"],opacity:.5}}),r.a.get(n,"brushed")&&delete n.brushed,r.a.get(n,"legend")||r.a.set(n,"legend",{show:!0}),r.a.set(n,"xaxis",{categories:r.a.get(t.model,"axis.data"),title:{text:r.a.get(t.model,"axis.title")}}),r.a.get(n,"zoom")||(r.a.set(n,"zoom",{type:"x",enabled:!0,autoScaleYaxis:!0}),r.a.set(n,"chart.toolbar",{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:1,customIcons:[]},autoSelected:"zoom"})),t.isBrushed&&(delete n.zoom,r.a.set(n,"chart.toolbar",{autoSelected:"pan",show:!1})),t.model.axis.key.toLowerCase().includes("date")&&r.a.set(n,"xaxis.type","datetime"),r.a.get(n,"stroke")||r.a.set(n,"stroke",{width:3,curve:"smooth"}),t.chartType,r.a.set(n,"chart.events",{zoomed:function(e,o){t.$emit("chartEvent",{key:"zoom",event:o})},click:function(e,o,n){t.$emit("chartEvent",{key:"click",event:e,config:n})},markerClick:function(e,o,n){var r=n.seriesIndex,c=n.dataPointIndex,l=n.config;t.$emit("chartEvent",{key:"markerClick",event:e,seriesIndex:r,dataPointIndex:c,config:l})},dataPointSelection:function(e,o,n){t.$emit("chartEvent",{key:"dataPointSelection",event:e,config:n})},legendClick:function(e,o,n){t.$emit("chartEvent",{key:"dataPointSelection",event:event,seriesIndex:o})},scrolled:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"chartContext",xaxis:n})},beforeZoom:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"beforeZoom",xaxis:n})},dataPointMouseLeave:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseLeave",event:e,config:n})},dataPointMouseEnter:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseEnter",event:e,config:n})},selection:function(e,o){var n=o.xaxis,r=o.yaxis;t.$emit("chartEvent",{key:"selection",xaxis:n,yaxis:r})},mouseMove:function(e,o,n){t.$emit("chartEvent",{key:"mouseMove",event:e,config:n})},updated:function(e,o){t.$emit("chartEvent",{key:"updated",config:o})},mounted:function(e,o){t.$emit("chartEvent",{key:"mounted",config:o})},beforeMounted:function(e,o){t.$emit("chartEvent",{key:"beforeMounted",config:o})}});var d=r.a.get(n,"yaxis");if(!d){n.yaxis=d=[];var f=0;r.a.set(n,"stroke.dashArray",new Array(t.chartData.length).fill(0)),r.a.each(t.chartData,(function(t){d.push(c(t,f)),f+=1}))}if(!Array.isArray(d)){n.yaxis=d=[d];for(var i=1;i<t.chartData.length;i++)d.push(c(t.chartData[i],i))}if(t.chartData.length<d.length){var m=[];for(i=0;i<t.chartData.length;i++)m.push(d[i]);d=m,r.a.set(n,"yaxis",d)}if(t.annotations&&r.a.set(n,"annotations",t.annotations),!r.a.get(n,"annotations")&&t.model.axis.key.toLowerCase().includes("date")){var h=r.a.reduce(t.model.axis.data,(function(t,e,o){return t[l()(e).year()]=l()(e).year(),t}),{}),v=r.a.chain(h).map((function(e){return[{x:new Date("25 Dec ".concat(e)).getTime(),borderColor:"#775DD0",label:{style:{color:"#fff",background:"#775DD0"},text:"Christmas Day"}},{x:new Date(t.easterComputus(e)).getTime(),borderColor:"#775DD0",label:{style:{color:"#fff",background:"#775DD0"},text:"Easter Sunday"}}]})).flatten().value();r.a.set(n,"annotations",{xaxis:v})}e(n)}))},created:function(){}},props:{value:{type:Object,required:!0},options:{type:Object,default:function(){return{}}},chartType:{type:String,default:"line"},height:{type:Number,default:350},width:{type:Number},annotations:{type:Array},id:{type:String,default:function(){return r.a.get(this.options,"id")||Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}}},components:{},methods:{},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}}},h=o(1),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.chartOptions?o("div",[o("div",{attrs:{id:"mainChart"}},[o("apexchart",{attrs:{type:t.actualChartType,height:t.height,width:t.width,options:t.chartOptions,series:t.chartData}})],1),t._v(" "),t.isBrushed?o("div",{attrs:{id:"brushedChartKey"}},[o("apexchart",{attrs:{type:t.chartType,width:t.width,height:t.brushedChartOptions.chart.height,options:t.brushedChartOptions,series:t.brushedChartData}})],1):t._e()]):t._e()])}),[],!1,null,null,null);e.a=component.exports},211:function(t,e,o){"use strict";o(14),o(12),o(56),o(57),o(51),o(48),o(17),o(23),o(21);var n=o(0),r=o.n(n),c=o(7),l=o.n(c),d=o(142),f=o(143),m={mixins:[d.a,f.a],computed:{chartData:function(){var t=this,e=t.options,o=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);if(r.a.get(e,"chart.height")||r.a.set(e,"chart.height",180),console.log("chartType",t.chartType),r.a.get(e,"chart.type")||r.a.set(e,"chart.type","area"),r.a.get(e,"chart.dropShadow")||r.a.set(e,"chart.dropShadow",{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2}),r.a.get(e,"colors")||r.a.set(e,"colors",t.theme.colors),r.a.get(e,"zoom")||(r.a.set(e,"zoom",{type:"x",enabled:!0,autoScaleYaxis:!0}),r.a.set(e,"chart.toolbar",{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:1,customIcons:[]},autoSelected:"zoom"})),r.a.get(e,"dataLabels")||r.a.set(e,"dataLabels",{enabled:!1}),r.a.get(e,"stroke")||r.a.set(e,"stroke",{curve:"smooth"}),r.a.get(e,"markers")||r.a.set(e,"markers",{size:0}),r.a.get(e,"grid")||r.a.set(e,"labels",{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}}),r.a.get(e,"legend")||r.a.set(e,"legend",{show:!1}),r.a.set(e,"xaxis",{categories:r.a.get(t.model,"axis.data"),title:{text:r.a.get(t.model,"axis.title")}}),t.model.axis.key.toLowerCase().includes("date")&&r.a.set(e,"xaxis.type","datetime"),r.a.get(e,"stroke")||r.a.set(e,"stroke",{curve:"smooth"}),r.a.get(e,"title")||r.a.set(e,"title",{text:" ",align:"left"}),"area"==t.chartType&&(r.a.get(e,"fill")||r.a.set(e,"fill",{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}})),!r.a.get(e,"annotations")&&t.model.axis.key.toLowerCase().includes("date")){var n=r.a.reduce(t.model.axis.data,(function(t,e,o){return t[l()(e).year()]=l()(e).year(),t}),{}),c=r.a.chain(n).map((function(e){return[{x:new Date("25 Dec ".concat(e)).getTime(),borderColor:"#775DD0",label:{style:{color:"#fff",background:"#775DD0"},text:"Christmas Day"}},{x:new Date(t.easterComputus(e)).getTime(),borderColor:"#775DD0",label:{style:{color:"#fff",background:"#775DD0"},text:"Easter Sunday"}}]})).flatten().value();r.a.set(e,"annotations",{xaxis:c})}t.annotations&&r.a.set(e,"annotations",t.annotations),r.a.set(e,"chart.events",{zoomed:function(e,o){t.$emit("chartEvent",{key:"zoom",event:o})},click:function(e,o,n){t.$emit("chartEvent",{key:"click",event:e,config:n})},markerClick:function(e,o,n){var r=n.seriesIndex,c=n.dataPointIndex,l=n.config;t.$emit("chartEvent",{key:"markerClick",event:e,seriesIndex:r,dataPointIndex:c,config:l})},dataPointSelection:function(e,o,n){console.log("datapointSelection",e,n),t.$emit("chartEvent",{key:"dataPointSelection",event:e,config:n})},legendClick:function(e,o,n){console.log("datapointSelection",event,n),t.$emit("chartEvent",{key:"dataPointSelection",event:event,seriesIndex:o})},scrolled:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"chartContext",xaxis:n})},beforeZoom:function(e,o){var n=o.xaxis;t.$emit("chartEvent",{key:"beforeZoom",xaxis:n})},dataPointMouseLeave:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseLeave",event:e,config:n})},dataPointMouseEnter:function(e,o,n){t.$emit("chartEvent",{key:"dataPointMouseEnter",event:e,config:n})},selection:function(e,o){var n=o.xaxis,r=o.yaxis;t.$emit("chartEvent",{key:"selection",xaxis:n,yaxis:r})},mouseMove:function(e,o,n){t.$emit("chartEvent",{key:"mouseMove",event:e,config:n})},updated:function(e,o){t.$emit("chartEvent",{key:"updated",config:o})},mounted:function(e,o){t.$emit("chartEvent",{key:"mounted",config:o})},beforeMounted:function(e,o){t.$emit("chartEvent",{key:"beforeMounted",config:o})}});var d=0,f=t.model.series,m=[];return r.a.each(t.model.series,(function(n){var c=r.a.cloneDeep(e),l={axisTicks:{show:!0},axisBorder:{show:!0,color:t.getColor(d)},labels:{style:{color:t.getColor(d)}},title:{text:n.name,style:{color:t.getColor(d)}},tooltip:{enabled:!0},show:!0};d+=1;var h=r.a.min(n.data);h>0&&(h=Math.round(.97*h));var v=r.a.max(n.data);r.a.set(l,"min",h),r.a.set(l,"max",Math.round(1.03*v)||0),r.a.set(c,"yaxis",l),r.a.set(c,"id",n.key),r.a.set(c,"group",o),m.push({data:f,options:c,type:r.a.get(e,"chart.type")})})),r.a.get(t,"options._AOT")&&r.a.each(m,(function(e){var o=t.calculateRunningAverages(e.series);e.series.push(o);var n=r.a.get(e,"options.yaxis");d+=1;var c={axisTicks:{show:!0},axisBorder:{show:!0,color:t.getColor(d)},labels:{style:{color:t.getColor(d)}},title:{text:o.name,style:{color:t.getColor(d)}},tooltip:{enabled:!0},show:!0,opposite:!0};r.a.get(e,"options.stroke.dashArray")||r.a.set(e,"options.stroke.dashArray",[0]),e.options.stroke.dashArray.push(5),r.a.set(e,"options.yaxis",[n,c])})),console.log("Processed Data",m),m}},props:{value:{type:Object,required:!0},options:{type:Object,default:function(){return{}}},chartType:{type:String,default:"line"},height:{type:Number,default:350},width:{type:Number}},watch:{value:function(t){this.model=t}},components:{},methods:{},data:function(){return{model:this.value}},asyncComputed:{}},h=o(1),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.chartData,(function(e){return o("div",{key:e.key,attrs:{id:e.key}},[o("apexchart",{attrs:{height:t.height,width:t.width,type:e.type,options:e.options,series:e.data}})],1)})),0)}),[],!1,null,null,null);e.a=component.exports},217:function(t,e,o){"use strict";var n={props:{item:{type:Object,required:!0}},computed:{summary:function(){switch(this.item.state){case"sent":return"Sent to ".concat(this.item.email," - ").concat(this.$filters.formatDate(this.item.date,"h:mma"));case"click":return"Clicked";case"open":return"Read / Opened";case"error":return"Error sending to ".concat(this.item.email)}}}},r=(o(1246),o(1)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry",on:{click:function(e){return t.$fluro.global.view(t.item.mailout,!0)}}},[o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{icon:"envelope"}})],1)])],1),t._v(" "),o("v-flex",[o("v-container",{attrs:{"pa-2":""}},[o("strong",[t._v(t._s(t.item.mailout.subject||t.item.mailout.title))]),t._v(" "),o("div",{staticClass:"summary"},[t._v(t._s(t.summary))])])],1)],1)],1)}),[],!1,null,"30d2dc97",null);e.a=component.exports},218:function(t,e,o){"use strict";var n=o(35),r={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:n.a},computed:{}},c=(o(1268),o(1)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry border-top",on:{click:function(e){return t.$fluro.global.json(t.item)}}},[o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{library:"far",icon:"mobile-alt"}})],1)])],1),t._v(" "),o("v-flex",[o("v-container",{attrs:{"pa-2":""}},[o("strong",[t._v("SMS Message")]),t._v(" "),o("div",[t._v(t._s(t.item.message))]),t._v(" "),o("div",{staticClass:"summary"},[t._v("\n\t\t\t\t\tTo: "),o("strong",[t._v(t._s(t.item.number))]),t._v(" - From: "),o("strong",[t._v(t._s(t.item.senderName))]),t._v(" -\n\t\t\t\t\t"+t._s(t._f("formatDate")(t.item.date,"h:mma"))+"\n\t\t\t\t")])])],1)],1)],1)}),[],!1,null,"f273885e",null);e.a=component.exports},219:function(t,e,o){"use strict";var n=o(35),r={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:n.a},computed:{}},c=(o(1270),o(1)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry border-top",on:{click:function(e){return t.$fluro.global.json(t.item)}}},[o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{library:"far",icon:"envelope"}})],1)])],1),t._v(" "),o("v-flex",[o("v-container",{attrs:{"pa-2":""}},[o("strong",[t._v(t._s(t.item.subject))]),t._v(" "),o("div",{domProps:{innerHTML:t._s(t.item.body)}}),t._v(" "),o("div",{staticClass:"summary"},[t._v("\n\t\t\t\t\t"+t._s("sent"==t.item.state?"sent (unread)":t.item.state)+" - Sent to:\n\t\t\t\t\t"),o("strong",[t._v(t._s(t.item.toFirstName)+" "+t._s(t.item.toLastName)+" ("+t._s(t.item.toEmail)+")")]),t._v(" - From:\n\t\t\t\t\t"),o("strong",[t._v(t._s(t.item.fromFirstName)+" "+t._s(t.item.fromLastName)+" ("+t._s(t.item.fromEmail)+")")]),t._v(" -\n\t\t\t\t\t"+t._s(t._f("formatDate")(t.item.date,"h:mma"))+"\n\t\t\t\t")])])],1)],1)],1)}),[],!1,null,"799ca264",null);e.a=component.exports},279:function(t,e,o){"use strict";o(17),o(1371),o(21),o(12);var n=o(0),r=o.n(n),c=o(18),l=o(209),d=o(210),f=o(211),m=o(142),h=o(143),v={mixins:[m.a,h.a],computed:{compiledOptions:function(){var t=this,e=t.options||{};return r.a.get(e,"colors")||(e.colors=t.colors),r.a.each(t.series,(function(t){t.AOT&&(e._AOT=!0)})),e},cleansedChartType:function(){var t=this.chartType;return"column"==t&&(t="bar"),t},normalisedChartType:function(){var t=this.chartType;switch(t){case"bar":case"line":case"column":case"area":t="line";break;case"pie":case"donut":case"radialBar":t="pie"}return t},model:function(){var t=this;return t.value?t.value:t.items&&t.items.length?t.prepareItems:void 0},groupChartData:function(){var t=this,e=t.dataSource;if(!t.groupBy)return e;var o,n,l,d=(o=t.groupBy,n=e,l={},r.a.each(e.axis,(function(e,c){var d=t.getGroupDate(e,o),f=r.a.get(l,d);f||(f={}),r.a.each(t.series,(function(t){var e=r.a.get(f,t.key)||0;r.a.set(f,t.key,e+r.a.get(n,"series.".concat(t.key))[c])})),r.a.set(l,d,f)})),l),f={axis:[],series:{}};return r.a.each(t.series,(function(t){r.a.set(f,"series.".concat(t.key),[])})),r.a.each(d,(function(e,o){f.axis.push(c.moment.utc(o).format()),r.a.each(t.series,(function(t){r.a.get(f,"series.".concat(t.key)).push(r.a.get(e,t.key))}))})),f},chartData:function(){var t,e=this,o=0;(r.a.each(e.series,(function(t){r.a.get(t,"color")&&(e.colors[o]=r.a.get(t,"color")),o+=1})),"pie"===e.normalisedChartType)?t=r.a.first(r.a.map(e.series,(function(t){return{series:{name:r.a.get(t,"title"),data:r.a.get(e.dataSource,'series["'.concat(t.key,'"].data'))},labels:r.a.get(e.dataSource,'series["'.concat(t.key,'"].labels'))}}))):t={series:r.a.map(e.series,(function(t){return{name:r.a.get(t,"title"),data:r.a.get(e.groupChartData,"series.".concat(t.key)),key:t.key,color:t.color,AOT:t.AOT,type:r.a.get(t,"type")}})),axis:{title:r.a.get(e.axis,"title"),key:r.a.get(e.axis,"key"),data:r.a.get(e.groupChartData,"axis")}};return t},prepareItems:function(){var t=this,e=t.items;switch(t.chartType){case"bar":case"line":case"synced":case"column":case"area":if(!r.a.get(r.a.first(e),t.axis.key))return void console.log("dataset not contain axis",t.axis,e);var o=r.a.map(e,(function(e){var o={},n=r.a.get(e,t.axis.key);return r.a.set(o,"axis",n),r.a.each(t.series,(function(t){r.a.set(o,t.key,r.a.get(e,t.key)||0)})),o})),n={axis:[],series:{}};return r.a.each(t.series,(function(t){r.a.set(n,"series.".concat(t.key),[])})),r.a.each(o,(function(e){n.axis.push(e.axis),r.a.each(t.series,(function(t){var o=r.a.get(e,t.key);r.a.get(n,"series.".concat(t.key)).push(o)}))})),n;case"donut":case"radialBar":case"pie":o={};if(e instanceof Array&&t.axis){n={series:{}};return r.a.each(t.series,(function(o){var c=[],data=[];r.a.each(e,(function(e){var n=r.a.get(e,t.axis.key),l=r.a.get(e,o.key);(Number.isNaN(l)||null==l)&&(l=0),c.push(n),data.push(l)})),n.series[o.key]={labels:c,data:data}})),n}if(e instanceof Array)return r.a.each(t.series,(function(t){o[t.key]=r.a.countBy(e,t.key)})),o;r.a.each(t.series,(function(t){o[t.key]=r.a.get(e,t.key)}));var c={series:o};n={series:{}};return r.a.each(t.series,(function(t){var e=[],data=[];r.a.each(r.a.get(c,t),(function(t,o){(Number.isNaN(t)||null==t)&&(t=0),e.push(o),data.push(t)})),n.series[t.key]={labels:e,data:data}})),n}}},props:{value:{type:Object},groupBy:{type:String},endpoint:{type:String},chartType:{type:String,default:"line",required:!0},options:{type:Object,default:function(){return{}}},definition:{type:String},datePeriod:{type:Object,default:function(){return{start:Object(c.moment)().subtract(1,"year").toDate(),end:Object(c.moment)().toDate()}}},title:{type:String,default:""},series:{type:Array,required:!0},axis:{type:Object},height:{type:Number},width:{type:Number},annotations:{type:Array},items:{type:Array}},components:{FluroPieChart:l.a,FluroLineChart:d.a,FluroSyncedChart:f.a},methods:{chartEvent:function(t){this.$emit("chart-event",t)},getGroupDate:function(t,e){switch(e){case"4week":var o=Object(c.moment)(t).toDate(),n=(f=Object(c.moment)(o)).format("W"),r=f.format("YYYY"),l=4*Math.ceil(n/4),d=Math.min(l,52);return Object(c.moment)("".concat(d," ").concat(n>52?r-1:r),"W YYYY").toDate();case"6week":var f;o=Object(c.moment)(t).toDate(),n=(f=Object(c.moment)(o)).format("W"),r=f.format("YYYY"),l=6*Math.ceil(n/6),d=Math.min(l,52);return Object(c.moment)("".concat(d," ").concat(n>52?r-1:r),"W YYYY").toDate();default:return Object(c.moment)(t).startOf(e).toDate()}}},data:function(){return{loading:!0,colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#7adc12","#f34be2","#b76b1a","#ff7800"]}},watch:{},asyncComputed:{dataSource:{default:null,get:function(){var t=this;return new Promise((function(e,o){if(t.model)return e(t.model),void(t.loading=!1);var n=t.endpoint,c=r.a.map(t.series,(function(t){return t.key}));n||(n="chart/data/".concat(t.definition,"/").concat(t.chartType));var l={options:{startDate:t.datePeriod.start,endDate:t.datePeriod.end},series:c};t.axis.key&&(l.axis=t.axis.key),t.$fluro.api.post(n,l).then((function(o){e(o.data),t.loading=!1}),(function(e){o(e),t.loading=!1}))}))}}}},y=o(1),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.loading?[t._v("\n\t\tLoading Component\n\t\t"),o("v-progress-circular",{attrs:{indeterminate:""}})]:[t._t("title",(function(){return[o("h3",[t._v(t._s(t.title))])]})),t._v(" "),t._t("graph",(function(){return[t.dataSource?o("div",["pie"==t.normalisedChartType?o("div",[o("fluro-pie-chart",{attrs:{annotations:t.annotations,options:t.compiledOptions,chartType:t.cleansedChartType,height:t.height,width:t.width},on:{chartEvent:t.chartEvent},model:{value:t.chartData,callback:function(e){t.chartData=e},expression:"chartData"}})],1):"line"==t.normalisedChartType?o("div",[o("fluro-line-chart",{attrs:{annotations:t.annotations,options:t.compiledOptions,chartType:t.cleansedChartType,height:t.height,width:t.width},on:{chartEvent:t.chartEvent},model:{value:t.chartData,callback:function(e){t.chartData=e},expression:"chartData"}})],1):"synced"==t.normalisedChartType?o("div",[o("fluro-synced-chart",{attrs:{annotations:t.annotations,options:t.compiledOptions,chartType:t.cleansedChartType,height:t.height,width:t.width},on:{chartEvent:t.chartEvent},model:{value:t.chartData,callback:function(e){t.chartData=e},expression:"chartData"}})],1):t._e()]):t._e()]})),t._v(" "),t._t("footer")]],2)}),[],!1,null,null,null);e.a=component.exports},280:function(t,e,o){"use strict";o(12);var n=o(0),r=o.n(n),c={props:{hideTitle:{type:Boolean,default:!1},embedded:{type:Boolean},id:{type:[String,Object],required:!0},type:{type:String,required:!0},definition:{type:String},options:{default:function(){return{}},type:Object}},data:function(){return{loadingConfig:!0,loadingModel:!0,cacheKey:0}},methods:{toggleFilters:function(){this.$refs&&this.$refs.view&&this.$refs.view.toggleFilters&&this.$refs.view.toggleFilters()},refresh:function(){this.cacheKey++},cancel:function(){this.$emit("cancel")},edit:function(){var t=this;t.$fluro.global.edit(t.model).then((function(e){console.log("Edited"),t.refresh()}))}},created:function(){this.model&&!this.model.data&&this.$set(this.model,"data",{})},computed:{showFilters:function(){return this.filterable&&this.$refs.view&&this.$refs.view.showFilters},refreshable:function(){return"query"==this.type},filterable:function(){return"query"==this.type},component:function(){var t=this;if(this.type)return function(){return o(1312)("./".concat(t.type,".vue"))}},summary:function(){var t=this;switch(t.type){case"event":return t.$fluro.date.readableEventDate(t.model);case"plan":var e,o=r.a.get(t.model,"event.title"),n=r.a.get(t.model,"startDate");if(o)return(e=t.$fluro.date.readableEventDate(t.model.event))?"".concat(e," - ").concat(t.model.event.title):void 0;if(n)return(e=t.$fluro.date.formatDate(n,"h:mm ddd D MMM"))||void 0}},typeName:function(){return this.definition||this.type},title:function(){return this.model.title},definitionTitle:function(){return this.config.definition?this.config.definition.title:this.config.type.title},canDownload:function(){switch(this.type){case"asset":case"audio":case"video":case"image":return!0}},canEdit:function(){if("mailout"===this.type)if("sent"==this.model.state)return;return this.$fluro.access.canEditItem(this.model)},itemID:function(){return this.$fluro.utils.getStringID(this.id)},loading:function(){return this.loadingModel||this.loadingConfig}},asyncComputed:{config:{default:null,get:function(){var t=this;return t.loadingConfig=!0,new Promise((function(e,o){return t.$fluro.api.get("/defined/type/".concat(t.typeName)).then((function(o){e(o.data),t.loadingConfig=!1}),o)}))}},model:{default:null,get:function(){var t=this;return t.loadingModel=!0,new Promise((function(e,o){t.$fluro.content.get(t.itemID,{appendContactDetail:"all",appendAssignments:"all",type:t.type,cacheKey:t.cacheKey}).then((function(o){o.data||(o.data={}),e(o),t.loadingModel=!1})).catch((function(o){console.log("Error",o),e(null),t.loadingModel=!1}))}))}}}},l=o(1),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"content-view"},[t.loading?o("fluro-page-preloader",{attrs:{contain:""}}):t.model?[t.hideTitle?t._e():o("flex-column-header",{staticClass:"border-bottom"},[o("page-header",{attrs:{type:t.type},scopedSlots:t._u([{key:"left",fn:function(){return[o("div",[o("h3",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.title)+"\n\t\t\t\t\t\t\t\t"),o("span",{staticClass:"small text-muted"},[t._v(t._s(t.definitionTitle))])]),t._v(" "),t.summary?o("v-label",[t._v(t._s(t.summary))]):t._e()],1)]},proxy:!0},{key:"right",fn:function(){return[t.embedded?[t.model._id?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"mr-0",attrs:{content:"More actions",icon:"",small:""},on:{click:function(e){return t.$actions.open([t.model])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.canEdit?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Edit",icon:"",small:""},on:{click:t.edit}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1):t._e(),t._v(" "),t.canDownload?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Download",icon:"",small:"",href:t.$fluro.asset.downloadUrl(t.model),target:"_blank"}},[o("fluro-icon",{attrs:{icon:"cloud-download"}})],1):t._e()]:[t.refreshable?o("v-btn",{staticClass:"mr-0",attrs:{icon:""},on:{click:function(e){return t.refresh()}}},[o("fluro-icon",{attrs:{icon:"sync"}})],1):t._e(),t._v(" "),t.model._id?o("v-btn",{staticClass:"mr-0",attrs:{icon:""},on:{click:function(e){return t.$actions.open([t.model])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.filterable?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"mr-0",attrs:{content:t.showFilters?"Hide Filters":"Show Filters"},on:{click:function(e){return t.toggleFilters()}}},[t._v("\n\t\t\t\t\t\t\t\tFilters\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"filter",library:t.showFilters?"fas":"far",right:""}})],1):t._e(),t._v(" "),o("v-btn",{staticClass:"mr-0",on:{click:t.cancel}},[t._v("Close")]),t._v(" "),t.canEdit?o("v-btn",{staticClass:"mr-0",on:{click:t.edit}},[t._v("\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{right:"",icon:"pencil"}})],1):t._e(),t._v(" "),t.canDownload?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Download",icon:"",small:"",href:t.$fluro.asset.downloadUrl(t.model),target:"_blank"}},[o("fluro-icon",{attrs:{icon:"cloud-download"}})],1):t._e()]]},proxy:!0},{key:"rightmobile",fn:function(){return[t.refreshable?o("v-btn",{staticClass:"mr-0",attrs:{icon:"",small:""},on:{click:function(e){return t.refresh()}}},[o("fluro-icon",{attrs:{icon:"sync"}})],1):t._e(),t._v(" "),t.model._id?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"mr-0",attrs:{content:"More actions",icon:"",small:""},on:{click:function(e){return t.$actions.open([t.model])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.filterable?o("v-btn",{staticClass:"mr-0",attrs:{icon:""},on:{click:function(e){return t.toggleFilters()}}},[o("fluro-icon",{attrs:{icon:"filter"}})],1):t._e(),t._v(" "),t.canEdit?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Edit",icon:"",small:""},on:{click:t.edit}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1):t._e(),t._v(" "),t.canDownload?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Download",icon:"",small:"",href:t.$fluro.asset.downloadUrl(t.model),target:"_blank"}},[o("fluro-icon",{attrs:{icon:"cloud-download"}})],1):t._e()]},proxy:!0}],null,!1,1642774021)})],1),t._v(" "),t.component?o(t.component,{ref:"view",tag:"component",attrs:{item:t.model,cacheKey:t.cacheKey,config:t.config}}):t._e()]:t._e()],2)}),[],!1,null,"18e6c510",null);e.a=component.exports},290:function(t,e,o){"use strict";o(17),o(42),o(112),o(55),o(12),o(31);var n=o(192),r=o(217),c=o(170),l=(o(23),o(91)),d=o(113),f=o(35),m={props:{item:{type:Object,required:!0}},components:{FluroContentRender:l.default,FluroAvatar:d.a,FluroRealmBar:f.a},computed:{definedFields:function(){return this.item.fullDefinition.fields},author:function(){return this.item.author&&this.item.author.name?this.item.author.name:this.item.managedAuthor&&this.item.managedAuthor.title?this.item.managedAuthor.title:"Someone"},definitionTitle:function(){return this.$fluro.types.readable(this.item.definition,!1,"post")},title:function(){return"Submitted a ".concat(this.definitionTitle," form")},datestring:function(){return"".concat(this.$filters.formatDate(this.item.created,"h:mma")," - ").concat(this.$filters.formatDate(this.item.created,"dddd D MMM YYYY")," - ").concat(this.$filters.timeago(this.item.created)," ")}}},h=(o(1260),o(1)),v=Object(h.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$fluro.global.view(t.item,!0)}}},[o("fluro-realm-bar",{attrs:{realm:t.item.realms}}),t._v(" "),o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{type:"interaction"}})],1)])],1),t._v(" "),o("v-flex",[o("v-container",{attrs:{"pa-2":""}},[o("v-layout",[o("v-flex",[o("strong",[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"datestring"},[t._v(t._s(t.datestring))])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$actions.open([t.item])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1),t._v(" "),o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$fluro.global.edit(t.item,!0)}}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,y={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:f.a},computed:{checkinTime:function(){return this.$filters.formatDate(this.item.event.startDate,"h:mma")},eventTitle:function(){return this.item.event.title},title:function(){return"Checked in to ".concat(this.eventTitle)}}},x=(o(1262),Object(h.a)(y,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"checkin-timeline-entry border-top",on:{click:function(e){return t.$fluro.global.edit(t.item.event,!0)}}},[o("fluro-realm-bar",{attrs:{realm:t.item.realms}}),t._v(" "),o("span",{staticClass:"muted"},[t._v("\n\t\tChecked in to "),o("strong",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$fluro.global.view(t.item.event,!0)}}},[t._v(t._s(t.eventTitle))]),t._v(" -\n\t\t"+t._s(t.checkinTime)+"\n\t")])],1)}),[],!1,null,null,null).exports),k=(o(60),o(22),o(76),o(84),o(11));function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(k.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:f.a},methods:{viewDetail:function(){this.$fluro.global.json&&this.$fluro.global.json(this.item)}},computed:{author:function(){var t=this.item;return t.user&&t.user._id?w({title:t.user.name,type:"user"},t.user):t.managedUser&&t.managedUser._id?w({type:"persona"},t.managedUser):void 0}}},D=(o(1264),Object(h.a)($,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"log-timeline-entry border-top",on:{click:t.viewDetail}},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[t.author?[t._v(t._s(t.author.title)+" -")]:t._e(),t._v(" "+t._s(t.item.message)+"\n\t\t\t\t"),o("em",{staticClass:"muted"},[t._v("- "+t._s(t._f("formatDate")(t.item.date,"h:mma"))+" ("+t._s(t._f("timeago")(t.item.date))+")")])],2),t._v(" "),t.author?o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-0":"","pl-2":""}},[o("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.author.title,id:t.author._id,type:t.author.type}})],1)],1):t._e()],1)],1)}),[],!1,null,null,null).exports),S=o(922),M=o(218),E=o(219),O=o(0),T=o.n(O),A={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:f.a},computed:{links:function(){if("assignment"===this.type)return T.a.chain(this.item.entries).map((function(t){return T.a.get(t,"roster.event")})).compact().uniqBy((function(t){return t._id})).value()},type:function(){return this.item.type},realms:function(){return T.a.chain(this.item.entries).map("realms").flatten().uniq().compact().value()},title:function(){if("assignment"===this.item.type){var t=T.a.chain(this.item.entries).map((function(t){return t.title})).compact().uniq().value().join(", ");return"Rostered as ".concat(t)}},icon:function(){var t=this;return"assignment"===t.item.type?"calendar":t.$fluro.types.icon(t.item.type)}}},j=Object(h.a)(A,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry border-top"},[o("fluro-realm-bar",{attrs:{realm:t.realms}}),t._v(" "),o("pre",[t._v(t._s(t.item))])],1)}),[],!1,null,null,null).exports,N=o(7),P=o.n(N),I="MMM YYYY",F={props:{items:{type:Array},value:{type:Object}},components:{FluroTimeline:n.a,MailoutCard:r.a,PostCard:c.a,InteractionCard:v,CheckinCard:x,LogCard:D,RosterCard:S.a,TextMessageCard:M.a,EmailMessageCard:E.a,GroupedCard:j},data:function(){return{loading:!1,model:this.value,months:[]}},mounted:function(){var t,e;this.months=(t=P()().subtract(24,"months"),e=P()(),Array.from({length:e.diff(t,"month")+1}).map((function(e,o){return P()(t).add(o,"month").format(I)})))},computed:{firstInteraction:function(){return this.model.created||(_.last(this.array)||{}).date},lastActivity:function(){return(_.first(this.array)||{}).date},frequency:function(){return Math.round(_.sum(this.points)/this.points.length)},points:function(){var t=_.chain(this.array).reduce((function(t,e,o){var n=P()(e.date).format(I),r=t[n];return r||(r=t[n]={index:o,date:n,count:0}),r.count++,t}),{}).value();return _.map(this.months,(function(e){var o=t[e];return o?o.count:0}))}},asyncComputed:{array:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.model);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/contact/".concat(e,"/timeline")).then((function(e){o(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},Y=(o(1272),Object(h.a)(F,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-timeline"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("fluro-timeline",{scopedSlots:t._u([{key:"above",fn:function(){return[o("v-label",[t._v("Activity Heartbeat")]),t._v(" "),o("p"),t._v(" "),o("div",{staticClass:"pulse"},[o("div",{staticClass:"labels"},[o("v-layout",[o("v-flex",[o("v-label",[t._v(t._s(t.months[0]))])],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-flex",{staticClass:"text-xs-right"},[o("v-label",[t._v(t._s(t.months[t.months.length-1]))])],1)],1)],1),t._v(" "),t.points&&t.points.length?o("v-sparkline",{attrs:{lineWidth:0,gradient:["#6378f6","#eee"],fill:!0,height:40,padding:0,value:t.points,smooth:3,"auto-draw":""}}):t._e()],1),t._v(" "),o("v-container",{attrs:{"grid-list-md":"",fluid:"","pa-0":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",[o("div",{staticClass:"pill-box"},[o("v-label",[t._v("Created")]),t._v(" "),o("div",[t._v(t._s(t._f("timeago")(t.firstInteraction)))])],1)]),t._v(" "),o("v-flex",[o("div",{staticClass:"pill-box"},[o("v-label",[t._v("Last Activity")]),t._v(" "),o("div",[t._v(t._s(t._f("timeago")(t.lastActivity)))])],1)])],1)],1)]},proxy:!0},{key:"card",fn:function(e){var n=e.entry;return[n.grouped?t._l(n.entries,(function(t){return o("log-card",{key:t._id,attrs:{item:t}})})):n._type?["mailout"==n._type?[o("mailout-card",{attrs:{item:n}})]:"post"==n._type?[o("post-card",{attrs:{item:n}})]:"interaction"==n._type?[o("interaction-card",{attrs:{item:n}})]:"checkin"==n._type?[o("checkin-card",{attrs:{item:n}})]:"assignment"==n._type?[o("roster-card",{attrs:{item:n}})]:"sms"==n._type?[o("text-message-card",{attrs:{item:n}})]:"simpleemail"==n._type?[o("email-message-card",{attrs:{item:n}})]:[o("div",{staticClass:"timeline-card"},[o("pre",[t._v(t._s(n))])])]]:[o("log-card",{attrs:{item:n}})]]}}]),model:{value:t.array,callback:function(e){t.array=e},expression:"array"}})]],2)}),[],!1,null,null,null));e.a=Y.exports},293:function(t,e,o){"use strict";o(12),o(22),o(51),o(48);var n=o(0),r=o.n(n),c=o(170),l=o(92),d={props:{contact:{type:Object}},components:{PostCard:c.a,AddPost:l.a},data:function(){return{loading:!1}},methods:{create:function(t){var e=this,o={definition:t,item:e.contact};e.$fluro.modal({component:l.a,options:o}).then((function(){e.$fluro.resetCache()}))}},asyncComputed:{postTypes:{default:[],get:function(){var t=this;return new Promise((function(e,o){t.$fluro.types.subTypes("post").then((function(o){var n=r.a.filter(o,(function(e){if(r.a.chain(e).get("data.postParentTypes").includes("contact").value()){var o=t.$fluro.access.can("submit",e.definitionName,"post"),n=t.$fluro.access.can("create",e.definitionName,"post");return o||n}}));e(n)})).catch(o)}))}},items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/info/posts?contact=".concat(e)).then((function(e){o(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},f=(o(1280),o(1)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-post-thread"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-header",[o("v-container",{staticClass:"border-bottom text-xs-center",staticStyle:{background:"#fff"},attrs:{fluid:""}},t._l(t.postTypes,(function(e){return o("v-btn",{attrs:{small:""},on:{click:function(o){return t.create(e)}}},[t._v("\n\t\t\t\t\tAdd "+t._s(e.title)+"\n\t\t\t\t\t"),o("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)})),1)],1),t._v(" "),o("flex-column-body",{staticStyle:{background:"#fff"}},[o("v-container",t._l(t.items,(function(t){return o("div",{staticClass:"card"},[o("post-card",{attrs:{item:t}})],1)})),0)],1)]],2)}),[],!1,null,"7cf53950",null);e.a=component.exports},294:function(t,e,o){"use strict";o(12),o(17);var n=o(0),r=o.n(n),c=o(217),l=o(218),d=o(219),f={props:{contact:{type:Object}},components:{MailoutCard:c.a,TextMessageCard:l.a,EmailMessageCard:d.a},data:function(){return{loading:!1}},computed:{timeline:function(){var t=this,e=[];return e=r.a.chain(e.concat(t.sms,t.emails,t.simple)).orderBy((function(t){return new Date(t.date)})).reverse().value(),t.$fluro.date.timeline(e,"date")}},asyncComputed:{sms:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/contact/".concat(e,"/sms")).then((function(e){var n=r.a.map(e.data,(function(t){return t._type="sms",t}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}},simple:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/contact/".concat(e,"/email")).then((function(e){var n=r.a.map(e.data,(function(t){return t._type="simpleemail",t}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}},emails:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/info/correspondence?contact=".concat(e)).then((function(e){var n=r.a.map(e.data,(function(t){return t._type="mailout",t}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},m=(o(1284),o(1)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-message-list"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fff"}},[o("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return o("div",{staticClass:"year"},[o("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return o("div",{staticClass:"month"},[o("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return o("div",{staticClass:"day"},[o("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),o("div",{staticClass:"entries"},t._l(e.items,(function(t){return o("div",{key:t._id},["mailout"==t._type?o("mailout-card",{attrs:{item:t}}):"sms"==t._type?o("text-message-card",{attrs:{item:t}}):o("email-message-card",{attrs:{item:t}})],1)})),0)])}))],2)}))],2)})),0)])]],2)}),[],!1,null,null,null);e.a=component.exports},295:function(t,e,o){"use strict";o(12),o(17);var n=o(0),r=o.n(n),c={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/info/transactions?contact=".concat(e)).then((function(e){var n=r.a.map(e.data,(function(e){return e.formattedAmount=t.$fluro.utils.formatCurrency(e.amount,e.currency),e}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},l=o(1),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-transaction-list"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fff"}},[o("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return o("div",{staticClass:"year"},[o("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return o("div",{staticClass:"month"},[o("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return o("div",{staticClass:"day"},[o("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),o("div",{staticClass:"entries"},t._l(e.items,(function(e){return o("div",{key:e._id,staticClass:"entry",on:{click:function(o){return t.$fluro.global.view(e,!0)}}},[o("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),o("v-layout",[o("v-flex",[o("strong",[t._v(t._s(e.title))]),t._v(" "),o("div",[t._v(t._s(e.formattedAmount))]),t._v(" "),o("div",{staticClass:"text-muted sm"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.module)+" - "+t._s(e.paymentStatus)+" -\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("formatDate")(e.created,"dddd D MMM YYYY"))+" ("+t._s(t._f("timeago")(e.created))+")\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),t.$actions.open([e])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)}),[],!1,null,null,null);e.a=component.exports},296:function(t,e,o){"use strict";o(12),o(17);var n=o(0),r=o.n(n),c={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/info/interactions?contact=".concat(e)).then((function(e){var n=r.a.map(e.data,(function(t){return t}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},l=o(1),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-interaction-list"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fff"}},[o("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return o("div",{staticClass:"year"},[o("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return o("div",{staticClass:"month"},[o("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return o("div",{staticClass:"day"},[o("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),o("div",{staticClass:"entries"},t._l(e.items,(function(e){return o("div",{key:e._id,staticClass:"entry",on:{click:function(o){return t.$fluro.global.view(e,!0)}}},[o("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),o("v-layout",[o("v-flex",[o("strong",[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"text-muted sm"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("formatDate")(e.created,"dddd D MMM YYYY"))+" ("+t._s(t._f("timeago")(e.created))+")\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),t.$actions.open([e])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)}),[],!1,null,null,null);e.a=component.exports},297:function(t,e,o){"use strict";o(12),o(17);var n=o(0),r=o.n(n),c={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"event.startDate")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/info/checkins?contact=".concat(e)).then((function(e){var n=r.a.map(e.data,(function(t){return t}));o(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},l=(o(1286),o(1)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-checkin-list"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fff"}},[o("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return o("div",{staticClass:"year"},[o("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return o("div",{staticClass:"month"},[o("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return o("div",{staticClass:"day"},[o("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),o("div",{staticClass:"entries"},t._l(e.items,(function(e){return o("div",{key:e._id,staticClass:"entry",on:{click:function(o){return t.$fluro.global.view(e,!0)}}},[o("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{attrs:{shrink:""}},[o("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.coverUrl(e.event._id,"event",{w:50})+")"}})]),t._v(" "),o("v-flex",[o("div",[o("strong",[t._v(t._s(e.event.title))]),t._v(" "),o("div",[o("strong",{staticClass:"sm"},[t._v(t._s(t._f("readableEventDate")(e.event)))])]),t._v(" "),o("div",{staticClass:"sm text-muted"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("definitionTitle")(e.event.definition?e.event.definition:"event"))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.event.firstLine)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),t.$actions.open([e])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)}),[],!1,null,"1648a433",null);e.a=component.exports},298:function(t,e,o){"use strict";var n=o(25),r={props:{options:{type:Object}},mixins:[n.a],computed:{application:function(){return this.options.item||{}},qrURL:function(){return"".concat(this.$fluro.apiURL,"/system/qr?input=fluromanifest://").concat(this.application.domain)}}},c=(o(1372),o(1)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"modal-size"},[o("flex-column-header",[o("page-header",{attrs:{icon:"mobile"},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("Run Check-In on your device")])]},proxy:!0}])})],1),t._v(" "),o("flex-column-body",[o("v-container",{staticClass:"modal-body",attrs:{"grid-list-xl":"",fluid:""}},[o("v-layout",[o("v-flex",{attrs:{xs8:""}},[o("h4",{staticClass:"mb-2"},[t._v("Use the Legacy Kiosk App")]),t._v(" "),o("p",[t._v("\n            The Legacy Kiosk App allows you to view your Check-In Station on any iOS device. Get it from the Apple App\n            Store below.\n          ")]),t._v(" "),o("p",[t._v("\n            Support for the Legacy Kiosk app will cease on Jan 1, 2024. At this point, you can continue to use the app\n            where it's already installed, but bugs will no longer be addressed and it will be removed from the app\n            store.\n          ")]),t._v(" "),o("v-layout",[o("v-btn",{attrs:{color:"primary",href:"https://apps.apple.com/au/app/fluro-kiosk/id1539557322"}},[t._v("\n              Get the Legacy Kiosk App "),o("fluro-icon",{attrs:{right:"",icon:"apple",library:"fab"}})],1)],1)],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-flex",{attrs:{xs4:""}},[o("h4",{staticClass:"mb-2"},[t._v("Scan '"+t._s(t.application.title)+"' Code")]),t._v(" "),o("p",[t._v("Scan the QR Code below to connect the Legacy Kiosk App to this Check-In Station.")]),t._v(" "),o("div",{staticClass:"qr"},[o("img",{attrs:{src:t.qrURL}})])])],1)],1)],1),t._v(" "),o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{attrs:{"px-0":"","py-2":""}},[o("v-layout",[o("v-spacer"),t._v(" "),o("v-btn",{on:{click:function(e){return t.close()}}},[t._v(" Done ")])],1)],1)],1)],1)}),[],!1,null,"ade5fe4c",null);e.a=component.exports},299:function(t,e,o){"use strict";var n=o(29),r=(o(65),{mixins:[o(25).a],data:function(){return{loading:!1}},asyncComputed:{dashboardAdminEmails:{default:[],get:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=t).loading=!0,e.prev=2,e.next=5,t.$fluro.api.get("/dashboard/adminEmails");case 5:if(n=e.sent,!(r=n.data)||!r.length){e.next=9;break}return e.abrupt("return",r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t.$fluro.error(e.t0);case 14:return e.prev=14,o.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()}}}}),c=(o(1374),o(1)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"modal"},[o("flex-column-header",{staticClass:"header"},[o("h3",[t._v("You need permission")])]),t._v(" "),o("flex-column-body",[o("v-container",[o("p",[t._v("\n        Your account only has access to Church Management. An administrator on your team can help you set up a new\n        device using their account or they can give you access to the rest of the Dashboard.\n      ")]),t._v(" "),o("p",[t._v("\n        You are signed in as "),o("strong",[t._v(t._s(t.user.email))])]),t._v(" "),o("p",[t._v("Request access from one of these administrators:")]),t._v(" "),t.loading?o("div",{staticClass:"loading-spinner mb-3"},[o("v-progress-circular",{attrs:{indeterminate:"",size:20}})],1):o("ul",{staticClass:"mb-3"},t._l(t.dashboardAdminEmails,(function(e,i){return o("li",{key:i},[o("strong",[t._v(t._s(e))])])})),0),t._v(" "),o("ol",{staticClass:"mb-3"},[o("li",[t._v("\n          Send your administrator this url:\n          "),o("span",{staticClass:"url"},[t._v("https://dashboard.subsplash.com/settings/#/users")])]),t._v(" "),o("li",[t._v('\n          Ask them to invite you to the Dashboard with either "Content Manager" or "Administrator" permissions\n          '),o("strong",[t._v("using the same email you are signed in with above")]),t._v(".\n        ")]),t._v(" "),o("li",[t._v("Accept the invitation from your email then log back in to your account.")])]),t._v(" "),o("p",{staticClass:"mb-0"},[t._v("\n        After logging back in you should be able to access this part of the Dashboard and set up a new device.\n      ")])])],1),t._v(" "),o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{attrs:{"px-0":"","py-2":""}},[o("v-layout",[o("v-spacer"),t._v(" "),o("v-btn",{on:{click:function(e){return t.close()}}},[t._v(" Done ")])],1)],1)],1)],1)}),[],!1,null,"45065884",null);e.a=component.exports},327:function(t,e,o){var content=o(1013);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("6ef09cae",content,!0,{sourceMap:!1})},810:function(t,e,o){var content=o(1247);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("248afd3c",content,!0,{sourceMap:!1})},816:function(t,e,o){var content=o(1259);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("f5db8d46",content,!0,{sourceMap:!1})},817:function(t,e,o){var content=o(1261);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("7f75ec8e",content,!0,{sourceMap:!1})},818:function(t,e,o){var content=o(1263);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("d11c5422",content,!0,{sourceMap:!1})},819:function(t,e,o){var content=o(1265);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("58186d1d",content,!0,{sourceMap:!1})},820:function(t,e,o){var content=o(1267);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("2b4fff06",content,!0,{sourceMap:!1})},821:function(t,e,o){var content=o(1269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("7f2e1fc0",content,!0,{sourceMap:!1})},822:function(t,e,o){var content=o(1271);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("ee4d336e",content,!0,{sourceMap:!1})},823:function(t,e,o){var content=o(1273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("f132ce86",content,!0,{sourceMap:!1})},827:function(t,e,o){var content=o(1281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("2537f7e2",content,!0,{sourceMap:!1})},828:function(t,e,o){var content=o(1283);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("50270f99",content,!0,{sourceMap:!1})},829:function(t,e,o){var content=o(1285);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("3246046b",content,!0,{sourceMap:!1})},830:function(t,e,o){var content=o(1287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("db84f4d0",content,!0,{sourceMap:!1})},831:function(t,e,o){var content=o(1289);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("d70e8c1e",content,!0,{sourceMap:!1})},840:function(t,e,o){var content=o(1307);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("0b1603e2",content,!0,{sourceMap:!1})},842:function(t,e,o){var content=o(1309);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("1e30db97",content,!0,{sourceMap:!1})},843:function(t,e,o){var content=o(1311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("3815c28b",content,!0,{sourceMap:!1})},873:function(t,e,o){var content=o(1373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("5e6b7198",content,!0,{sourceMap:!1})},874:function(t,e,o){var content=o(1375);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("4509bc9d",content,!0,{sourceMap:!1})},889:function(t,e,o){"use strict";o(93),o(12),o(23);var n=o(0),r=o.n(n),c=o(135),l=o(963),d=o(83),f=o(172),m=o(87),h=o(50),v={props:{item:{type:[Object,String],required:!0}},data:function(){return{loading:!1}},computed:{itemID:function(){return this.$fluro.utils.getStringID(this.item)},dates:function(){return this.$fluro.date.timeline(this.log,"created")}},methods:{promptOptions:function(t){var e=this,o=[];return o.push({title:"View details",value:"log"}),o.push({title:"Undo / Rollback changes",value:"rollback"}),e.$fluro.options(o,"Log options").then((function(o){switch(o.value){case"log":e.$fluro.global.json(t,{title:t.message,depth:5});break;case"rollback":e.$fluro.confirm("Confirm Rollback","Are you sure you want to rollback ".concat(e.item.title," to ").concat(e.$fluro.date.formatDate(t.created,"h:mma dddd D MMM YYYY"),"?"),{confirmColor:"error",confirmText:"Confirm Rollback"}).then((function(){console.log("rollback"),e.$fluro.api.post("/content/rollback/".concat(t._id)).then((function(t){e.$fluro.resetCache()}),e.$fluro.error)}))}}))}},asyncComputed:{log:{default:[],get:function(){var t=this;return t.loading=!0,new Promise((function(e,o){t.$fluro.api.get("/log?item=".concat(t.itemID)).then((function(o){e(o.data),t.loading=!1})).catch(o)}))}}}},y=(o(1306),o(1)),x=Object(y.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"log-viewer",staticStyle:{background:"#fff"}},[o("flex-column-header",[o("v-container",{staticClass:"border-bottom",attrs:{"pa-1":""}},[o("strong",[t._v("Historical Change Log")])])],1),t._v(" "),o("flex-column-body",[t.loading?o("v-container",{staticClass:"text-xs-center"},[o("v-progress-circular",{attrs:{indeterminate:""}})],1):o("div",{staticClass:"timeline"},t._l(t.dates,(function(e){return o("div",{staticClass:"year"},[o("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return o("div",{staticClass:"month"},[o("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return o("div",{staticClass:"day"},[o("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),o("div",{staticClass:"entries"},t._l(e.items,(function(e){return o("div",{key:e._id,staticClass:"entry",on:{click:function(o){return t.promptOptions(e)}}},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticClass:"pr-1",attrs:{shrink:""}},[e.managedUser?o("fluro-avatar",{attrs:{id:e.managedUser,type:"persona"}}):t._e(),t._v(" "),e.user?o("fluro-avatar",{attrs:{id:e.user,type:"user"}}):t._e()],1),t._v(" "),o("v-flex",[o("strong",[t._v(t._s(e.message))]),t._v(" "),o("div",{staticClass:"sm muted"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.key)+" - "+t._s(e.managedUser?e.managedUser.title:"")+"\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),o("v-flex",{staticClass:"sm muted",attrs:{shrink:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("formatDate")(e.created,"h:mma"))+"\n\t\t\t\t\t\t\t\t\t")])],1)],1)})),0)])}))],2)}))],2)})),0)],1)],1)}),[],!1,null,null,null).exports,_={props:{embedded:{type:Boolean},disableCacheClearOnSave:{type:Boolean,default:function(){return!0}},context:{type:String,default:"create"},type:{type:String,required:!0},value:{type:Object,default:function(){return{realms:[],tags:[]}}},options:{default:function(){return{}},type:Object}},data:function(){return{cacheClearRequired:!1,file:null,model:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:"ready",tagSearch:"",loading:!0}},created:function(){var t=this;t.model&&!t.model.data&&t.$set(t.model,"data",{})},mounted:function(){this.addListeners()},activated:function(){this.addListeners()},deactivated:function(){this.removeListeners()},beforeDestroy:function(){this.removeListeners()},methods:{showRealmsPopup:function(){var t=this.$refs.realmSelector;t&&t.showModal&&t.showModal()},copyToClipboard:function(t){var e=this.$refs.clipboard;if(e){e.value=t,e.setAttribute("type","text"),e.select();try{document.execCommand("copy");this.$fluro.notify("Copied to clipboard")}catch(t){}e.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},addListeners:function(){document.addEventListener("keydown",this.keypress,!1)},removeListeners:function(){document.removeEventListener("keydown",this.keypress)},keypress:function(t){83==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&(t.preventDefault(),this.submit())},editSuccess:function(t){var e=this;console.log("Edit success!"),"definition"==t.data._type&&e.$fluro.global.reloadTerminology(),e.state="ready",e.$emit("success",t.data),e.$fluro.notify("".concat(t.data.title," was updated successfully"))},editFailed:function(t){var e=this;if(t){console.log("ERROR MESSAGE HAPPENED",t);var o=e.$fluro.utils.errorMessage(t);e.$fluro.error(t),e.serverErrors=o,e.state="error",e.$emit("error",t)}},createSuccess:function(t){var e=this;"definition"==t.data._type&&e.$fluro.global.reloadTerminology(),e.cacheClearRequired=!0,e.disableCacheClearOnSave||e.$fluro.resetCache(),e.reset(!0),e.$emit("success",t.data),e.$fluro.notify("".concat(t.data.title," was created successfully"))},createFailed:function(t){var e=this;if(t){var o=e.$fluro.utils.errorMessage(t);e.$fluro.error(t),e.serverErrors=o,e.state="error",e.$emit("error",t)}},fileChanged:function(t){this.file=t},updateModel:function(){this.$emit("input",this.model)},cancel:function(){this.$emit("cancel")},refresh:function(){this.$emit("success",this.model)},touch:function(){r.a.each(this.formFields,(function(component){component.touch()}))},validate:function(){var form=this.$refs.form;if(!form)return[];this.errorMessages=form.errorMessages||[]},validateAllFields:function(){this.$refs.form.touch(),this.validate()},reset:function(t){var e=this;e.model={realms:[],tags:[]},e.$refs.form&&e.$refs.form.reset(),e.result=null,e.state="ready",t||e.$emit("reset")},preprocessCreateData:function(data){if("process"===this.typeName)data.title&&data.title.length||data.item&&data.item.title&&data.item.title.length&&(data.title=data.item.title);return data},isValidDate:function(t){return t instanceof Date&&!isNaN(t)},autosave:function(){var t=this;"processing"!=t.state&&t.submitUpdate().then((function(e){t.state="ready"})).catch((function(e){t.state="ready"}))},submitUpdate:function(){var t=this;t.state="processing";var e=Object.assign({},t.model);delete e.__v;var o=e.definition||t.definitionName||t.typeName;return new Promise((function(n,r){t.$fluro.api.put("/content/".concat(o,"/").concat(e._id,"?replaceData=true"),e).then((function(e){var o=Object.assign({},e.data);switch(t.typeName){case"contact":case"integration":case"audio":case"video":case"image":case"asset":case"mailout":t.model=o}n(e)}),r)}))},submit:function(t){var e=this,o=Object.assign({},e.model);delete o.__v;var n=e.context;o._id&&(n="edit");var c=new Promise((function(t,r){if(e.validateAllFields(),e.hasErrors)return console.log("WE HAVE ERRORS",e.errorMessages),r();if(e.realmSelectorRelevant&&(!e.model.realms||!e.model.realms.length))return e.showRealmsPopup(),r();e.state="processing";var c=o.definition||e.definitionName||e.typeName;if("attendance"!=e.typeName||o.title&&o.title.length||(o.title="".concat(o.event.title," headcount")),"edit"===n)e.submitUpdate().then(t,r);else{if(o=e.preprocessCreateData(o),e.uploadForSave){var l=e.file;if(!l)return e.$fluro.notify("Please select a file to upload"),e.state="ready",r();var d="/file/upload";if(o.externalIntegration){var f=o.externalIntegration;f._id&&(f=f._id),d="/file/integration/upload/".concat(f)}e.definitionName&&(o.definition=e.definitionName),l.state="uploading";var m=new FormData;m.append("json",JSON.stringify(o)),m.append("file",l.file,l.name);var body=m;return e.$fluro.api.post(d,body,{headers:{"Content-Type":"multipart/form-data"}}).then(t,r)}"family"==c?e.$fluro.api.post("/family",o).then(t,r):e.$fluro.api.post("/content/".concat(c),o).then(t,r)}}));if(t)return new Promise((function(t,o){c.then((function(o){r.a.assign(e.model,o.data),t(o.data),e.state="ready"}),(function(t){e.state="ready",o(t)}))}));if("edit"===n)c.then(e.editSuccess,e.editFailed);else c.then(e.createSuccess,e.createFailed);return c}},computed:{realmSelectorRelevant:function(){switch(this.typeName){case"realm":case"account":return}return!0},tagsAvailable:function(){return"tag"!=this.typeName&&this.$fluro.access.can("view","tag")},isQuery:function(){if("query"===this.typeName)return!0},showDeveloperDocs:function(){return"component"==this.typeName},showPadlock:function(){return!!this.isAssetType||(!!this.isQuery||("event"===this.typeName||void 0))},isAssetType:function(){switch(this.typeName){case"asset":case"audio":case"video":case"image":return!0}},canChangeStatus:function(){switch(this.typeName){case"persona":case"realm":case"transaction":break;default:return!0}},showFooter:function(){return!this.hideFooter},hideFooter:function(){return!this.$pro.enabled},autofocusTitle:function(){var t=this;switch(t.typeName){case"article":case"plan":return!t.model._id||!t.model.title}},summary:function(){var t=this;switch(t.typeName){case"event":return t.$fluro.date.readableEventDate(t.model);case"roster":case"checkin":case"ticket":return t.model.event?"".concat(t.model.event.title," ").concat(t.$fluro.date.readableEventDate(t.model.event)):"";case"plan":var e,o=r.a.get(t.model,"event.title"),n=r.a.get(t.model,"startDate");if(o)return(e=t.$fluro.date.readableEventDate(t.model.event))?"".concat(e," - ").concat(t.model.event.title):void 0;if(n)return(e=t.$fluro.date.formatDate(n,"h:mm ddd D MMM"))||void 0}},clickTitleEdit:function(){return"contact"!==this.typeName},uploadForSave:function(){return!this.model._id&&"upload"==this.model.assetType},saveText:function(){return this.uploadForSave?"Upload":"Save"},enableAutomationDates:function(){switch(this.config.type.definitionName){case"article":case"asset":case"audio":case"video":case"image":case"code":case"collection":case"team":case"post":case"product":case"event":return!0}},publishDateHint:function(){if(this.model.publishDate&&this.isValidDate(this.model.publishDate))return"Change status to 'active' ".concat(this.$filters.timeago(this.model.publishDate))},archiveDateHint:function(){if(this.model.archiveDate&&this.isValidDate(this.model.archiveDate))return"Change status to 'archived' ".concat(this.$filters.timeago(this.model.archiveDate))},extraFields:function(){var t=this,e={};return e.inheritable={title:"Inheritable",description:"Allow child accounts to reference and use this content",minimum:0,maximum:1,type:"boolean",key:"inheritable",expressions:{hide:function(){switch(t.typeName){case"contact":case"family":return!0}}}},e.slug={title:"Slug / Readable ID",description:"A readable id that can be used for website urls and paths",minimum:0,maximum:1,type:"string",key:"slug",expressions:{hide:function(){switch(t.typeName){case"contact":case"family":return!0}}}},e.archiveDate={minimum:0,maximum:1,type:"date",key:"archiveDate",directive:"datetimepicker"},e.publishDate={minimum:0,maximum:1,type:"date",key:"publishDate",directive:"datetimepicker"},e.createdDate={title:"Creation Date",minimum:0,maximum:1,type:"date",key:"created",directive:"datetimepicker"},e},showLoading:function(){return!this.config||this.loading||!this.component},title:function(){return this.model.title?this.model.title:"New"},definition:function(){return this.config.definition},typeConfig:function(){if(this.config)return this.config.type},definitionTitle:function(){return this.definition?this.definition.title:"definition"==this.typeConfig.definitionName&&this.model.parentType?"".concat(this.$fluro.types.readable(this.model.parentType)," Definition"):this.typeConfig.title},typeName:function(){if(this.typeConfig)return this.typeConfig.definitionName},definitionName:function(){return this.definition?this.definition.definitionName:""},hasErrors:function(){return!!(this.errorMessages||[]).length},component:function(){var t=this;if(t.typeName){if("checkinStation"===t.definitionName)if("subsplash"==t.uiMode)return function(){return o(841)("./".concat(t.definitionName,".vue"))};return function(){return o(841)("./".concat(t.typeName,".vue"))}}}},components:{FluroQuickPrivacy:l.a,FluroTagSelect:c.a,FluroRealmSelect:d.a,FluroStatusSelect:f.a,FluroInlineEdit:m.a,FluroContentFormField:h.default,Changelog:x},asyncComputed:{config:{default:null,get:function(){var t=this;return t.type&&t.type.length?(t.loading=!0,new Promise((function(e,o){var n=t.$fluro.api.get("/defined/type/".concat(t.type));n.then((function(o){e(o.data),t.loading=!1})),n.catch((function(e){return e&&t.$fluro.error(e),o(e)}))}))):Promise.reject({})}}},watch:{value:function(){this.model=this.value}}},k=_,C=(o(1308),o(1310),Object(y.a)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"content-edit"},[t.showLoading?o("fluro-page-preloader",{attrs:{contain:""}}):[o("form",{staticClass:"flex-column",attrs:{disabled:"processing"==t.state},on:{submit:function(t){t.preventDefault()}}},[t.$vuetify.breakpoint.smAndUp?o("flex-column-header",["error"==t.state?[o("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v(t._s(t.serverErrors))])]:t._e()],2):t._e(),t._v(" "),o("flex-column-header",{staticClass:"border-bottom"},[o("page-header",{attrs:{type:t.typeName},scopedSlots:t._u([{key:"left",fn:function(){return[o("fluro-inline-edit",{attrs:{autofocus:t.autofocusTitle,enabled:t.clickTitleEdit},scopedSlots:t._u([{key:"default",fn:function(){return[o("h3",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.title)+"\n\t\t\t\t\t\t\t\t\t\t"),o("span",{staticClass:"small text-muted"},[t._v(t._s(t.definitionTitle))])]),t._v(" "),t.summary?o("v-label",[t._v(t._s(t.summary))]):t._e()]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur,r=e.focus;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.title,expression:"model.title"}],attrs:{block:"",placeholder:"Enter a title for this content"},domProps:{value:t.model.title},on:{focus:function(t){return r(t)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.apply(null,arguments)},blur:n,input:function(e){e.target.composing||t.$set(t.model,"title",e.target.value)}}})]}}])})]},proxy:!0},{key:"right",fn:function(){return[t.showDeveloperDocs?[o("v-menu",{attrs:{"nudge-width":250,"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({attrs:{icon:""}},n),[o("fluro-icon",{attrs:{icon:"question",library:"fas"}})],1)]}}],null,!1,877941448)},[t._v(" "),o("v-card",{attrs:{tile:""}},[o("v-list",{attrs:{dense:""}},[o("v-list-tile",{attrs:{href:"https://fluro-developers.github.io/fluro-vue/",target:"_blank"}},[o("v-list-tile-title",[t._v(" Fluro Vue Documentation")])],1),t._v(" "),o("v-list-tile",{attrs:{href:"https://fluro-developers.github.io/fluro/",target:"_blank"}},[o("v-list-tile-title",[t._v("Javascript API Documentation")])],1),t._v(" "),o("v-list-tile",{attrs:{href:"https://developers.fluro.io/",target:"_blank"}},[o("v-list-tile-title",[t._v("REST API Documentation")])],1),t._v(" "),o("v-divider"),t._v(" "),o("v-list-tile",{attrs:{href:"https://www.youtube.com/playlist?list=PLpML5U6BFHeFCFY23ed4ElSlXzydStw6l",target:"_blank"}},[o("v-list-tile-title",[t._v("Developer Tutorials")])],1)],1)],1)],1)]:t._e(),t._v(" "),t.showPadlock?[o("help",{attrs:{title:"Privacy Selector",body:"Allows you to disable security for this content. By default websites apps and users need permission to access content in "+t.brandName+", clicking here can turn that off so that this content can be viewed on the web publicly without authentication"}}),t._v(" "),o("fluro-quick-privacy",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:t._e(),t._v(" "),o("help",{attrs:{title:"Realm Selector",body:"Everything in "+t.brandName+" needs to be kept somewhere, choose one or more realms for this "+t.definitionTitle+". This will affect who has access to view and edit this "+t.definitionTitle}}),t._v(" "),t.realmSelectorRelevant?o("fluro-realm-select",{directives:[{name:"tippy",rawName:"v-tippy"}],ref:"realmSelector",attrs:{content:"Select where this "+t.definitionTitle+" should be stored",type:t.typeName,definition:t.definitionName},model:{value:t.model.realms,callback:function(e){t.$set(t.model,"realms",e)},expression:"model.realms"}}):t._e(),t._v(" "),t.tagsAvailable?o("fluro-tag-select",{staticClass:"mx-0 ml-2",model:{value:t.model.tags,callback:function(e){t.$set(t.model,"tags",e)},expression:"model.tags"}},[o("help",{attrs:{title:"Tag Selector",body:"Add tags to describe and make it easier to find this "+t.definitionTitle+" when searching later"}})],1):t._e(),t._v(" "),t.model._id?o("v-btn",{staticClass:"mx-0 ml-2",on:{click:function(e){return t.$actions.open([t.model])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}}),t._v(" "),o("help",{attrs:{title:"More Actions",body:"View more actions that are relevant to this "+t.definitionTitle}})],1):t._e(),t._v(" "),t.embedded?t._e():o("v-btn",{staticClass:"mx-0 ml-2",on:{click:t.cancel}},[t._v("Close")]),t._v(" "),o("v-btn",{staticClass:"mx-0 ml-2",attrs:{loading:"processing"==t.state,disabled:t.hasErrors,color:"primary"},on:{click:function(e){return t.submit()}}},[t._v(t._s(t.saveText))])]},proxy:!0},{key:"rightmobile",fn:function(){return[t.model._id?o("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(e){return t.$actions.open([t.model])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.embedded?t._e():o("v-btn",{staticClass:"mx-0 ml-2",on:{click:t.cancel}},[t._v("Close")]),t._v(" "),o("v-btn",{staticClass:"mx-0 ml-2",attrs:{loading:"processing"==t.state,disabled:t.hasErrors,color:"primary"},on:{click:function(e){return t.submit()}}},[t._v(t._s(t.saveText))])]},proxy:!0}])})],1),t._v(" "),t.component?o(t.component,{ref:"form",tag:"component",attrs:{context:t.context,type:t.typeConfig,config:t.config,definition:t.definition,save:t.submit},on:{errorMessages:t.validate,refresh:t.refresh,input:t.updateModel,file:t.fileChanged},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}):t._e(),t._v(" "),t.showFooter?[t.$vuetify.breakpoint.xsOnly?[o("flex-column-footer",["error"==t.state?[o("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v(t._s(t.serverErrors))])]:t._e()],2),t._v(" "),o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{attrs:{"py-0":"","px-1":""}},[o("fluro-realm-select",{ref:"realmSelector",attrs:{block:"",type:t.typeName,definition:t.definitionName},model:{value:t.model.realms,callback:function(e){t.$set(t.model,"realms",e)},expression:"model.realms"}})],1)],1),t._v(" "),o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{attrs:{"py-0":"","px-1":""}},[o("v-layout",[o("v-flex",[o("v-btn",{attrs:{block:""},on:{click:t.cancel}},[t._v("Cancel")])],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-flex",[o("v-btn",{staticClass:"mr-0",attrs:{block:"",loading:"processing"==t.state,disabled:t.hasErrors,color:"primary"},on:{click:function(e){return t.submit()}}},[t._v(t._s(t.saveText))])],1)],1)],1)],1)]:[o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{attrs:{fluid:"","pa-1":""}},[o("v-layout",{attrs:{row:"","align-center":""}},[t.model._id?[o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Metadata Options",small:"",icon:"",flat:""}},n),[o("help",{attrs:{title:"Metadata Options",body:"View system and database data for this  "+t.definitionTitle}}),t._v(" "),o("fluro-icon",{attrs:{library:"fas",icon:"info"}})],1)]}}],null,!1,1149007853)},[t._v(" "),o("v-container",{staticStyle:{background:"#fff"},attrs:{"pa-2":"","grid-list-xl":""}},[o("fluro-content-form-field",{attrs:{field:t.extraFields.inheritable},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),t._v(" "),o("fluro-content-form-field",{attrs:{field:t.extraFields.slug},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),t._v(" "),o("v-container",{staticClass:"white-background",attrs:{"pa-2":""}},[t.model._id?[o("v-input",{staticClass:"no-flex",attrs:{label:t.brandName+" ID"}},[o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(e){return t.copyToClipboard(t.model._id)}}},[t._v(t._s(t.model._id))])],1)]:t._e(),t._v(" "),t.model._external?[o("v-input",{staticClass:"no-flex",attrs:{label:"External ID"}},[o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(e){return t.copyToClipboard(t.model._external)}}},[t._v(t._s(t.model._external))])],1)]:t._e(),t._v(" "),[o("v-btn",{attrs:{block:"",small:""},on:{click:function(e){return t.$fluro.global.json(t.model)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView JSON\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{right:"",icon:"brackets-curly"}})],1)],t._v(" "),o("input",{ref:"clipboard",attrs:{type:"hidden"}})],2)],1)],1)]:t._e(),t._v(" "),t.enableAutomationDates?[o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Publish/Archive Dates",small:"",icon:"",flat:""}},n),[o("fluro-icon",{attrs:{icon:"clock"}}),t._v(" "),o("help",{attrs:{title:"Date Automation",body:"Set automatic publish and archiving dates"}})],1)]}}],null,!1,1809655967)},[t._v(" "),o("v-container",{staticStyle:{background:"#fff"},attrs:{"grid-list-xl":""}},[o("v-layout",[o("v-flex",[o("v-input",{staticClass:"no-flex",attrs:{label:"Publish Date","persistent-hint":!0,hint:t.publishDateHint}},[o("fluro-content-form-field",{attrs:{field:t.extraFields.publishDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),t._v(" "),o("v-flex",[o("v-input",{staticClass:"no-flex",attrs:{label:"Archive Date","persistent-hint":!0,hint:t.archiveDateHint}},[o("fluro-content-form-field",{attrs:{field:t.extraFields.archiveDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),t._v(" "),o("v-flex",[o("fluro-content-form-field",{attrs:{field:t.extraFields.createdDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1)],1)],1)]:t._e(),t._v(" "),o("v-spacer"),t._v(" "),o("v-flex",{attrs:{shrink:""}},[t.model._id?[o("em",{staticClass:"muted sm",staticStyle:{"margin-right":"10px"}},[t._v("Last updated "+t._s(t._f("timeago")(t.model.updated)))])]:t._e(),t._v(" "),o("help",{attrs:{title:"Status Selector",body:"Update and change the status of this "+t.definitionTitle}}),t._v(" "),t.canChangeStatus?o("fluro-status-select",{attrs:{type:t.model._type},model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}}):t._e()],2),t._v(" "),t.model._id?o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{top:"","close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"History and Change log",small:"",icon:"",flat:""}},n),[o("fluro-icon",{attrs:{library:"fas",icon:"history"}}),t._v(" "),o("help",{attrs:{title:"Change log",body:"View the system change log for this "+t.definitionTitle+". And rollback to previous versions."}})],1)]}}],null,!1,879966451)},[t._v(" "),o("div",{staticStyle:{"min-width":"320px"}},[o("changelog",{attrs:{item:t.model}})],1)])],1):t._e()],2)],1)],1)]]:t._e()],2)]],2)}),[],!1,null,"b947ae48",null));C.exports},891:function(t,e,o){"use strict";o(22);var n=o(0),r=o.n(n),c={props:{filter:{type:Function},options:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}},nickName:{type:String,default:function(){var t=this.user;if(t&&t.firstName)return t.firstName}},conversation:{type:[String,Object]}},mounted:function(){this.mount()},beforeDestroy:function(){this.unmount()},activated:function(){this.mount()},deactivated:function(){this.unmount()},data:function(){return{messageFilter:this.filter,thread:{},socketChannel:null,mode:"message",joining:!1,sending:!1,empty:!0,feed:[],chatCache:0,cacheBuster:null,proposed:{},timer:null,loadingConversation:!1,conversationJoined:!1}},watch:{filter:function(t){this.messageFilter=t,this.mapConversation(this.thread)},chatCache:"reloadConversation",conversationCheckString:"init"},computed:{placeholder:function(){return"internal"===this.mode?"Type your internal note and press enter...":"Type your message and press enter..."},internalEnabled:function(){return this.options.internalEnabled},notConnected:function(){return!this.conversationJoined},initializing:function(){return this.loadingConversation&&!this.feed.length},conversationCheckString:function(){return this.conversationID+this.nickName},conversationUrl:function(){return"/chat/".concat(this.conversationID)},conversationID:function(){return this.$fluro.utils.getStringID(this.conversation)}},methods:{toggleApproval:function(t){this.toggleAttribute(t,"approved")},toggleAttribute:function(t,e){t[e]?this.removeAttribute(t,e):this.addAttribute(t,e)},removeAttribute:function(t,e){var o=this,n={};n[e]=!1,o.$fluro.api.put("/chat/".concat(this.conversationID,"/").concat(t._id),n).then((function(){o.$set(t,e,!1)}))},addAttribute:function(t,e){var o=this,n={};n[e]=!0,o.$fluro.api.put("/chat/".concat(this.conversationID,"/").concat(t._id),n).then((function(){o.$set(t,e,!0)}))},highlightMessage:function(t){console.log("Highlight MESSAGE",t);var e=this;e.$fluro.api.put("/chat/".concat(this.conversationID,"/").concat(t._id),{highlight:!0}).then((function(){e.$set(t,"highlight",!0)}))},deleteMessage:function(t){var e=this;e.$fluro.api.put("/chat/".concat(this.conversationID,"/").concat(t._id),{deleted:!0}).then((function(){e.$set(t,"deleted",!0)}))},mount:function(){console.log("chatbox mounted");this.init()},unmount:function(){this.unsubscribe()},init:function(){this.conversationID?this.joinConversation():this.leaveConversation()},reloadConversation:r.a.debounce((function(t){var e=this;if(e.conversationID&&!e.loadingConversation){e.loadingConversation=!0;var o="/chat/".concat(e.conversationID,"/feed?=").concat(e.chatCache);e.options.moderator&&(o="/chat/".concat(e.conversationID,"/feed?m=true&cb=").concat(e.chatCache));var n=e.$fluro.api.get(o,{cache:!1});return n.then((function(o){e.loadingConversation=!1,e.thread=o.data,e.thread&&e.thread.users&&(e.mapConversation(e.thread),t&&e.$nextTick((function(){console.log("Force scroll to bottom"),e.scrollToBottom(!0)})))})).catch((function(t){e.loadingConversation=!1,console.log("Error",t)})),n}}),400),socketUpdate:function(t){console.log("socket message received",t),this.reloadConversation()},poll:function(){console.log("poll"),this.reloadConversation()},subscribe:function(){var t=this;t.reloadConversation(!0);var e,o=3e3,n=t.$fluro.auth.getCurrentUser();n?(e=n._hid,console.log("We tune in as the current user",e)):t.application?(e=t.$fluro.utils.getStringID(t.application),console.log("We tune in as the current application",e)):console.log("No application specified"),e?(t.$socket?(console.log("socket channel"),t.socketChannel=t.$socket.channel(e,t.conversationID),t.socketChannel.on("message.create",t.socketUpdate),t.socketChannel.on("message.update",t.socketUpdate),o=2e4):console.log("No $socket"),t.timer||(t.timer=setInterval(t.poll,o))):console.log("User is unknown")},unsubscribe:function(){var t=this;t.socketChannel&&t.socketChannel.disconnect(),t.timer&&(clearInterval(t.timer),t.timer=null)},scrollToBottom:function(t){var e=this,element=e.$refs.body;if(element){if(element=element.$el,!0===t);else{var o=element.scrollTop;if(element.scrollHeight-element.clientHeight-o>50)return}e.feed&&e.feed.length&&e.$nextTick((function(){if(element)return e.empty||!0===t?(e.empty=!1,void(element.scrollTop=element.scrollHeight)):void element.scrollTo({top:element.scrollHeight,left:0,behavior:"smooth"})}))}},mapConversation:function(t){var e=this,o=t.users,n=t.authorID,c=t.messages;e.messageFilter&&(c=e.messageFilter(c));var l=r.a.chain(c).reduce((function(t,e){var c=e.internal?"internal":"default",l=e.authorID,d=r.a.last(t);if(d&&d.authorID==l&&d.context==c)return d.messages.push(e),t;var f={_id:e._id,authorID:l,context:c,date:e.created,author:o[l],messages:[e],self:n==l};return t.push(f),t}),[]).value();e.feed=l,e.$emit("thread",t),e.scrollToBottom()},leaveConversation:function(){this.unsubscribe(),this.feed=[],this.conversationJoined=!1},joinConversation:function(){var t=this;if(t.conversationJoined)console.log("Already joined");else if(t.conversationID){if(t.nickName)return t.joining=!0,console.log("joining"),t.$fluro.api.post("".concat(t.conversationUrl,"/join"),{nickName:t.nickName}).then((function(e){console.log("Joined the conversation!",e),t.conversationJoined=!0,t.subscribe(),t.joining=!1})).catch((function(e){t.joining=!1}));console.log("No nickname")}else console.log("No conversation id specified")},updateTextAreaSize:function(t){var e=this.$refs.textarea;e&&(e.value&&e.value.length?(e.style.minHeight=0,e.style.minHeight=Math.min(150,e.scrollHeight)+"px"):e.style.minHeight=0)},sendInternal:function(){var t=this;t.sending=!0;var e=t.proposed.message;t.proposed.message="",t.updateTextAreaSize(),e.internal=!0,t.$fluro.api.post("".concat(t.conversationUrl),{message:e}).then((function(e){t.chatCache++,t.scrollToBottom(),t.proposed.message="",t.updateTextAreaSize(),t.sending=!1})).catch((function(e){t.sending=!1}))},sendMessage:function(t){var e=this;if(t){if(t.shiftKey)return;t.preventDefault(),t.stopPropagation()}e.sending=!0;var o=e.proposed.message;e.proposed.message="",e.updateTextAreaSize(),e.$fluro.api.post("".concat(e.conversationUrl),{internal:"internal"==e.mode,message:o}).then((function(t){e.chatCache++,e.scrollToBottom(),e.proposed.message="",e.updateTextAreaSize(),e.sending=!1})).catch((function(t){e.sending=!1}))}}},l=(o(1012),o(1)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"chatbox"},[t.notConnected?o("div",{staticClass:"notconnected"},[t.joining?o("v-progress-circular",{attrs:{indeterminate:"",color:"rgba(180,180,180,0.5)"}}):t._t("notconnected")],2):t._e(),t._v(" "),o("flex-column-header",{staticClass:"chatbox-header"},[t._t("header")],2),t._v(" "),o("flex-column",{attrs:{center:""}},[t.initializing?o("div",{staticClass:"spinner",staticStyle:{"text-align":"center"}},[o("v-progress-circular",{attrs:{indeterminate:"",color:"rgba(180,180,180,0.5)"}})],1):o("flex-column-body",{ref:"body",staticClass:"chatbox-body"},[o("div",{staticClass:"message-container"},t._l(t.feed,(function(e){return o("div",{key:e._id,staticClass:"paragraph",class:[{self:e.self},e.context]},[o("div",{staticClass:"avatar-column"},[o("div",{staticClass:"avatar"},[e.author.avatarUrl?o("img",{attrs:{src:e.author.avatarUrl}}):o("span",{staticClass:"placeholder",style:{backgroundColor:e.author.color}},[t._v(t._s(e.author.nickName[0]))])])]),t._v(" "),o("div",{staticClass:"text"},[o("div",{staticClass:"chat-name"},[o("strong",[t._v(t._s(e.author.nickName))]),t._v(" "),o("div",{staticClass:"chat-time"},[t._v(t._s(t._f("timeago")(e.date)))])]),t._v(" "),o("div",{staticClass:"messages"},t._l(e.messages,(function(e){return o("div",{key:e._id,staticClass:"message-entry",class:{deleted:e.deleted,approved:e.approved,highlight:e.highlight,internal:e.internal}},[t.options.moderator?o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("div",{staticClass:"message"},[t._v(t._s(e.message))])]),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("div",{staticClass:"buttons"},[o("a",{staticClass:"message-link",class:{active:e.approved},on:{click:function(o){return t.toggleApproval(e)}}},[o("fluro-icon",{attrs:{library:e.approved?"fas":"far",icon:"check-circle"}})],1),t._v(" "),o("a",{staticClass:"message-link",class:{active:e.highlight},on:{click:function(o){return t.toggleAttribute(e,"highlight")}}},[o("fluro-icon",{attrs:{library:e.highlight?"fas":"far",icon:"star"}})],1),t._v(" "),o("a",{staticClass:"message-link",on:{click:function(o){return t.deleteMessage(e)}}},[o("fluro-icon",{attrs:{icon:"trash-alt"}})],1)])])],1):o("div",{staticClass:"message"},[t._v(t._s(e.message))])],1)})),0)])])})),0)])],1),t._v(" "),t.conversationID?[o("flex-column-footer",{staticClass:"chatbox-footer",class:t.mode},[t.options.moderator?o("div",{staticClass:"mode-links"},[o("a",{class:{active:"message"==t.mode},on:{click:function(e){t.mode="message"}}},[t._v("Reply")]),t._v(" "),o("a",{class:{active:"internal"==t.mode},on:{click:function(e){t.mode="internal"}}},[t._v("Note")])]):t._e(),t._v(" "),o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.proposed.message,expression:"proposed.message"}],ref:"textarea",attrs:{placeholder:t.placeholder},domProps:{value:t.proposed.message},on:{input:[function(e){e.target.composing||t.$set(t.proposed,"message",e.target.value)},t.updateTextAreaSize],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)}}})]),t._v(" "),t.internalEnabled?o("v-flex",{staticStyle:{"padding-left":"10px"},attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",staticStyle:{"margin-left":"10px"},attrs:{icon:""},on:{click:function(e){return t.sendInternal(e)}}},[o("fluro-icon",{attrs:{icon:t.sending?"spinner-thirds":"paper-plane",spin:t.sending}})],1)],1):t._e(),t._v(" "),o("v-flex",{staticStyle:{"padding-left":"10px"},attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",staticStyle:{"margin-left":"10px"},attrs:{icon:""},on:{click:function(e){return t.sendMessage(e)}}},[o("fluro-icon",{attrs:{icon:t.sending?"spinner-thirds":"paper-plane",spin:t.sending}})],1)],1)],1),t._v(" "),t._t("footer")],2)]:t._e()],2)}),[],!1,null,null,null);e.a=component.exports},904:function(t,e,o){"use strict";o(12);var n=o(0),r=o.n(n),c=o(91),l={props:{contact:{type:Object}},components:{FluroContentRender:c.default},data:function(){return{loading:!1}},methods:{edit:function(t){var e=this;e.$fluro.global.edit(t,!0).then((function(o){console.log("RESPONSE!",o,t),e.$set(t,"data",o.data)}))},create:function(t){var e=this,o={definition:t,item:e.contact};e.$fluro.modal({component:AddPost,options:o}).then((function(){e.$fluro.resetCache()}))}},computed:{orderedSheets:function(){return r.a.chain(this.items).orderBy((function(t){switch(t.status){case"archived":return 1e3;case"active":return-1e3}return 0})).value()}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(o,n){t.$fluro.api.get("/contact/details/".concat(e)).then((function(e){o(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},d=(o(1282),o(1));Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-detail-list"},[t.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fff"}},[o("v-container",{attrs:{fluid:""}},t._l(t.orderedSheets,(function(e){return o("fluro-panel",{key:e._id,staticClass:"sheet-panel",class:e.status,attrs:{fluid:""}},[o("fluro-panel-title",[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{attrs:{shrink:""}},[o("fluro-realm-dots",{attrs:{realms:e.realms}})],1),t._v(" "),o("v-flex",[o("strong",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.fullDefinition.title)+"\n\t\t\t\t\t\t\t\t\t\t"),"archived"==e.status?o("span",[t._v("(Archived)")]):t._e()])]),t._v(" "),t.$fluro.access.canEditItem(e)?o("v-flex",{attrs:{shrink:""}},[o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Edit"},on:{click:function(o){return t.edit(e)}}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1)],1):t._e(),t._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Actions"},on:{click:function(o){return t.$actions.open([e])}}},[o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1),t._v(" "),"archived"!=e.status?o("fluro-panel-body",[o("fluro-content-render",{attrs:{fields:e.fullDefinition.fields},model:{value:e.data,callback:function(o){t.$set(e,"data",o)},expression:"sheet.data"}})],1):t._e()],1)})),1)],1)]],2)}),[],!1,null,null,null).exports},905:function(t,e,o){"use strict";o(0);var n=o(923),r={props:{contact:{type:Object}},components:{ContactGroupManager:n.a}},c=(o(1288),o(1));Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("flex-column",{staticClass:"contact-team-list"},[o("flex-column-body",[o("v-container",{attrs:{fluid:""}},[o("contact-group-manager",{model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)],1)],1)}),[],!1,null,null,null).exports},922:function(t,e,o){"use strict";var n=o(35),r={props:{item:{type:Object,required:!0}},components:{FluroRealmBar:n.a},computed:{rosterIcon:function(){switch(this.item.confirmationStatus){case"unknown":return"question";case"confirmed":return"check";case"declined":return"times"}},summary:function(){return"".concat(this.event.title," - ").concat(this.datestring)},datestring:function(){return this.$fluro.date.readableEventDate(this.event)},roster:function(){return this.item.roster},event:function(){return this.item.event||this.roster.event},position:function(){return this.item.title},title:function(){switch(this.item.confirmationStatus){case"unknown":return"Rostered as ".concat(this.position);case"declined":return"Marked unavailable for ".concat(this.position);case"confirmed":return"Confirmed as ".concat(this.position)}}}},c=(o(1266),o(1)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-entry border-top",on:{click:function(e){return t.$fluro.global.edit(t.event,!0)}}},[o("fluro-realm-bar",{attrs:{realm:t.item.realms}}),t._v(" "),o("v-layout",[o("v-flex",{attrs:{shrink:""}},[o("v-container",{attrs:{"pa-2":""}},[o("div",{staticClass:"timeline-icon"},[o("fluro-icon",{attrs:{library:"fas",icon:t.rosterIcon}})],1)])],1),t._v(" "),o("v-flex",[o("v-container",{attrs:{"pa-2":""}},[o("strong",[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"summary"},[o("strong",[t._v(t._s(t.event.title))]),t._v("\n\t\t\t\t\t- "+t._s(t.datestring)+"\n\t\t\t\t")])])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},923:function(t,e,o){"use strict";o(102),o(12),o(31);var n=o(127),r=o(128),c=o(89),l=o(104),d=o(5),f=o.n(d),m=o(0),h=o.n(m),v={props:{value:{type:Object,required:!0}},data:function(){return{actionIndexes:{},model:this.value,loading:!0,newGroups:[],teams:[]}},created:function(){console.log("RELOAD TEAMS"),this.reloadTeams()},methods:{canLeave:function(t){var e=t.definition;return this.$fluro.access.can("leave",e,"team")||this.$fluro.access.canEditItem(t)},canAdd:function(t){var e=this.$fluro.access.can("join",t,"team"),o=this.$fluro.access.can("edit",t,"team");return e||o},leave:function(t){var e=this,o=e.$fluro.utils.getStringID(t);e.loading=!0;e.$batch.run({operation:"remove from team",ids:[e.contactID],teams:[o]}).then((function(t){var n=h.a.findIndex(e.teams,{_id:o});e.teams.splice(n,1),e.loading=!1})).catch((function(t){console.log("TEAMS ERR",t),e.reloadTeams()}))},select:function(t){var e=this,o=new(f.a.extend(l.a))({propsData:{minimum:0,maximum:0}});e.$fluro.modal({component:c.a,options:{allDefinitions:!1,selector:o,type:t,minimum:0,maximum:0}}).then((function(t){if(t&&t.length){e.loading=!0;var o=e.$fluro.utils.arrayIDs(t);e.$batch.run({operation:"add to team",ids:[e.contactID],teams:o}).then((function(t){console.log("TEAMS ADDED",t),e.reloadTeams()})).catch((function(t){console.log("TEAMS ERR",t),e.reloadTeams()}))}}))},reloadTeams:function(){var t=this;t.loading=!0,t.$fluro.api.get("/contact/".concat(t.contactID,"/teams")).then((function(e){t.teams=e.data,t.loading=!1})).catch((function(e){t.loading=!1}))}},components:{ListGroup:n.a,ListGroupItem:r.a,FluroContentSelectModal:c.a},computed:{contactID:function(){return this.$fluro.utils.getStringID(this.model)},teamGroups:function(){var t=this,e=h.a.reduce(t.teamDefinitions,(function(t,e){return t[e.definitionName]={title:e.plural,teams:[],key:e.definitionName},t}),{team:{title:"Groups and Teams",teams:[],key:"team"}});return h.a.chain(t.teams).reduce((function(e,o){var n=o.definition||"team",r=e[n];return r||(r=e[n]={title:t.$fluro.types.readable(n,!0),teams:[]}),r.teams.push(o),e}),e).values().orderBy((function(t){return t.teams.length})).reverse().value()}},asyncComputed:{teamDefinitions:{default:[],get:function(){return this.$fluro.types.subTypes("team")}}}},y=o(1),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.loading?o("fluro-page-preloader",{attrs:{contain:""}}):t._l(t.teamGroups,(function(e){return o("v-input",{key:e._id,staticClass:"no-flex"},[o("v-label",[t._v(t._s(e.title))]),t._v(" "),o("list-group",[t._l(e.teams,(function(e){return[o("list-group-item",{key:e._id,attrs:{item:e,firstLine:t._f("comma")(e.positions)},on:{click:function(o){return t.$fluro.global.view(e)}},scopedSlots:t._u([{key:"right",fn:function(){return[o("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[o("v-btn",t._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},r),[t.actionIndexes[e._id]?o("fluro-icon",{attrs:{icon:"times"}}):o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:t.actionIndexes[e._id],callback:function(o){t.$set(t.actionIndexes,e._id,o)},expression:"actionIndexes[team._id]"}},[t._v(" "),o("v-list",{attrs:{dense:""}},[o("v-list-tile",{on:{click:function(o){return t.$actions.open([e])}}},[o("v-list-tile-content",[t._v("Actions")])],1),t._v(" "),t.canLeave(e)?o("v-list-tile",{on:{click:function(o){return t.leave(e)}}},[o("v-list-tile-content",[t._v("Remove "+t._s(t.model.firstName)+" from group")])],1):t._e()],1)],1)]},proxy:!0}],null,!0)})]}))],2),t._v(" "),t.canAdd(e.key)?[o("v-btn",{staticClass:"ml-0",attrs:{small:"",color:"primary"},on:{click:function(o){return t.select(e.key)}}},[t._v("\n\t\t\t\t\t\tAdd "+t._s(e.title)+"\n\t\t\t\t\t\t"),o("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)]:t._e()],2)}))],2)}),[],!1,null,null,null);e.a=component.exports}}]);