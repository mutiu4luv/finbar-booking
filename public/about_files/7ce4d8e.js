(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1023:function(e,t,o){"use strict";o(334)},1024:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.field-editor-children{margin:0;list-style-type:none;padding:0;display:block}.field-editor-children .field-editor-children{padding:3px 3px 3px 20px;background:#eee}.field-editor-item{border:1px solid rgba(0,0,0,.1);border-radius:3px;overflow:hidden;margin:0 0 4px;list-style-type:none;list-style:none;position:relative}.field-editor-item .summary{font-size:.8em;font-weight:400;opacity:.5}.field-editor-item .issue-summary{clear:both;font-size:.8em;font-weight:400;color:#fff;background:#ff5252;border-radius:4px;padding:5px}.field-editor-item.expressions{border:1px dashed #f0974e}.field-editor-item.issues,.field-editor-item.issues>.field-editor-children,.field-editor-item.issues>.field-editor-item-field{background:rgba(255,82,82,.5)!important;border:1px solid #ff5252}.field-editor-item.ghost{border:1px dashed rgba(0,0,0,.1);opacity:.5}.field-editor-item:hover{border-color:#6378f6}.field-editor-item .field-editor-item-field{position:relative;padding:5px;background:#fff;font-weight:500;cursor:pointer}.field-editor-item .field-editor-item-field .grab{cursor:-webkit-grab;cursor:grab;opacity:0}.field-editor-item .field-editor-item-field .grab svg{opacity:.5}.field-editor-item .field-editor-item-field .actions{opacity:.3;cursor:pointer}.field-editor-item .field-editor-item-field .actions.active{opacity:.5}.field-editor-item .field-editor-item-field:hover .actions,.field-editor-item .field-editor-item-field:hover .grab{opacity:1}.field-editor-item.office-use-only .field-editor-item-field{background:#eee;color:#888}.field-editor-item.void{border:1px solid transparent}.field-editor-item.void .field-editor-item-field{background:none;color:#888;border:none}.field-editor-item.active{border:1px solid #6378f6}.field-editor-item.active>.field-editor-item-field{background:#6378f6;color:#fff}.field-editor-item .symbol{width:15px;height:20px;line-height:20px;margin-right:2px;font-size:10px}.field-editor-item .symbol.expression{color:#f0974e}.field-editor-item .icon{width:20px;height:20px;line-height:20px;border-radius:100%;text-align:center;margin-right:2px;font-size:12px}.field-editor-item .icon.ticket{color:#4cc650}",""]),e.exports=n},1025:function(e,t,o){"use strict";o(335)},1026:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-signature-field .v-input__slot{display:block!important}",""]),e.exports=n},1027:function(e,t,o){"use strict";o(336)},1028:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-9482312c]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-9482312c]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-9482312c]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-9482312c]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-9482312c]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-9482312c]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-9482312c]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-9482312c]{color:#6378f6!important;caret-color:#6378f6!important}.signature-pad-wrap[data-v-9482312c]{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;height:0;padding-bottom:50%;border:2px solid;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.signature-pad-wrap canvas[data-v-9482312c]{display:block;width:100%;height:100%;left:0;top:0;cursor:pointer}.signature-pad-wrap .clear[data-v-9482312c],.signature-pad-wrap canvas[data-v-9482312c]{position:absolute;right:0;bottom:0}.pad[data-v-9482312c]{border:1px solid rgba(0,0,0,.1);border-radius:3px;-webkit-box-shadow:0 3px 3px rgba(0,0,0,.2);box-shadow:0 3px 3px rgba(0,0,0,.2);background:#fff;margin:5px 0 10px;min-height:300px;width:100%}",""]),e.exports=n},1143:function(e,t,o){"use strict";o(778)},1144:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-content-list{margin-bottom:5px}.fluro-content-select .selection-summary{opacity:.5;font-size:.8em}.fluro-content-select>>>.v-select__selections{padding-top:0!important}.fluro-content-select>>>.v-input__slot{min-height:48px!important}.fluro-content-select>>>.v-input__append-inner,.fluro-content-select>>>.v-input__prepend-inner{margin-top:11px!important}.fluro-content-select>>>.v-text-field--box .v-input__slot{background:rgba(0,0,0,.03)}.fluro-content-select .content-select-search-bar{position:relative}.fluro-content-select .content-select-search-bar .content-select-search-buttons{position:absolute;right:5px;top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fluro-content-select.outlined>>>.v-input__slot{height:60px}.fluro-content-select.outlined>>>.v-input__prepend-inner{margin-top:16px!important}.fluro-content-select.outlined .content-select-search-bar .content-select-search-buttons{top:6px}.fluro-content-select .fluro-content-select-dialog{overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.fluro-content-select .ghost{opacity:.5}.fluro-content-select .buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fluro-content-select .flip-list-move{-webkit-transition:-webkit-transform .5s;transition:-webkit-transform .5s;-o-transition:transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.fluro-content-select .no-move{-webkit-transition:-webkit-transform 0s;transition:-webkit-transform 0s;-o-transition:transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s}",""]),e.exports=n},1147:function(e,t,o){"use strict";o(780)},1148:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-5bc02d67]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-5bc02d67]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-5bc02d67]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-5bc02d67]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-5bc02d67]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-5bc02d67]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-5bc02d67]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-5bc02d67]{color:#6378f6!important;caret-color:#6378f6!important}",""]),e.exports=n},1149:function(e,t,o){"use strict";o(781)},1150:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-0baee68f]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-0baee68f]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-0baee68f]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-0baee68f]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-0baee68f]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-0baee68f]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-0baee68f]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-0baee68f]{color:#6378f6!important;caret-color:#6378f6!important}.fluro-code-editor[data-v-0baee68f]{min-height:200px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.fluro-code-editor>div[data-v-0baee68f]{-webkit-box-flex:1;-ms-flex:1;flex:1}",""]),e.exports=n},1155:function(e,t,o){"use strict";o(782)},1156:function(e,t,o){var n=o(9)(!1);n.push([e.i,'.border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-editor{margin-bottom:15px}.fluro-editor *{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}.fluro-editor .text-muted{color:inherit;opacity:.5}.fluro-editor .font-xs{font-size:.7em}.fluro-editor .font-sm{font-size:.8em}.fluro-editor .font-lg{font-size:1.3em}.fluro-editor .font-xl{font-size:1.6em}.fluro-editor .font-xxl{font-size:2em}.fluro-editor table{width:100%!important;border-collapse:collapse}.fluro-editor table td,.fluro-editor table th{border:1px dotted rgba(0,0,0,.1)!important}.fluro-editor .ace_editor{border-radius:5px;overflow:hidden}.fluro-editor .menububble{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;z-index:20;background:#000;border-radius:5px;padding:.3rem;margin-bottom:.5rem;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);visibility:hidden;opacity:0;-webkit-transition:opacity .2s,visibility .2s;-o-transition:opacity .2s,visibility .2s;transition:opacity .2s,visibility .2s;color:#fff!important}.fluro-editor .menububble.active{opacity:1;visibility:visible}.fluro-editor .menububble .v-btn{margin:0;color:#fff}.fluro-editor .menububble .link-input,.fluro-editor .menububble .number-input{background:hsla(0,0%,100%,.2);color:#fff;border-radius:3px;font-size:.8em;padding:2px 4px;color:#fff!important}.fluro-editor .menububble .link-input::-webkit-input-placeholder,.fluro-editor .menububble .number-input::-webkit-input-placeholder{color:hsla(0,0%,100%,.5)}.fluro-editor .menububble .link-input::-moz-placeholder,.fluro-editor .menububble .number-input::-moz-placeholder{color:hsla(0,0%,100%,.5)}.fluro-editor .menububble .link-input::placeholder,.fluro-editor .menububble .number-input::placeholder{color:hsla(0,0%,100%,.5)}.fluro-editor .menububble .link-input:-ms-input-placeholder,.fluro-editor .menububble .number-input:-ms-input-placeholder{color:hsla(0,0%,100%,.5)}.fluro-editor .menububble .link-input::-ms-input-placeholder,.fluro-editor .menububble .number-input::-ms-input-placeholder{color:hsla(0,0%,100%,.5)}.fluro-editor .menububble .number-input{width:40px}.fluro-editor .fluro-image-preview,.fluro-editor .fluro-video-preview{max-width:100%;display:inline-block}.fluro-editor .fluro-image-preview img,.fluro-editor .fluro-video-preview img{display:block}.fluro-editor .fluro-video-preview{position:relative}.fluro-editor .fluro-video-preview:before{content:"\\f4e1";z-index:5;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:3px 15px 3px 25px;color:#fff;font-family:"FontAwesome";font-size:50px!important;background-color:rgba(23,35,34,.75);border-radius:5px 5px 5px 5px}.fluro-editor ol,.fluro-editor ul{padding-left:24px}.fluro-editor user agent stylesheet div{display:block}.fluro-editor html{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Roboto,Segoe UI,Helvetica Neue,sans-serif;font-size:18px;color:#000;line-height:1.5}.fluro-editor .floating-menu{position:absolute;margin-top:-.25rem;visibility:hidden;opacity:0;-webkit-transition:opacity .2s,visibility .2s;-o-transition:opacity .2s,visibility .2s;transition:opacity .2s,visibility .2s}.fluro-editor .floating-menu.is-active{opacity:1;visibility:visible}.fluro-editor-toolbar .v-menu{display:inline}.fluro-editor-toolbar .v-btn{margin:3px}.fluro-editor-textarea{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:200px;overflow:hidden;resize:vertical}.fluro-editor-textarea .selectedCell{background:rgba(99,120,246,.1)}.fluro-editor-textarea>div{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:15px;outline:none;border:1px solid rgba(0,0,0,.1);border-radius:5px;overflow:auto}.fluro-editor-textarea>div:focus{border:1px solid rgba(0,0,0,.4)}.fluro-editor-textarea .is-empty:before{opacity:.4;background:#f06;content:attr(data-empty-text);float:left;pointer-events:none;height:0;font-style:italic}.fluro-editor-textarea .tableWrapper{display:block;width:100%}.fluro-editor-textarea .tableWrapper table{width:100%;border-collapse:collapse}.fluro-editor-textarea .tableWrapper table td,.fluro-editor-textarea .tableWrapper table tr{border:1px solid rgba(0,0,0,.2);padding:10px}.fluro-editor-textarea .btn{text-decoration:none;background:rgba(0,0,0,.05);border-radius:100px}.fluro-editor-textarea .btn-xxs{font-size:.7em;padding:.25em .5em}.fluro-editor-textarea .btn-xs{font-size:.8em;padding:.5em 1em}.fluro-editor-textarea .btn-sm{font-size:.9em;padding:.85em 1.5em}.fluro-editor-textarea .btn-md{font-size:1em;padding:1em 2em}.fluro-editor-textarea .btn-lg{font-size:1.2em;padding:1.25em 2.5em}.fluro-editor-textarea .btn-xl{font-size:1.3em;padding:1.5em 3em}.fluro-editor-textarea .btn-xxl{font-size:1.5em;padding:1.515em 3.3em}.fluro-editor-textarea .mention,.fluro-editor-textarea mention{display:inline;background:rgba(0,0,0,.1);color:rgba(0,0,0,.6);font-size:.9rem;font-weight:500;border-radius:9px;padding:.3rem .5rem;white-space:nowrap}.fluro-editor-textarea pre{-webkit-box-shadow:none;box-shadow:none;border:none;margin:15px 0}.fluro-editor-textarea pre:before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:700;font-size:.6rem}.fluro-editor-textarea pre code{-webkit-box-shadow:none!important;box-shadow:none!important;background:#333!important;color:#ccc!important;padding:15px;display:block}.fluro-editor-textarea pre code .hljs-comment,.fluro-editor-textarea pre code .hljs-quote{color:#999}.fluro-editor-textarea pre code .hljs-deletion,.fluro-editor-textarea pre code .hljs-name,.fluro-editor-textarea pre code .hljs-regexp,.fluro-editor-textarea pre code .hljs-selector-class,.fluro-editor-textarea pre code .hljs-selector-id,.fluro-editor-textarea pre code .hljs-tag,.fluro-editor-textarea pre code .hljs-template-variable,.fluro-editor-textarea pre code .hljs-variable{color:#f2777a}.fluro-editor-textarea pre code .hljs-built_in,.fluro-editor-textarea pre code .hljs-builtin-name,.fluro-editor-textarea pre code .hljs-link,.fluro-editor-textarea pre code .hljs-literal,.fluro-editor-textarea pre code .hljs-meta,.fluro-editor-textarea pre code .hljs-number,.fluro-editor-textarea pre code .hljs-params,.fluro-editor-textarea pre code .hljs-type{color:#f99157}.fluro-editor-textarea pre code .hljs-attribute{color:#fc6}.fluro-editor-textarea pre code .hljs-addition,.fluro-editor-textarea pre code .hljs-bullet,.fluro-editor-textarea pre code .hljs-string,.fluro-editor-textarea pre code .hljs-symbol{color:#9c9}.fluro-editor-textarea pre code .hljs-section,.fluro-editor-textarea pre code .hljs-title{color:#69c}.fluro-editor-textarea pre code .hljs-keyword,.fluro-editor-textarea pre code .hljs-selector-tag{color:#c9c}.fluro-editor-textarea pre code .hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#ccc;padding:.5em}.fluro-editor-textarea pre code .hljs-emphasis{font-style:italic}.fluro-editor-textarea pre code .hljs-strong{font-weight:700}.mention-suggestion{border:1px dotted #6378f6;color:#6378f6;padding:2px;border-radius:9px}.suggestion-list{font-family:"font-proxima";padding:.2rem;border:2px solid rgba(0,0,0,.1);font-size:.8rem;font-weight:700;background:rgba(0,0,0,.05);background:#fff}.suggestion-list .suggestion-list__no-results{padding:.2rem .5rem}.suggestion-list .suggestion-list__item{border-radius:5px;padding:.2rem .5rem;margin-bottom:.2rem;cursor:pointer;font-weight:400}.suggestion-list .suggestion-list__item:last-child{margin-bottom:0}.suggestion-list .suggestion-list__item.is-selected,.suggestion-list .suggestion-list__item:hover{font-weight:700;background-color:rgba(99,120,246,.1);color:#6378f6}.suggestion-list .suggestion-list__item.is-empty{opacity:.5}.tippy-tooltip.dark-theme{background-color:#000;padding:0;font-size:1rem;text-align:inherit;color:#fff;border-radius:5px}.tippy-tooltip.dark-theme .tippy-backdrop{display:none}.tippy-tooltip.dark-theme .tippy-roundarrow{fill:#000}.tippy-popper[x-placement^=top] .tippy-tooltip.dark-theme .tippy-arrow{border-top-color:#000}.tippy-popper[x-placement^=bottom] .tippy-tooltip.dark-theme .tippy-arrow{border-bottom-color:#000}.tippy-popper[x-placement^=left] .tippy-tooltip.dark-theme .tippy-arrow{border-left-color:#000}.tippy-popper[x-placement^=right] .tippy-tooltip.dark-theme .tippy-arrow{border-right-color:#000}',""]),e.exports=n},1180:function(e,t,o){"use strict";o(783)},1181:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-163f3592]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-163f3592]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-163f3592]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-163f3592]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-163f3592]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-163f3592]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-163f3592]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-163f3592]{color:#6378f6!important;caret-color:#6378f6!important}.vc-chrome[data-v-163f3592]{width:auto!important}.v-textarea .v-label[data-v-163f3592]{height:auto!important;white-space:normal!important}.v-textarea .v-label--active[data-v-163f3592]{height:20px!important;white-space:nowrap!important}.help-text[data-v-163f3592]{opacity:.5;font-size:.8em}.color-swatch[data-v-163f3592]{cursor:pointer;border:1px solid #ccc;border-radius:5px;overflow:hidden;background:conic-gradient(#fafafa 0deg,#fafafa 90deg,#ccc 90deg,#ccc 180deg,#fafafa 180deg,#fafafa 270deg,#ccc 270deg,#ccc 1turn) 0 0/25% 25%}.color-swatch .swatch[data-v-163f3592]{display:block;width:100%;padding:10px;color:#fff;font-weight:500;text-align:center}.color-swatch .swatch span[data-v-163f3592]{background:rgba(0,0,0,.2);border-radius:5px;padding:3px 10px;line-height:20px;font-size:14px;display:inline-block}.fluro-content-form-field .same-line[data-v-163f3592]{padding-top:0!important;padding-bottom:0!important}.fluro-content-form-field.is-context[data-v-163f3592]{border-radius:5px;outline:1px dashed rgba(99,120,246,.5);background:rgba(99,120,246,.1)}.fluro-content-form-field .multi-input-row[data-v-163f3592]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid rgba(0,0,0,.1);background:#fff;border-radius:5px;margin-bottom:4px}.fluro-content-form-field .multi-input-row span[data-v-163f3592],.fluro-content-form-field .multi-input-row svg[data-v-163f3592]{opacity:0;cursor:pointer}.fluro-content-form-field .multi-input-row .handle[data-v-163f3592]{opacity:.5}@media (max-width:600px){.fluro-content-form-field .multi-input-row span[data-v-163f3592],.fluro-content-form-field .multi-input-row svg[data-v-163f3592]{opacity:.5!important}}.fluro-content-form-field .multi-input-row:hover span[data-v-163f3592],.fluro-content-form-field .multi-input-row:hover svg[data-v-163f3592]{opacity:1}.fluro-content-form-field .multi-input-row span[data-v-163f3592]{font-style:italic;font-size:.8em}.fluro-content-form-field .multi-input-row .flex[data-v-163f3592]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.fluro-content-form-field .file-drop[data-v-163f3592]{display:block;position:relative;border:1px dashed rgba(0,0,0,.2);background:rgba(0,0,0,.05);padding:10px;border-radius:10px;text-align:center;min-height:60px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:.8;font-style:italic;color:rgba(0,0,0,.5);margin-bottom:5px}.fluro-content-form-field .file-drop[data-v-163f3592]:active,.fluro-content-form-field .file-drop[data-v-163f3592]:focus,.fluro-content-form-field .file-drop[data-v-163f3592]:hover{background:#fff}.fluro-content-form-field .file-drop input[data-v-163f3592]{display:block;left:0;right:0;bottom:0;top:0;opacity:0;width:100%;height:100%;position:absolute;cursor:pointer}.fluro-content-form-field .file-items[data-v-163f3592]{margin-bottom:15px}.fluro-content-form-field .file-items .file-item[data-v-163f3592]{position:relative;padding:5px 5px 5px 15px;border:1px solid rgba(0,0,0,.2);border-bottom:none;background:#fff;font-size:.9em}.fluro-content-form-field .file-items .file-item[data-v-163f3592]:first-child{border-radius:5px 5px 0 0}.fluro-content-form-field .file-items .file-item[data-v-163f3592]:last-child{border-bottom:1px solid rgba(0,0,0,.2);border-radius:0 0 5px 5px}.fluro-content-form-field .vertical-center[data-v-163f3592]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:36px}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input[data-v-163f3592],.fluro-content-form-field.fluro-content-form-field-group.multiple-input[data-v-163f3592]{margin:25px 0}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input.multiple-input-values-0[data-v-163f3592],.fluro-content-form-field.fluro-content-form-field-group.multiple-input.multiple-input-values-0[data-v-163f3592]{margin:0}.fluro-content-form-field .no-flex>.v-input__control>.v-input__slot[data-v-163f3592]{display:block;margin:0}.fluro-content-form-field .v-sheet[data-v-163f3592]{margin-bottom:15px}.fluro-content-form-field .v-toolbar__content[data-v-163f3592]{height:40px!important;padding-right:5px}.fluro-content-form-field .v-toolbar__title[data-v-163f3592]{letter-spacing:-.03em}.fluro-content-form-field .fluro-editor .fluro-editor-textarea>div[data-v-163f3592]{min-height:200px}.fluro-content-form-field .faint .v-label[data-v-163f3592]{font-weight:400!important;opacity:.5;font-style:italic}.fluro-content-form-field .terms[data-v-163f3592]{padding:15px;background:rgba(0,0,0,.05);border-radius:3px;margin:16px 0}.fluro-content-form-field .terms.has-error[data-v-163f3592]{background:rgba(255,82,82,.05)}.fluro-content-form-field .terms>.v-input[data-v-163f3592]{margin-top:0!important}.fluro-content-form-field .terms .conditions[data-v-163f3592]{margin-top:10px;font-size:.9em;opacity:.8;white-space:pre-line;font-style:italic}.fluro-content-form-field.right-messages[data-v-163f3592] .v-text-field__details{text-align:right}.button-select-buttons .btn .tick[data-v-163f3592],.button-select-buttons .v-btn .tick[data-v-163f3592]{opacity:0}.button-select-buttons .btn.active .tick[data-v-163f3592],.button-select-buttons .v-btn.active .tick[data-v-163f3592]{opacity:1}.button-select-buttons .btn:hover .tick[data-v-163f3592],.button-select-buttons .v-btn:hover .tick[data-v-163f3592]{opacity:.5}.button-select-buttons .btn.inactive[data-v-163f3592]{background:rgba(0,0,0,.1);color:inherit!important}",""]),e.exports=n},1182:function(e,t,o){"use strict";o(784)},1183:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-6c52c5c2]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-6c52c5c2]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-6c52c5c2]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-6c52c5c2]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-6c52c5c2]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-6c52c5c2]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-6c52c5c2]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-6c52c5c2]{color:#6378f6!important;caret-color:#6378f6!important}table[data-v-6c52c5c2]{width:100%;border-collapse:collapse}table thead th[data-v-6c52c5c2]{background:#eee;font-size:10px;padding:4px}.input[data-v-6c52c5c2]{background:#fff;border-radius:2px;border:1px solid rgba(0,0,0,.1);padding:3px;height:30px;line-height:30px;display:block;width:100%}.option td[data-v-6c52c5c2]{padding:4px;border-bottom:1px solid rgba(0,0,0,.05)}.option td input[data-v-6c52c5c2]{width:100%;display:block}.option .handle[data-v-6c52c5c2]{width:10px}.option .handle svg[data-v-6c52c5c2]{opacity:0}.option:hover .handle svg[data-v-6c52c5c2]{opacity:.5}",""]),e.exports=n},1184:function(e,t,o){"use strict";o(785)},1185:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-b4764164]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-b4764164]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-b4764164],.expression-field-select .accordion .accordion-panel[data-v-b4764164]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-b4764164]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-b4764164]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-b4764164]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-b4764164]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-b4764164]{color:#6378f6!important;caret-color:#6378f6!important}.expression-field-select[data-v-b4764164]{width:400px;height:100%;max-height:50vh;background:#fff}.expression-field-select .example[data-v-b4764164]{font-size:12px;margin-bottom:5px}.expression-field-select .example .example-code[data-v-b4764164]{font-weight:700;background:rgba(99,120,246,.3);color:#051055;display:inline-block;padding:3px;border-radius:3px;cursor:pointer}.expression-field-select .example .example-description[data-v-b4764164]{font-size:.8em}.expression-field-select .accordion .accordion-panel[data-v-b4764164]{margin:0}.expression-field-select .accordion .accordion-panel .accordion-panel-title[data-v-b4764164]{padding:5px;font-weight:600;font-weight:500;background:#eee}.expression-field-select .accordion .accordion-panel.expanded .accordion-panel-title[data-v-b4764164]{background:#fff}.expression-field-select .accordion .accordion-panel .accordion-panel-content[data-v-b4764164]{background:#fff;padding:5px}",""]),e.exports=n},1186:function(e,t,o){"use strict";o(786)},1187:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-expression-editor{min-height:30px;max-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:4px;border:1px solid #ddd;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:5px}.fluro-expression-editor div.ace_scroller>div.ace_content{margin-top:0!important;overflow:hidden!important;height:30px!important}.fluro-expression-editor div.ace_scroller>div.ace_content .ace_active-line,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_cursor,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_line{line-height:30px!important;height:30px!important}",""]),e.exports=n},1188:function(e,t,o){"use strict";o(787)},1189:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-inline-edit .inline-hide{height:0!important;width:0!important;overflow:hidden!important;display:block!important}",""]),e.exports=n},1190:function(e,t,o){"use strict";o(788)},1191:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.ticketing-manager{margin:10px 0}.ticket-entry{padding:5px;border:1px solid rgba(0,0,0,.1);border-top:none;background:#fff}.ticket-entry:first-child{border-top:1px solid rgba(0,0,0,.1);border-radius:3px 3px 0 0}.ticket-entry:last-child{border-radius:0 0 3px 3px}",""]),e.exports=n},1192:function(e,t,o){"use strict";o(789)},1193:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.key-name{margin-bottom:10px;display:block}.key-name.fade{opacity:.5}.key{border-radius:3px;background:rgba(0,0,0,.1);padding:2px;display:block}.input-block{background:#fff;display:block;border:1px solid #6378f6;width:100%}.expression-group{padding:15px;background:rgba(0,0,0,.05);border-radius:3px;margin-top:16px;border:1px solid transparent}.expression-group.active{background:rgba(240,151,78,.1);border:1px solid rgba(240,151,78,.5);color:#f0974e}.key-preview{margin-top:-15px;font-size:.8em;opacity:.5}",""]),e.exports=n},1198:function(e,t,o){"use strict";o(792)},1199:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.fluro-interaction-form .payment{margin:15px 0;background:#fff;border-radius:3px;border:1px solid #ddd;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1)}.fluro-interaction-form .fluro-content-form-field-custom dt,.fluro-interaction-form .fluro-content-form-field-custom label{font-weight:600}.fluro-interaction-form .modifier{opacity:.5}.fluro-interaction-form .modifier .modifier-title{font-style:italic}.fluro-interaction-form .v-btn .v-progress-circular{width:15px!important;height:15px!important;margin-left:15px}",""]),e.exports=n},1200:function(e,t,o){"use strict";o(793)},1201:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-552e1c40]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-552e1c40]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-552e1c40],.palette-title[data-v-552e1c40]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-552e1c40]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-552e1c40]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-552e1c40]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-552e1c40]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-552e1c40]{color:#6378f6!important;caret-color:#6378f6!important}.fluro-field-editor[data-v-552e1c40]{min-height:50vh}.state-link[data-v-552e1c40]{margin-left:5px;display:inline-block;border-radius:3px;padding:0 5px;line-height:16px;height:16px;cursor:pointer;letter-spacing:0;text-transform:none}.state-link[data-v-552e1c40]:hover{background:rgba(0,0,0,.1)}.fields-tree[data-v-552e1c40]{min-width:300px;background:#eee}.fields-tree label[data-v-552e1c40]{text-transform:uppercase;font-weight:500;letter-spacing:.03em;font-size:.8em;margin-bottom:5px}.placeholder[data-v-552e1c40]{background:#eee}.pseudo-field[data-v-552e1c40]{padding:5px;border-radius:3px;background:#fff;border:1px solid rgba(0,0,0,.1);margin:0 0 4px;cursor:pointer;font-weight:500}.pseudo-field.active[data-v-552e1c40]{background:#6378f6;color:#fff}.default-field[data-v-552e1c40]{border:1px solid rgba(0,0,0,.1);padding:5px;margin-bottom:2px;border-radius:3px;background:#eee;font-weight:500;cursor:pointer}.default-field[data-v-552e1c40]:hover{background:#fafafa}.palette-title[data-v-552e1c40]{text-transform:uppercase;letter-spacing:.05em;font-weight:500;padding:8px;font-size:10px;background:#eee;color:rgba(0,0,0,.5)}.model-preview[data-v-552e1c40]{font-size:.8em;background:#eee;padding:10px}.mini-switch[data-v-552e1c40]{border-radius:100px;line-height:10px;text-transform:uppercase;height:19px;font-size:9px;width:50px;font-weight:500;position:relative;line-height:19px;overflow:hidden;background:#eee;border:1px solid #ddd;color:#ddd;background:rgba(0,0,0,.1);-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.mini-switch .off[data-v-552e1c40],.mini-switch .on[data-v-552e1c40]{position:absolute;width:100%;height:100%;left:0;top:0;right:0;bottom:0;text-align:center}.mini-switch .on[data-v-552e1c40]{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.mini-switch .off[data-v-552e1c40]{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.mini-switch.active[data-v-552e1c40]{background:none;-webkit-box-shadow:none;box-shadow:none;color:#999;border:1px solid #999}.mini-switch.active .on[data-v-552e1c40]{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.mini-switch.active .off[data-v-552e1c40]{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.preview[data-v-552e1c40]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;border-left:3px solid #ddd;border-right:3px solid #ddd;background:#fff;-webkit-box-flex:2;-ms-flex:2;flex:2}.sidebar[data-v-552e1c40]{min-width:300px;max-width:380px;-webkit-box-flex:1;-ms-flex:1;flex:1;background:#fafafa;border-right:1px solid #ddd;-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.field-options[data-v-552e1c40]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;min-width:380px;background:#fafafa}.schema-mode[data-v-552e1c40]{min-width:40vw}.schema-mode .preview[data-v-552e1c40]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.schema-mode .sidebar[data-v-552e1c40]{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.schema-mode .field-options[data-v-552e1c40]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;min-width:40vw}",""]),e.exports=n},125:function(e,t,o){"use strict";o.r(t);var n=o(29),r=(o(65),o(51),o(48),o(21),o(12),o(273)),l=o(126),c=o(964),d=o(270),f=o(271),m=o(943),h=o(944),video=o(945),v=o(946),y=o(947),x=o(948),k=o(949),w=o(15),M=o(36),C={data:function(){return{constrain:!0,keepInBounds:!0,showSource:!1,model:this.value,editor:null,query:null,suggestionRange:null,filteredUsers:[],navigatedUserIndex:0,insertMention:function(){},linkattrs:{href:null,target:null,class:null},linkMenuIsActive:!1,TypographyPlugin:new x.a,FluroNodePlugin:new d.a,FluroMarkPlugin:new f.a,selectedImage:null,selectedVideo:null,scale:100,selectedNode:null}},computed:{objectScale:{get:function(){return this.scale},set:function(e){e=Math.min(e,200),e=Math.max(e,0),this.scale=e}},proEnabled:function(){return this.$pro&&this.$pro.enabled},typographyOptions:function(){return this.TypographyPlugin.options.levels},tokens:function(){return this.options.tokens||[]},barEnabled:function(){return!(this.options.disable&&this.options.disable.bar)},bubbleEnabled:function(){return!(this.options.disable&&this.options.disable.bubble)},showSuggestions:function(){return this.query||this.hasResults},specialityBubbleMenu:function(){return this.selectedImage||this.selectedVideo}},methods:{isEnabled:function(e){if(this.options.toolset)return _.includes(this.options.toolset,e);switch(e){case"image":case"video":return!!this.$fluro.global.select}return!0},select:function(){},hideBubble:function(){this.hideLinkMenu(),this.hideImageMenu(),this.hideVideoMenu()},addFluroNode:function(e){var t=this.FluroNodePlugin.options.classes;-1===t.indexOf(e)&&t.push(e)},getFluroNodes:function(){return this.FluroNodePlugin.options.classes},addFluroMark:function(e){var t=this.FluroMarkPlugin.options.classes;-1===t.indexOf(e)&&t.push(e)},getFluroMarks:function(){return this.FluroMarkPlugin.options.classes},addLinkMenu:function(e,t){var o=this;o.$fluro.options([{title:"Website or URL",value:""},{title:"Asset / File",value:"asset"},{title:"Audio file",value:"audio"}],"Add Link").then((function(n){switch(n.value){case"asset":case"image":case"audio":case"video":return o.$fluro.global.select(n.value,{title:"Select file",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(n){var r=n[0],l=o.$fluro.asset.downloadUrl(r,{withoutToken:!0});o.showLinkMenu(e,t,{href:l,target:t.target,class:t.class})}));default:o.showLinkMenu(e,t,{href:"",target:t.target,class:t.class})}}))},showLinkMenu:function(e,t,o){o||(o={href:t.href,target:t.target,class:t.class});var n=this;n.$fluro.prompt([{title:"URL",key:"href",type:"url",placeholder:"https://www.something.com/",minimum:1,maximum:1,defaultValues:["https://"],params:{autofocus:!0}},{title:"Open in",key:"target",type:"string",directive:"select",minimum:0,maximum:1,defaultValues:[""],options:[{name:"Same Window",value:""},{name:"New Window",value:"_blank"}]},{title:"Style",key:"class",type:"string",directive:"select",minimum:0,maximum:1,options:[{name:"None",value:""},{name:"Extra Small Button",value:"btn btn-standard btn-primary btn-xs"},{name:"Small Button",value:"btn btn-standard btn-primary btn-sm"},{name:"Regular Button",value:"btn btn-standard btn-primary btn-md"},{name:"Large Button",value:"btn btn-standard btn-primary btn-lg"},{name:"Extra Large Button",value:"btn btn-standard btn-primary btn-xl"}]}],"Link Options",o).then((function(t){t.target||(t.target=""),t.class||(t.class=""),n.setLinkUrl(e,t)}))},hideLinkMenu:function(){this.linkattrs={href:null,class:null,target:null},this.linkMenuIsActive=!1},setLinkUrl:function(e,t){e(t),this.hideLinkMenu(),this.editor.focus()},showImageMenu:function(e){e.width.includes("%")&&(this.scale=parseInt(e.width)),this.selectedImage=e},hideImageMenu:function(){this.selectedImage=null,this.selectedNode=null},updateImage:function(e){e(this.selectedImage),this.hideImageMenu(),this.editor.focus()},scaleImage:function(e){this.selectedImage.width="".concat(this.scale,"%"),this.selectedImage.height="auto",this.selectedNode.height=this.selectedImage.height,this.selectedNode.width=this.selectedImage.width},showVideoMenu:function(e){e.width.includes("%")&&(this.scale=parseInt(e.width)),this.selectedVideo=e},hideVideoMenu:function(){this.selectedVideo=null,this.selectedNode=null},updateVideo:function(e){e(this.selectedVideo),this.hideVideoMenu(),this.editor.focus()},scaleVideo:function(e){this.selectedVideo.width="".concat(this.scale,"%"),this.selectedNode.width=this.selectedVideo.width},blurEditor:function(e){this.$emit("blur")},focusEditor:function(e){this.$emit("focus")},blurCode:function(e){this.$emit("blur")},focusCode:function(e){this.$emit("focus")},sourceChange:function(input){this.model=input},showAssetPrompt:function(e){this.$fluro.global.select("asset",{title:"Select assets",minimum:0,maximum:0,allDefinitions:!0},!0).then((function(t){t&&_.each(t,(function(t){e({item:t})}))}))},showImagePrompt:function(e){this.hideImageMenu(),this.$fluro.global.select("image",{title:"Select an Image/Photo",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(t){if(t){var o=_.first(t);e({item:o._id,width:"100%",height:"auto"})}}))},showVideoPrompt:function(e){this.$fluro.global.select("video",{title:"Select a Video",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(t){if(t){var o=_.first(t);e({item:o._id,width:"100%"})}}))},addToken:function(e,t){e(t)},upHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+this.filteredUsers.length-1)%this.filteredUsers.length},downHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.filteredUsers.length},enterHandler:function(){var e=this.filteredUsers[this.navigatedUserIndex];e&&this.selectUser(e),this.popup=null},selectUser:function(e){this.insertMention({range:this.suggestionRange,attrs:{id:e._id,mentionID:e.mentionID,label:e.firstName}}),this.editor.focus()},renderPopup:function(e){if(!this.popup){var t=this.$refs.suggestions,o=document.querySelector(".mention-suggestion")||e,n=(this.$el||document.body,o.getBoundingClientRect());n&&(this.popup=Object(r.a)(".mention-suggestion",{content:t,offset:[n.x+n.width,n.y+n.height],appendTo:document.body,interactive:!0,sticky:!0,plugins:[r.b],showOnCreate:!0,theme:"dark",inertia:!0,duration:[400,200],allowHTML:!0,zIndex:999999999999}))}},destroyPopup:function(){this.popup&&this.popup[0]&&this.popup[0].destroy(),this.popup=null}},props:{codeEditorHeight:{default:600,type:Number},value:{default:"",type:String},placeholder:{type:String},options:{default:function(){return{}},type:Object}},components:{EditorMenuBar:w.d,EditorContent:w.b,FluroCodeEditor:l.default,EditorFloatingMenu:w.c,EditorMenuBubble:w.e,FluroNode:d.a,FluroMark:f.a},created:function(){var e=this,t=this,o=(t.placeholder,new c.a({items:function(){return[]},onEnter:function(t){var o=t.items,n=t.query,r=t.range,l=t.command,c=t.virtualNode;e.query=n,e.filteredUsers=o,e.suggestionRange=r,e.renderPopup(c),e.insertMention=l},onChange:_.debounce(function(){var o=Object(n.a)(regeneratorRuntime.mark((function o(n){var r,l,c,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n.items,r=n.query,l=n.range,c=n.virtualNode,d=e,o.abrupt("return",new Promise((function(e,o){t.$fluro.content.mention(r,t.options.mentions).then((function(t){d.query=r,d.filteredUsers=t,d.suggestionRange=l,d.navigatedUserIndex=0,d.renderPopup(c),e()})).catch(o)})));case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),400),onExit:function(){e.query=null,e.filteredUsers=[],e.suggestionRange=null,e.navigatedUserIndex=0,e.destroyPopup()},onKeyDown:function(t){var o=t.event;return"ArrowUp"===o.key?(e.upHandler(),!0):"ArrowDown"===o.key?(e.downHandler(),!0):"Enter"===o.key&&(e.enterHandler(),!0)},onFilter:function(e,t){return e}})),r=[new M.b,new M.k,new M.p,new M.u,new k.a,new y.a,new M.j,new M.a,new M.e,new M.g,new M.h({levels:[1,2,3,4]}),new M.c,new M.n,new M.m,new h.a,new m.a,new video.a,new M.d,new M.i,new M.q,new M.s,new M.r,new M.t,new v.a,o,this.FluroNodePlugin,this.FluroMarkPlugin,this.TypographyPlugin,new M.o({emptyClass:"placeholder-text",emptyNodeText:t.placeholder,showOnlyWhenEditable:!0})];if(window.hljs){r.push(new M.f({languages:[function(){return window.hljs.getLanguage("json")},function(){return window.hljs.getLanguage("javascript")},function(){return window.hljs.getLanguage("scss")}]}))}this.editor=new w.a({extensions:r,onUpdate:function(e){var o=(0,e.getHTML)();t.model=o},onBlur:function(e){t.blurEditor()},onFocus:function(e){t.focusEditor()},onTransaction:function(data){var t=data.state;data.transaction;"image"==_.get(t,"selection.node.type.name")&&(e.showImageMenu(_.get(t,"selection.node.attrs")),e.selectedNode=_.get(t,"selection.node")),"video"==_.get(t,"selection.node.type.name")&&(e.showVideoMenu(_.get(t,"selection.node.attrs")),e.selectedNode=_.get(t,"selection.node"))}}),t.editor.setContent(t.model)},watch:{value:function(e){this.model=e},placeholder:function(e){this.editor.extensions.options.placeholder.emptyNodeText=e},model:function(e){e!==this.editor.getHTML()&&this.editor.setContent(e),this.$emit("input",e)}},beforeDestroy:function(){this.destroyPopup(),this.editor.destroy()}},O=C,S=(o(1155),o(1)),component=Object(S.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-editor"},[e.bubbleEnabled?o("editor-menu-bubble",{attrs:{editor:e.editor,"keep-in-bounds":e.keepInBounds},on:{hide:e.hideBubble},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.commands,r=t.isActive,l=t.getMarkAttrs,menu=t.menu;return[o("div",{staticClass:"menububble",class:{active:menu.isActive},style:"left: "+menu.left+"px; bottom: "+menu.bottom+"px;"},[e.selectedImage?[r.image()?o("form",{staticClass:"menububble__form",on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[e.proEnabled?[e.constrain?[o("label",{attrs:{for:"widthInput"}},[e._v(" Scale: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.objectScale,expression:"objectScale"}],ref:"widthInput",staticClass:"number-input",attrs:{type:"number",placeholder:"100"},domProps:{value:e.objectScale},on:{change:function(t){return e.scaleImage(n.image)},blur:function(t){return n.image(e.selectedImage)},input:function(t){t.target.composing||(e.objectScale=t.target.value)}}})]:[o("label",{attrs:{for:"widthInput"}},[e._v(" Width: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedImage.width,expression:"selectedImage.width"}],ref:"widthInput",staticClass:"number-input",attrs:{type:"text",placeholder:"100%"},domProps:{value:e.selectedImage.width},on:{change:function(t){return e.scaleImage(n.image)},blur:function(t){return n.image(e.selectedImage)},input:function(t){t.target.composing||e.$set(e.selectedImage,"width",t.target.value)}}}),e._v(" "),o("label",{attrs:{for:"heightInput"}},[e._v("  Height: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedImage.height,expression:"selectedImage.height"}],ref:"heightInput",staticClass:"number-input",attrs:{type:"text",placeholder:"100%"},domProps:{value:e.selectedImage.height},on:{change:function(t){return e.scaleImage(n.image)},blur:function(t){return n.image(e.selectedImage)},input:function(t){t.target.composing||e.$set(e.selectedImage,"height",t.target.value)}}}),e._v(" \n\t\t\t\t\t\t\t\t")],e._v(" "),o("v-btn",{attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.constrain=!e.constrain}}},[o("fluro-icon",{attrs:{icon:e.constrain?"lock":"lock-open"}})],1)]:[o("label",{attrs:{for:"widthInput"}},[e._v(" Size: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.objectScale,expression:"objectScale"}],ref:"widthInput",staticClass:"number-input",attrs:{type:"number",placeholder:"100"},domProps:{value:e.objectScale},on:{change:function(t){return e.scaleImage(n.image)},blur:function(t){return n.image(e.selectedImage)},input:function(t){t.target.composing||(e.objectScale=t.target.value)}}})]],2):e._e()]:e.selectedVideo?[r.video()?o("form",{staticClass:"menububble__form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.scaleVideo(n.video)}}},[o("label",{attrs:{for:"widthInput"}},[e._v(" Scale: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.objectScale,expression:"objectScale"}],ref:"widthInput",staticClass:"number-input",attrs:{type:"number",placeholder:"100"},domProps:{value:e.objectScale},on:{change:function(t){return e.scaleVideo(n.video)},blur:function(t){return n.video(e.selectedVideo)},input:function(t){t.target.composing||(e.objectScale=t.target.value)}}})]):e._e()]:[e.isEnabled("formats")?o("v-menu",{attrs:{attach:"",transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},n),[o("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[e._v(" "),o("div",{staticStyle:{overflow:"auto",width:"300px","max-height":"300px"}},[o("v-list",[o("v-list-tile",{class:{active:r.heading({level:1})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:1})}}},[o("v-list-tile-content",[o("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[e._v("Heading 1")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:2})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:2})}}},[o("v-list-tile-content",[o("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[e._v("Heading 2")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:3})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:3})}}},[o("v-list-tile-content",[o("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[e._v("Heading 3")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:4})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:4})}}},[o("v-list-tile-content",[o("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[e._v("Heading 4")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:5})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:5})}}},[o("v-list-tile-content",[o("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[e._v("Heading 5")])])],1),e._v(" "),e._l(e.typographyOptions,(function(option){return o("v-list-tile",{key:option.title,class:{active:r.typography({level:option.level})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.typography({level:option.level})}}},[o("v-list-tile-content",[o("span",{class:option.level,staticStyle:{margin:"0 !important"}},[e._v(e._s(option.title))])])],1)})),e._v(" "),e._e(),e._v(" "),e._e()],2)],1)]):e._e(),e._v(" "),o("v-btn",{class:{active:r.bold()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.bold.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"bold"}})],1),e._v(" "),o("v-btn",{class:{active:r.italic()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.italic.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"italic"}})],1),e._v(" "),o("v-btn",{class:{active:r.underline()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.underline.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"underline"}})],1),e._v(" "),e.isEnabled("alignment")?[o("v-btn",{class:{active:r.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"left"})}}},[o("fluro-icon",{attrs:{icon:"align-left"}})],1),e._v(" "),o("v-btn",{class:{active:r.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"center"})}}},[o("fluro-icon",{attrs:{icon:"align-center"}})],1),e._v(" "),o("v-btn",{class:{active:r.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"right"})}}},[o("fluro-icon",{attrs:{icon:"align-right"}})],1)]:e._e(),e._v(" "),r.link()?[o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Link options",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showLinkMenu(n.link,l("link"))}}},[o("fluro-icon",{attrs:{icon:"link"}})],1)]:o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Add link",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.addLinkMenu(n.link,l("link"))}}},[o("fluro-icon",{attrs:{icon:"link"}})],1)]],2)]}}],null,!1,2557623645)}):e._e(),e._v(" "),e.barEnabled?o("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.commands,r=t.isActive;return o("div",{staticClass:"fluro-editor-toolbar"},[e.isEnabled("source")?o("v-btn",{staticClass:"hidden-xs-only",class:{"is-active":e.showSource},attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showSource=!e.showSource}}},[e.showSource?o("fluro-icon",{attrs:{icon:"edit"}}):o("fluro-icon",{attrs:{icon:"code"}})],1):e._e(),e._v(" "),e.isEnabled("formats")?o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},n),[o("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[e._v(" "),o("v-list",[o("v-list-tile",{class:{active:r.heading({level:1})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:1})}}},[o("v-list-tile-content",[o("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[e._v("Heading 1")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:2})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:2})}}},[o("v-list-tile-content",[o("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[e._v("Heading 2")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:3})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:3})}}},[o("v-list-tile-content",[o("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[e._v("Heading 3")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:4})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:4})}}},[o("v-list-tile-content",[o("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[e._v("Heading 4")])])],1),e._v(" "),o("v-list-tile",{class:{active:r.heading({level:5})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.heading({level:5})}}},[o("v-list-tile-content",[o("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[e._v("Heading 5")])])],1),e._v(" "),e._l(e.typographyOptions,(function(option){return o("v-list-tile",{key:option.title,class:{active:r.typography({level:option.level})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.typography({level:option.level})}}},[o("v-list-tile-content",[o("span",{class:option.level,staticStyle:{margin:"0 !important"}},[e._v(e._s(option.title))])])],1)})),e._v(" "),e._e(),e._v(" "),e._e()],2)],1):e._e(),e._v(" "),e.isEnabled("bold")?o("v-btn",{class:{active:r.bold()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.bold.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"bold"}})],1):e._e(),e._v(" "),e.isEnabled("italic")?o("v-btn",{class:{active:r.italic()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.italic.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"italic"}})],1):e._e(),e._v(" "),e.isEnabled("underline")?o("v-btn",{class:{active:r.underline()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.underline.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"underline"}})],1):e._e(),e._v(" "),e.tokens.length?o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({attrs:{small:"",disabled:e.showSource}},n),[e._v(" Tokens ")])]}}],null,!0)},[e._v(" "),o("v-list",{attrs:{dense:""}},e._l(e.tokens,(function(t){return o("v-list-tile",{key:t.key,on:{click:function(e){return n.token(t.key)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[e._v(e._s(t.title))])])],1)})),1)],1):e._e(),e._v(" "),e.isEnabled("image")||e.isEnabled("video")||e.isEnabled("blockquote")||e.isEnabled("code_block")||e.isEnabled("horizontal_rule")?o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},n),[o("fluro-icon",{attrs:{icon:"plus"}})],1)]}}],null,!0)},[e._v(" "),o("v-list",{attrs:{dense:""}},[e.isEnabled("image")?o("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showImagePrompt(n.image)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[o("fluro-icon",{attrs:{type:"image"}}),e._v(" Add Image")],1)])],1):e._e(),e._v(" "),e.isEnabled("video")?o("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showVideoPrompt(n.video)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[o("fluro-icon",{attrs:{type:"video"}}),e._v(" Add Video")],1)])],1):e._e(),e._v(" "),o("v-list-tile",{class:{active:r.blockquote()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.blockquote.apply(null,arguments)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[o("fluro-icon",{attrs:{icon:"quote-right"}}),e._v(" Blockquote")],1)])],1),e._v(" "),o("v-list-tile",{class:{active:r.code_block()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.code_block.apply(null,arguments)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[o("fluro-icon",{attrs:{icon:"code"}}),e._v(" Code")],1)])],1),e._v(" "),o("v-list-tile",{class:{active:r.horizontal_rule()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.horizontal_rule.apply(null,arguments)}}},[o("v-list-tile-content",[o("span",{staticStyle:{margin:"0 !important"}},[o("fluro-icon",{attrs:{icon:"horizontal-rule"}}),e._v(" Horizontal Rule")],1)])],1)],1)],1):e._e(),e._v(" "),e.isEnabled("list")?o("v-btn",{class:{active:r.bullet_list()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.bullet_list.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"list-ul"}})],1):e._e(),e._v(" "),e.isEnabled("list")?o("v-btn",{class:{active:r.ordered_list()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.ordered_list.apply(null,arguments)}}},[o("fluro-icon",{attrs:{icon:"list-ol"}})],1):e._e(),e._v(" "),e.isEnabled("alignment")?[o("v-btn",{class:{active:r.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"left"})}}},[o("fluro-icon",{attrs:{icon:"align-left"}})],1),e._v(" "),o("v-btn",{class:{active:r.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"center"})}}},[o("fluro-icon",{attrs:{icon:"align-center"}})],1),e._v(" "),o("v-btn",{class:{active:r.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.alignment({textAlign:"right"})}}},[o("fluro-icon",{attrs:{icon:"align-right"}})],1)]:e._e(),e._v(" "),e.isEnabled("table")?o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"hidden-xs-only",attrs:{small:"",icon:"",disabled:e.showSource}},n),[o("fluro-icon",{attrs:{icon:"table"}})],1)]}}],null,!0)},[e._v(" "),o("v-list",{attrs:{dense:""}},[o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[o("v-list-tile-title",[e._v("Insert Table")])],1),e._v(" "),r.table()?o("span",[o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.addRowBefore.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Insert Row Before ")])],1),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.addRowAfter.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Insert Row After ")])],1),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.deleteRow.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Delete Row ")])],1),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.addColumnBefore.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Insert Column Before ")])],1),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.addColumnAfter.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Insert Column After ")])],1),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.deleteColumn.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Delete Column ")])],1),e._v(" "),o("v-divider"),e._v(" "),o("v-divider"),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.toggleCellMerge.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Combine Cells ")])],1),e._v(" "),o("v-divider"),e._v(" "),o("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),n.deleteTable.apply(null,arguments)}}},[o("v-list-tile-content",[e._v(" Delete table ")])],1)],1):e._e()],1)],1):e._e()],2)}}],null,!1,918516501)}):e._e(),e._v(" "),e.showSource?[o("div",{staticClass:"editor-code-wrapper"},[o("fluro-code-editor",{staticClass:"fluro-editor-textarea",attrs:{lang:"html",height:e.codeEditorHeight},on:{blur:e.blurCode,focus:e.focusCode,input:e.sourceChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:e._e(),e._v(" "),e.showSource?e._e():[o("editor-content",{staticClass:"fluro-editor-textarea",attrs:{editor:e.editor}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuggestions,expression:"showSuggestions"}],ref:"suggestions",staticClass:"suggestion-list"},[e.filteredUsers.length?e._l(e.filteredUsers,(function(t,n){return o("div",{key:t._id,staticClass:"suggestion-list__item",class:{"is-selected":e.navigatedUserIndex===n},on:{click:function(o){return o.stopPropagation(),o.preventDefault(),e.selectUser(t)}}},[o("fluro-avatar",{attrs:{left:"",id:t,type:"persona"}}),e._v(e._s(t.title)+"\n\t\t\t\t\t")],1)})):o("div",{staticClass:"suggestion-list__item is-empty"},[e._v("No users found")])],2)]],2)}),[],!1,null,null,null);t.default=component.exports},126:function(e,t,o){"use strict";o.r(t);o(21),o(28),o(55),o(12),o(31);var n=o(90),r={props:{autoformat:{type:Boolean,default:!0},value:{type:String,default:""},lang:{type:String,default:"html"},height:{default:300,type:Number},readonly:{type:Boolean}},data:function(){return{ready:!1,editor:null,model:this.value,beautifier:null}},computed:{syntax:function(){switch(this.lang){case"css":case"sass":case"scss":return"scss";case"js":return"javascript";case"html":return"html";default:return"".concat(this.lang)}}},methods:{beautify:function(){var e=this;if(e.autoformat&&e.editor){if(!e.beautifier)return o.e(98).then(o.t.bind(null,1836,7)).then((function(o){e.beautifier=o,t()}));t()}function t(){var input=e.editor.session.getValue()||"",t=input.split(/\n/);switch(t[0]=t[0].trim(),input=t.join("\n"),e.syntax){case"html":input=e.beautifier.html(input);break;case"json":case"javascript":input=e.beautifier.js(input);break;case"scss":input=e.beautifier.css(input)}e.editor.session.setValue(input)}},editorInit:function(e){var t=this;t.editor=e;var o=t.$refs.outer,n=e.getSession().getDocument();e.on("change",(function(){var t=e.renderer.lineHeight;o.style.height=t*n.getLength()+"px",e.resize()})),t.readonly?(e.setReadOnly(!0),e.renderer.setShowGutter(!1)):e.on("blur",t.beautify),t.beautify()}},beforeDestroy:function(){this.editor.off("blur",self.beautify)},mounted:function(){var e=this;n.a.load("vue2-ace-editor",(function(){return Promise.all([o.e(2),o.e(4)]).then(o.t.bind(null,1837,7))})).then((function(t){e.$options.components.CodeEditor=t,Promise.all([o.e(110).then(o.t.bind(null,1838,7)),o.e(109).then(o.t.bind(null,1839,7)),Promise.all([o.e(0),o.e(3),o.e(112)]).then(o.t.bind(null,1840,7)),o.e(108).then(o.t.bind(null,1841,7)),Promise.all([o.e(0),o.e(5)]).then(o.t.bind(null,1842,7)),Promise.all([o.e(0),o.e(3),o.e(111)]).then(o.t.bind(null,1843,7)),o.e(113).then(o.t.bind(null,1844,7)),o.e(116).then(o.t.bind(null,1845,7)),o.e(114).then(o.t.bind(null,1846,7))]).then((function(t){e.ready=!0,e.beautify()}),(function(t){e.ready=!0,e.beautify()}))}))},components:{},watch:{value:function(e){e!==this.model&&this.editor.session.setValue(e)},model:function(e){e!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},l=(o(1149),o(1)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.ready?o("div",{ref:"outer",staticClass:"fluro-code-editor"},[o("code-editor",{attrs:{lang:e.syntax,theme:"tomorrow_night_eighties",height:100},on:{init:e.editorInit},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()}),[],!1,null,"0baee68f",null);t.default=component.exports},1304:function(e,t,o){"use strict";o(839)},1305:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}.status-options{background:#fff}.status-options .option-item{cursor:pointer;font-size:.8em;padding:10px;display:block;border-bottom:1px solid rgba(0,0,0,.1);text-transform:uppercase;font-weight:700;letter-spacing:.03em}.status-options .option-item:hover{background-color:#fafbfc}.status-options .option-item:active{background-color:#f5f6f7}.fluro-status-select{cursor:pointer;display:inline-block;height:25px;line-height:25px;vertical-align:middle;width:100px}.fluro-status-select .status-label{border-radius:24px;display:block;font-size:11px;margin:0;padding:0;text-align:center}",""]),e.exports=n},132:function(e,t,o){"use strict";o(55),o(12),o(31),o(14);var n=o(90),r={props:{value:{type:String,default:""},readonly:{type:Boolean}},data:function(){return{ready:!1,editor:null,model:this.value}},mounted:function(){var e=this;n.a.load("vue2-ace-editor",(function(){return Promise.all([o.e(2),o.e(4)]).then(o.t.bind(null,1837,7))})).then((function(t){e.$options.components.CodeEditor=t,Promise.all([Promise.all([o.e(0),o.e(5)]).then(o.t.bind(null,1842,7)),o.e(115).then(o.t.bind(null,1847,7))]).then((function(t){e.ready=!0}),(function(t){console.log("ERROR",t),e.ready=!0}))}))},methods:{editorInit:function(e){this.editor=e,e.on("paste",(function(e){e.text=e.text.replace(/[\r\n]+/g," ")})),e.renderer.screenToTextCoordinates=function(e,t){var o=this.pixelToScreenCoordinates(e,t);return this.session.screenToDocumentPosition(Math.min(this.session.getScreenLength()-1,Math.max(o.row,0)),Math.max(o.column,0))},e.commands.bindKey("Enter|Shift-Enter","null"),e.renderer.setShowGutter(!1),this.readonly&&e.setReadOnly(!0)}},components:{},watch:{value:function(e){e!==this.model&&this.editor.session.setValue(e)},model:function(e){e!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},l=(o(1186),o(1)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.ready?o("div",{staticClass:"fluro-expression-editor"},[o("code-editor",{attrs:{lang:"javascript",height:30},on:{init:e.editorInit},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()}),[],!1,null,null,null);t.a=component.exports},1337:function(e,t,o){"use strict";o(856)},1338:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top{border-top:1px solid rgba(0,0,0,.05)}.border-right{border-right:1px solid rgba(0,0,0,.05)}.border-bottom{border-bottom:1px solid rgba(0,0,0,.05)}.border-left{border-left:1px solid rgba(0,0,0,.05)}.error--text{color:#ff5252!important;caret-color:#ff5252!important}.success--text{color:#4cc650!important;caret-color:#4cc650!important}.warning--text{color:#f0974e!important;caret-color:#f0974e!important}.primary--text{color:#6378f6!important;caret-color:#6378f6!important}td.fixed-w{padding:0!important}.fluro-content-browser{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.fluro-content-browser .v-card{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}",""]),e.exports=n},1341:function(e,t,o){"use strict";o(858)},1342:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-24ab9016]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-24ab9016]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-24ab9016]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-24ab9016]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-24ab9016]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-24ab9016]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-24ab9016]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-24ab9016]{color:#6378f6!important;caret-color:#6378f6!important}.fluro-post-form .v-btn .v-progress-circular[data-v-24ab9016]{width:15px!important;height:15px!important;margin-left:15px}",""]),e.exports=n},1343:function(e,t,o){"use strict";o(859)},1344:function(e,t,o){var n=o(9)(!1);n.push([e.i,".border-top[data-v-4dc2fc62]{border-top:1px solid rgba(0,0,0,.05)}.border-right[data-v-4dc2fc62]{border-right:1px solid rgba(0,0,0,.05)}.border-bottom[data-v-4dc2fc62]{border-bottom:1px solid rgba(0,0,0,.05)}.border-left[data-v-4dc2fc62]{border-left:1px solid rgba(0,0,0,.05)}.error--text[data-v-4dc2fc62]{color:#ff5252!important;caret-color:#ff5252!important}.success--text[data-v-4dc2fc62]{color:#4cc650!important;caret-color:#4cc650!important}.warning--text[data-v-4dc2fc62]{color:#f0974e!important;caret-color:#f0974e!important}.primary--text[data-v-4dc2fc62]{color:#6378f6!important;caret-color:#6378f6!important}",""]),e.exports=n},172:function(e,t,o){"use strict";var n={components:{FluroStatusLabel:o(122).a},props:{value:{type:String,default:function(){return"active"}},type:{type:String}},data:function(){return{status:this.value}},methods:{setStatus:function(e){this.status=e,this.$emit("input",e)}},computed:{options:function(){var e=[];switch(this.type){case"interaction":e.push({title:"Active",value:"active"}),e.push({title:"Draft / Sandbox",value:"draft"}),e.push({title:"Archived",value:"archived"}),e.push({title:"Cancelled",value:"cancelled"});break;case"purchase":e.push({title:"Active",value:"active"}),e.push({title:"Cancelled",value:"cancelled"}),e.push({title:"Expired",value:"expired"});break;case"account":e.push({title:"Active",value:"active"}),e.push({title:"Cancelled",value:"cancelled"}),e.push({title:"On Hold",value:"onhold"}),e.push({title:"Exempt",value:"exempt"}),e.push({title:"Trial",value:"trial"});break;case"plan":e.push({title:"Active",value:"active"}),e.push({title:"Draft",value:"draft"}),e.push({title:"Archived",value:"archived"}),e.push({title:"Template",value:"template"});break;case"contact":e.push({title:"Active",value:"active"}),e.push({title:"Draft / Incomplete",value:"draft"}),e.push({title:"Archived",value:"archived"});break;default:e.push({title:"Active",value:"active"}),e.push({title:"Draft",value:"draft"}),e.push({title:"Archived",value:"archived"})}return e}}},r=(o(1304),o(1)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("div",e._g({staticClass:"fluro-status-select"},n),[o("fluro-status-label",{attrs:{value:e.value}})],1)]}}])},[e._v(" "),o("div",{staticClass:"status-options"},e._l(e.options,(function(option){return o("div",{staticClass:"option-item",class:option.value,on:{click:function(t){return e.setStatus(option.value)}}},[e._v("\n\t\t\t\t"+e._s(option.title)+"\n\t\t\t")])})),0)])}),[],!1,null,null,null);t.a=component.exports},191:function(e,t,o){"use strict";var n,r=o(145),l=(o(17),o(21),o(24),o(12),o(0)),c=o.n(l),d=o(5),f=o.n(d),m=o(115),h=(o(114),o(962)),v=o(136),y=o(34),x=o(50),k={};function _(e,t){if(k[e])return t();k[e]=!0;var script=document.createElement("script");script.type="text/javascript",script.async=!0,script.onload=t,script.src=e,document.getElementsByTagName("head")[0].appendChild(script),console.log("Appended script dependency",e)}var w={props:{contextField:{type:Object},title:{type:String},prefill:{type:Boolean,default:function(){return!0}},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},definition:{type:Object,required:!0},paymentIntegration:{type:Object},gateways:{type:Array,default:function(){return[]}},linkedProcess:{type:[Object,String]},linkedEvent:{type:[Object,String]},debugMode:{type:Boolean},submissionConfig:{type:Object,default:function(){return{}}},submitText:{type:String,default:"Submit"},value:{type:Object,default:function(){return{data:{}}}},defaultState:{type:String,default:function(){return"ready"}},options:{default:function(){return{validateSuccess:!0,backupUploadRealm:c.a.chain(this.definition).get("realms").first().value()}},type:Object}},data:function(){return{forceProcessing:!1,selectedPaymentIntegration:null,selectedPaymentMethod:"card",paymentReady:!1,dataModel:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:this.defaultState,mounted:!1}},created:function(){var e=this;e.options&&(e.options.backupUploadRealm||(e.options.backupUploadRealm=c.a.chain(e.definition).get("realms").first().value(),console.log("set backup realm",e.options.backupUploadRealm))),e.reset()},mounted:function(){this.validate(),this.initializePayment(),this.mounted=!0},watch:{customPaymentElementsRequired:function(){this.createPaymentElements()},value:function(e){this.dataModel=JSON.parse(JSON.stringify(e))},selectedPaymentMethod:function(e){"card"!=e&&this.validate()},state:function(e){this.$emit("state",e)},defaultState:function(e){this.state=e},actualPaymentIntegration:"initializePayment",availableGateways:function(e){var t=this;if(e&&e.length){var o=e[0];t.$set(t.dataModel,"_paymentGateway",t.$fluro.utils.getStringID(o))}else t.$set(t.dataModel,"_paymentGateway",null)}},computed:{requiresExternalPayment:function(){if("square"===this.paymentModule)return!0},actualSubmitText:function(){return this.requiresExternalPayment?"Continue":this.submitText},paymentModule:function(){if(this.actualPaymentIntegration)return this.actualPaymentIntegration.module},customPaymentElementsRequired:function(){if("square"===this.paymentModule)return!0},gatewayLookup:function(){return c.a.reduce(this.availableGateways,(function(e,t){return t&&t._id?(e[t._id]=t,e):e}),{})},actualPaymentIntegration:function(){var e=this;if(e.dataModel._paymentGateway){var t=e.gatewayLookup[e.dataModel._paymentGateway];if(t)return t}if(e.paymentIntegration)return e.paymentIntegration},requiresCardPayment:function(){return"card"==this.selectedPaymentMethod||!this.selectedPaymentMethod},allowAlternativePayments:function(){return this.paymentDetails.allowAlternativePayments},alternativePaymentMethods:function(){return this.allowAlternativePayments&&this.paymentDetails.paymentMethods||[]},webMode:function(){var e=this;if(e.mounted)if(e.$fluro.app){var element=e.$el;if(element)if(element.ownerDocument){if(element.ownerDocument.defaultView)return!element.ownerDocument.defaultView.adminPanelMode;console.log("FORM > NO DEFAULT VIEW")}else console.log("FORM > NO DOCUMENT");else console.log("FORM > NO ELEMENT")}else console.log("FORM > NO APP")},renderable:function(){return this.definition},recursiveClick:function(){var e=this;if(e.debugMode)return function(component){e.$emit("debug",component.field)}},mobile:function(){return this.$vuetify.breakpoint.xsOnly},allowedUserAmount:function(){return parseInt(this.dataModel.userAmount||0)},allowedMinimumAmount:function(){return parseInt(this.paymentDetails.minAmount||0)},allowedMaximumAmount:function(){return parseInt(this.paymentDetails.maxAmount||0)},allowedAmountInput:function(){return{title:"Please enter an amount",key:"userAmount",type:"number",directive:"currency",minimum:0,maximum:1,defaultValues:["0"],params:{currency:this.currency,minValue:this.allowedMinimumAmount,maxValue:this.allowedMaximumAmount}}},receiptInput:function(){return{title:"Where should we send the receipt?",placeholder:"Eg. me@website.com",key:"receiptEmail",type:"email",minimum:0,maximum:1}},activeModifiers:function(){var e=this,t=e.baseAmount||0,o=Date.now(),n=e.paymentDetails.modifiers;if(!n||!n.length)return[];var l=c.a.chain(n).map((function(n){var l={date:o,calculatedTotal:t,model:e.dataModel,data:e.dataModel,matchInArray:e.$fluro.utils.matchInArray,extractFromArray:e.$fluro.utils.extractFromArray,getAge:e.$fluro.utils.getAge,Date:Date,Math:Math,String:String,parseInt:parseInt,parseFloat:parseFloat,Boolean:Boolean,Number:Number,moment:e.$fluro.date.moment,create:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return Object(r.a)(e,o)}},c=e.evaluate(n.expression,l);if(c=Number(c),!isNaN(c)){var d=!0;if(n.condition&&String(n.condition).length&&(d=e.evaluate(n.condition,l)),d){var f="",m=e.$fluro.utils.formatCurrency(c,e.currency);switch(n.operation){case"add":f="+",t+=c;break;case"subtract":f="-",t-=c;break;case"divide":f="/",m=c,t/=c;break;case"multiply":f="x",m=c,t*=c;break;case"set":t=c}var h="".concat(f," ").concat(m);return c||(h=""),{title:n.title,total:Number(parseFloat(t).toFixed(2)),description:h,operation:n.operation}}}})).compact().value();if(!l||!l.length)return[];var d=c.a.findLastIndex(l,(function(e){return"set"==e.operation}));return d&&-1!=d&&(l=c.a.slice(l,d)),l},currency:function(){return this.paymentDetails.currency||""},symbol:function(){return this.$fluro.utils.currencySymbol(self.currency)},baseAmount:function(){return this.requirePayment?this.paymentDetails.amount:this.allowPayment?Math.max(this.allowedMinimumAmount,this.allowedUserAmount):0},formattedBaseAmount:function(){var e=this;return e.$fluro.utils.formatCurrency(e.baseAmount,e.currency)},total:function(){var e=this,t=this.baseAmount;return e.activeModifiers&&e.activeModifiers.length&&(t=c.a.last(e.activeModifiers).total),(!t||isNaN(t)||t<0)&&(t=0),t},formattedTotal:function(){var e=this;return e.$fluro.utils.formatCurrency(e.total,e.currency)},paymentDetails:function(){return this.definition.paymentDetails||{}},showPaymentForm:function(){return!!this.allowPayment||(this.requirePayment||this.allowPayment?this.total&&parseInt(this.total)>0:void 0)},requirePayment:function(){return this.paymentDetails.required},allowPayment:function(){if(!this.requirePayment)return this.paymentDetails.allow},formErrors:function(){},hasErrors:function(){return!!this.errorMessages.length},formOptions:function(){return this.definition.data||{}},gatewaySettings:function(){return this.formOptions.gatewaySettings||{}},availableGateways:function(){var e=this,t=[];e.gateways&&e.gateways.length?t=e.gateways:e.paymentIntegration&&(t=[e.paymentIntegration]);var o={date:Date.now(),calculatedTotal:e.total,model:e.dataModel,data:e.dataModel,matchInArray:e.$fluro.utils.matchInArray,getAge:e.$fluro.utils.getAge,Date:Date,Math:Math,String:String,parseInt:parseInt,parseFloat:parseFloat,Boolean:Boolean,Number:Number,moment:e.$fluro.date.moment,create:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return Object(r.a)(e,o)}};return c.a.reduce(t,(function(t,n){var r=n._id,l=e.gatewaySettings[r]||{};l.title&&(n.displayTitle=l.title);var c=l.expression;return c&&c.length&&!e.evaluate(c,o)||t.push(n),t}),[])},paymentGatewayOptions:function(){return c.a.map(this.availableGateways,(function(e){return{title:e.displayTitle||e.title,value:e._id}}))},paymentFields:function(){var e,t,o,n,r,l=this,c=[];l.debugMode&&(e="John Appleseed",t="4242424242424242",o="09",n="2025",r="123");var d=l.requiresCardPayment?1:0;c.push({title:"Payment Method",key:"_paymentGateway",type:"string",directive:"select",minimum:1,maximum:1,defaultValues:l.actualPaymentIntegration?[l.actualPaymentIntegration._id]:[],options:l.paymentGatewayOptions,expressions:{hide:function(){return l.paymentGatewayOptions.length<=1}}}),c.push({title:"Name on Card",key:"cardName",type:"string",minimum:d,maximum:1,defaultValues:[e]}),c.push({title:"Card Number",key:"cardNumber",type:"string",minimum:d,maximum:1,defaultValues:[t],params:{mask:"credit-card"}});var f={type:"group",sameLine:!0,fields:[]};return f.fields.push({title:"Expiry Month",key:"cardExpMonth",type:"string",placeholder:"MM",minimum:d,maximum:1,className:"xs4",defaultValues:[o]}),f.fields.push({title:"Expiry Year",key:"cardExpYear",type:"string",placeholder:"YYYY",minimum:d,maximum:1,className:"xs4",defaultValues:[n]}),f.fields.push({title:"CVN",key:"cardCVC",type:"string",minimum:d,maximum:1,className:"xs4",defaultValues:[r]}),c.push(f),c},fields:function(){var e=this,t=[],o={key:"_name",type:"group",fields:[],className:"layout row wrap"};e.askFirstName&&o.fields.push({key:"_firstName",minimum:e.requireFirstName?1:0,maximum:1,title:"First Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:e.defaultUserValue("firstName")}),e.askLastName&&o.fields.push({key:"_lastName",minimum:e.requireLastName?1:0,maximum:1,title:"Last Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:e.defaultUserValue("lastName")}),o.fields&&o.fields.length&&t.push(o),e.askGender&&t.push({key:"_gender",minimum:this.requireGender?1:0,maximum:1,title:"Gender",directive:"select",type:"string",options:[{name:"Male",value:"male"},{name:"Female",value:"female"}]}),e.askEmail&&t.push({key:"_email",minimum:e.requireEmail?1:0,maximum:1,title:"Email Address",directive:"input",type:"email",defaultValues:e.defaultUserValue("email")}),e.askPhone&&t.push({key:"_phoneNumber",minimum:e.requirePhone?1:0,maximum:1,title:"Phone Number",directive:"input",type:"string",defaultValues:e.defaultUserValue("phoneNumber")}),e.askDOB&&t.push({key:"_dob",minimum:e.requireDOB?1:0,maximum:1,title:"Date of Birth",directive:"dob-select",type:"date"});var n=e.definition.fields;return t=t.concat(n)},identifier:function(){return this.formOptions.identifier},allowAnonymous:function(){return this.formOptions.allowAnonymous||!1},disableDefaultFields:function(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields:function(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName:function(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName:function(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender:function(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB:function(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail:function(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone:function(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName:function(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName:function(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender:function(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB:function(){return this.formOptions.requireDOB},requireEmail:function(){if(this.formOptions.requireEmail)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"email":return!0;default:return this.requireDefaultContactFields&&!(this.dataModel._phone&&this.dataModel._phone.length)}},requirePhone:function(){if(this.formOptions.requirePhone)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"phone":return!0;default:return this.requireDefaultContactFields&&!(this.dataModel._email&&this.dataModel._email.length)}},definedName:function(){return this.definition.definitionName},displayTitle:function(){return this.title?this.title:"".concat(this.definition.title)},allowed:function(){if("public"==this.definition.privacy)return!0;var e=this.$fluro.access.can("create",this.definedName,"interaction"),t=this.$fluro.access.can("submit",this.definedName,"interaction");return e||t},user:function(){var e=f.a.$store||this.$store;return e?e.state.fluro.user:null},application:function(){var e=f.a.$store||this.$store;return e?e.state.fluro.application:null}},components:{FluroButton:v.a,FluroContentFormField:x.default,FluroContentForm:y.default},methods:{createEwayToken:function(e){var t=this,o=c.a.get(t.actualPaymentIntegration,"publicDetails.publicKey"),n={};return n.name=t.dataModel.cardName,n.number=eCrypt.encryptValue(t.dataModel.cardNumber,o),n.cvc=eCrypt.encryptValue(t.dataModel.cardCVC,o),n.exp_month=String(t.dataModel.cardExpMonth),n.exp_year=String(t.dataModel.cardExpYear).slice(-2),n.exp_month.length<1&&(n.exp_month="0"+n.exp_month),t.debugMode?e({message:"EWay can not be used with sandbox testing keys. Please test in live mode or use another payment integration."}):e(null,n)},createPaymentElements:function(){return console.log("Create Custom Payment Elements"),"square"===this.paymentModule?new Promise((function(e,t){})):Promise.resolve()},createSquareToken:function(e,t){var o=this;(o.$fluro.modal||o.$fluro.app.modal)({options:{integration:o.actualPaymentIntegration,debugMode:o.debugMode,amount:e.amount||0,disableBackdrop:!0,webMode:o.webMode},component:h.a}).then((function(e){return t(null,e)}),(function(e){return t(e)}))},createStripeToken:function(e){console.log("Create stripe token");var t,o=this,n=c.a.get(o.actualPaymentIntegration,"publicDetails.livePublicKey"),r=c.a.get(o.actualPaymentIntegration,"publicDetails.testPublicKey");if(o.debugMode?(t=r,console.log("debug mode use sandbox key")):t=n,!t)return e(null,{error:{message:o.debugMode?"Integration Setup Error: No test keys found.":"Integration Setup Error: No live keys found."}});Stripe.setPublishableKey(t);var l={};return l.name=o.dataModel.cardName,l.number=o.dataModel.cardNumber,l.cvc=o.dataModel.cardCVC,l.exp_month=o.dataModel.cardExpMonth,l.exp_year=o.dataModel.cardExpYear,Stripe.card.createToken(l,e)},debugLog:function(){},evaluate:function(e,t){var o,n;try{o=Object(m.b)(e),n=Object(m.a)(o,t)}catch(o){console.log("Expression Evaluation Error",o),this.debugLog("EXPRESSION EVALUATE ERROR",o,e,t)}finally{return this.debugLog("EXPRESSION RESULT",n,t),n}},initializePayment:function(){var e=this,t=e.actualPaymentIntegration;if(e.paymentReady=!1,t)switch(t.module){case"square":var o="https://js.squareup.com/v2/paymentform",n=e.debugMode||c.a.get(e.actualPaymentIntegration,"publicDetails.sandbox");n&&(o="https://js.squareupsandbox.com/v2/paymentform"),_(o,(function(){console.log("Square has been included on page","Sandboxed:",n),e.paymentReady=!0}));break;case"stripe":_("https://js.stripe.com/v2/",(function(){console.log("Stripe has been included on page"),e.paymentReady=!0}));break;case"eway":_("https://secure.ewaypayments.com/scripts/eCrypt.js",(function(){console.log("Eway has been included on page"),e.paymentReady=!0}))}},abort:function(){console.log("Abort"),this.state="ready",this.forceProcessing=!1},modelChanged:function(){this.$emit("input",this.dataModel)},validate:function(){var form=this.$refs.form;if(!form)return[];var e=[];if(e=e.concat(form.errorMessages),this.showPaymentForm&&this.requiresCardPayment){var t=this.$refs.payment;t&&t.errorMessages&&(e=e.concat(t.errorMessages))}this.errorMessages=e},validateAllFields:function(){this.$refs.form.touch();var e=this.$refs.payment;e&&e.touch(),this.validate()},defaultUserValue:function(e){if(this.prefill)return this.user?c.a.compact([c.a.get(this.user,e)]):null},reset:function(){var e=this;e.selectedPaymentMethod="card",n?e.dataModel={}:(n=!0,e.dataModel=JSON.parse(JSON.stringify(this.value))),e.result=null,e.state="ready",e.modelChanged(),e.$emit("reset")},submit:function(){console.log("Submit!!!!");var e=this;if(e.validateAllFields(),!e.hasErrors){e.state="processing";var t,o,n=JSON.parse(JSON.stringify(e.dataModel));delete n.cardName,delete n.cardNumber,delete n.cardExpYear,delete n.cardExpMonth,delete n.cardCVC,console.log("before prune",n),t=n,n=function e(t){return c.a.forOwn(t,(function(o,n){(c.a.isUndefined(o)||c.a.isNull(o)||c.a.isNaN(o)||c.a.isString(o)&&c.a.isEmpty(o)||c.a.isObject(o)&&c.a.isEmpty(e(o)))&&(c.a.isArray(o)||delete t[n])})),c.a.isArray(t)&&c.a.pull(t,void 0),t}(c.a.cloneDeep(t)),console.log("after prune",n),e.$fluro.global.getCookies&&(o=e.$fluro.global.getCookies("flc_",["fbclid","utm_term","utm_medium","utm_content","utm_source","utm_campaign","utm_mailout"]),console.log("UTM",o));var r={interaction:n,event:e.$fluro.utils.getStringID(e.linkedEvent),process:e.$fluro.utils.getStringID(e.linkedProcess),utm:o};if(d("firstName"),d("lastName"),d("email"),d("phoneNumber"),d("dob"),d("gender"),r.title||(console.log("IF no title"),r.title=e.definition.title),!e.showPaymentForm)return f();var l={amount:e.total};if(console.log("SELECTED PAYMENT METHOD",e.selectedPaymentMethod),e.selectedPaymentMethod&&"card"!=e.selectedPaymentMethod)return l.method=e.selectedPaymentMethod,f(l);switch(l.email=n.receiptEmail,l.integration=e.$fluro.utils.getStringID(e.actualPaymentIntegration),console.log("PAYMENT OPTIONS IS",e.selectedPaymentMethod,l),e.actualPaymentIntegration.module){case"eway":return window.eCrypt?(console.log("create eway token"),e.createEwayToken((function(t,o){return t?(e.serverErrors=e.$fluro.utils.errorMessage(t),e.$fluro.error(e.serverErrors),e.state="error",void e.$emit("error",t)):(console.log("Eway token",o),l.details=o,f(l))}))):(e.serverErrors="ERROR: Eway is selected for payment but the eCrypt script has not been included in this application visit https://eway.io/api-v3/#encrypt-function for more information",e.$fluro.error(e.serverErrors),e.state="error",void e.$emit("error",err));case"square":return e.createSquareToken(l,(function(t,o){if(!t&&!o)return e.abort();if(!t)return console.log("FORM -> Square tokenized",o),l.details=o,e.forceProcessing=!0,f(l);console.log("SQUARE ERRORS RECEIVED",t);var n=t.map((function(e){return e.message||e})).join("\n");console.log("SQUARE ERRORS MESSAGES",n),console.log("FORM -> Square nonce error",t),e.serverErrors=n,e.$fluro.error(n),e.state="error",e.$emit("error",t)}));case"stripe":return e.createStripeToken((function(t,o){var n=t.error||o.error;if(!n)return console.log("FORM -> Stripe tokenized",t,o),l.details=o,f(l);console.log("FORM -> Stripe token error",t,o),e.serverErrors=n.message,e.$fluro.error(e.serverErrors),e.state="error",e.$emit("error",n)}))}}function d(t){var o=c.a.get(e.dataModel,"_".concat(t));o&&c.a.set(r,"contact.".concat(t),o)}function f(t){t&&(console.log("SUBMIT REQUEST WITH PAYMENT",t.amount),e.debugMode&&(t.sandbox=!0),r.payment=t);var o=e.submissionConfig;o.params={definition:e.$fluro.utils.getStringID(e.definition),process:e.$fluro.utils.getStringID(e.linkedProcess)},e.webMode&&(o.application=!0,console.log("Submit as web user")),e.$fluro.content.submitInteraction(e.definedName,r,o).then((function(t){e.state="success",e.$emit("success",t),e.dataModel={data:{}},e.result=t,e.forceProcessing=!1}),(function(t){var o=e.$fluro.utils.errorMessage(t);e.$fluro.error(t),e.serverErrors=o,e.state="error",e.$emit("error",t),console.log("SWITCH STATE TO",t,e),e.forceProcessing=!1}))}}}},M=w,C=(o(1198),o(1)),component=Object(C.a)(M,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-interaction-form"},[e.renderable?[e.allowed?e._e():[e.user?[e._t("authenticated",(function(){return[e._v("You do not have permission to submit this form")]}))]:e._e(),e._v(" "),e.user?e._e():[e._t("unauthenticated",(function(){return[e._v("You must be signed in to submit this form")]}))]],e._v(" "),e.allowed?[e.forceProcessing?o("fluro-page-preloader"):["success"==e.state?e._t("success",(function(){return[o("div",{staticClass:"text-xs-center"},[o("h3",[e._v("Submission Successful")]),e._v(" "),o("div",[e._v("Thank you for your submission")]),e._v(" "),e.webMode?[o("fluro-button",{on:{click:function(t){return e.reset()}}},[e._v("Back to form")])]:[o("v-btn",{on:{click:function(t){return e.reset()}}},[e._v("Back to form")])]],2)]}),{reset:e.reset,result:e.result}):[e._t("info"),e._v(" "),o("form",{attrs:{novalidate:"",disabled:"processing"==e.state},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.submit.apply(null,arguments)}}},[o("fluro-content-form",{ref:"form",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,options:e.options,fields:e.fields},on:{errorMessages:e.validate,input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}}),e._v(" "),e.showPaymentForm?o("div",{staticClass:"payment"},[e.requirePayment?o("v-container",{attrs:{fluid:""}},[o("h2",[e._v("Payment Summary")]),e._v(" "),o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticClass:"modifier-title"},[o("strong",[e._v("Amount")])]),e._v(" "),e.baseAmount?o("v-flex",{attrs:{shrink:""}},[o("strong",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.formattedBaseAmount)+"\n\t\t\t\t\t\t\t\t\t\t\t")])]):e._e()],1),e._v(" "),e._l(e.activeModifiers,(function(t){return o("div",{staticClass:"modifier"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticClass:"modifier-title"},[e._v(e._s(t.title))]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[e._v(e._s(t.description))]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[e._v(e._s(t.formattedTotal))])],1)],1)})),e._v(" "),o("div",[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("h3",[e._v("Total")])]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("h3",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.formattedTotal)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),o("span",{staticClass:"muted"},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.currency.toUpperCase())+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])],1)],1)],2):e._e(),e._v(" "),e.allowPayment?o("v-container",[o("h2",[e._v("Payment")]),e._v(" "),o("fluro-content-form-field",{attrs:{options:e.options,field:e.allowedAmountInput},on:{input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}}),e._v(" "),e._l(e.activeModifiers,(function(t){return o("div",{staticClass:"modifier"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticClass:"modifier-title"},[e._v(e._s(t.title))]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[e._v(e._s(t.description))]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[e._v(e._s(t.formattedTotal))])],1)],1)})),e._v(" "),o("div",[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("h3",[e._v("Total")])]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("h3",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.formattedTotal)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),o("span",{staticClass:"muted"},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.currency.toUpperCase())+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])],1)],1)],2):e._e(),e._v(" "),o("div",{staticClass:"border-top"},[o("tabset",{attrs:{justified:!0},model:{value:e.selectedPaymentMethod,callback:function(t){e.selectedPaymentMethod=t},expression:"selectedPaymentMethod"}},[o("tab",{key:"card",attrs:{heading:"Pay Now",index:"card"}},[e.actualPaymentIntegration?e.requiresExternalPayment?[o("v-container",{staticClass:"border-top",staticStyle:{background:"#fff"}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tPress Continue to complete your payment\n\t\t\t\t\t\t\t\t\t\t\t\t")])]:[o("v-container",{staticClass:"border-top",staticStyle:{background:"#fff"}},[o("h4",[e._v("Card Details")]),e._v(" "),e.debugMode?o("div",{staticClass:"muted font-sm",staticStyle:{"margin-bottom":"5px"}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPayments processed through:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),o("strong",[e._v(e._s(e.actualPaymentIntegration.displayTitle||e.actualPaymentIntegration.title))])]):e._e(),e._v(" "),o("fluro-content-form",{ref:"payment",attrs:{options:e.options,fields:e.paymentFields},on:{errorMessages:e.validate,input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})],1),e._v(" "),e.definition.data.enableReceipt?o("v-container",{staticClass:"border-top",staticStyle:{background:"#fff"}},[o("fluro-content-form-field",{attrs:{options:e.options,field:e.receiptInput},on:{input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})],1):e._e()]:[o("p",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfiguration Error: No payment gateway has been connected to this\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.\n\t\t\t\t\t\t\t\t\t\t\t\t")])]],2),e._v(" "),e._l(e.alternativePaymentMethods,(function(t){return o("tab",{key:t.key,attrs:{heading:t.title,index:t.key}},[o("v-container",{staticClass:"border-top",staticStyle:{background:"#fff"}},[o("h4",[e._v(e._s(t.title))]),e._v(" "),o("div",{domProps:{innerHTML:e._s(t.description)}})])],1)}))],2)],1)],1):e._e(),e._v(" "),o("div",{staticClass:"actions"},["processing"==e.state?[e.webMode?[o("fluro-button",{attrs:{loading:!0,block:e.mobile,large:e.mobile,disabled:!0}},[e._v(e._s(e.actualSubmitText))])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:!0}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.actualSubmitText)+"\n\t\t\t\t\t\t\t\t\t\t\t"),o("v-progress-circular",{attrs:{indeterminate:""}})],1)]]:"error"==e.state?[o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v(e._s(e.serverErrors))]),e._v(" "),e.webMode?[o("fluro-button",{attrs:{block:e.mobile,large:e.mobile},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("Try Again")])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("Try Again")])]]:[e.hasErrors?o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n\t\t\t\t\t\t\t\t\t\tPlease check the following issues before submitting\n\t\t\t\t\t\t\t\t\t\t"),e._l(e.errorMessages,(function(t){return o("div",[o("strong",[e._v(e._s(t.title))]),e._v("\n\t\t\t\t\t\t\t\t\t\t\t: "+e._s(t.messages[0])+"\n\t\t\t\t\t\t\t\t\t\t")])}))],2):e._e(),e._v(" "),o("v-layout",[e.webMode?[o("fluro-button",{attrs:{tag:"button",type:"submit",block:e.mobile,large:e.mobile,disabled:e.hasErrors},nativeOn:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v(e._s(e.actualSubmitText))])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v(e._s(e.actualSubmitText))])],e._v(" "),o("v-spacer"),e._v(" "),e._t("submit")],2)]],2)],1)]]]:e._e()]:e._e()],2)}),[],!1,null,null,null);t.a=component.exports},195:function(e,t,o){"use strict";o(21);var n=o(937),r={props:{errorMessages:{type:Array},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:String},width:{default:"100%",type:[String,Number]},height:{default:"300px",type:[String,Number]},readonly:{type:Boolean}},mounted:function(){var e=this,canvas=this.$refs.canvas;e.pad=new n.a(canvas,{dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7}),e.pad.onBegin=function(){console.log("Begin!")},e.pad.onEnd=function(){console.log("End!"),e.model=e.pad.toDataURL(),e.save()},window.addEventListener("resize",e.resizeCanvas),e.resizeCanvas()},data:function(){return{model:this.value,pad:null}},methods:{resizeCanvas:function(){var e=Math.max(window.devicePixelRatio||1,1),canvas=this.$refs.canvas;canvas.width=canvas.offsetWidth*e,canvas.height=canvas.offsetHeight*e,canvas.getContext("2d").scale(e,e),this.pad.clear()},clear:function(){this.pad.clear(),this.model="",this.save()},save:function(){this.$emit("input",this.model)}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCanvas)}},l=(o(1025),o(1027),o(1)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-signature-field"},[o("v-input",{staticClass:"no-flex",attrs:{label:e.label,"persistent-hint":!0,required:e.required,"error-messages":e.errorMessages,hint:e.hint}},[o("div",{staticClass:"signature-pad-wrap"},[o("canvas",{ref:"canvas",staticClass:"signature-pad",attrs:{id:"signature-pad"}}),e._v(" "),o("v-btn",{staticClass:"clear",on:{click:function(t){return e.clear()}}},[e._v("\n\t\t\t\tClear\n\t\t\t\t"),o("fluro-icon",{attrs:{right:"",icon:"times"}})],1)],1)])],1)}),[],!1,null,"9482312c",null);t.a=component.exports},196:function(e,t,o){"use strict";o(21);var n=o(74),r=o(75),l=o(7),c="YYYY-MM-DD",d="HH:mm",f=(new(o.n(l).a)).startOf("day"),m={name:"datetime-picker",model:{prop:"datetime",event:"input"},components:{FluroTab:n.a,FluroTabset:r.a},props:{webMode:{type:Boolean},datetime:{type:[Date,String],default:null},label:{type:String,default:""},hint:{type:String,default:""},placeholder:{type:String,default:"Select a date"},required:{type:Boolean},min:{type:Date},max:{type:Date},outline:{type:Boolean},width:{type:Number,default:320},format:{type:String,default:"YYYY-MM-DD HH:mm:ss"},timePickerFormat:{type:String,default:"24hr"},locale:{type:String,default:"en-us"},clearText:{type:String,default:"CLEAR"},large:{type:Boolean,default:!0},okText:{type:String,default:"OK"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},errorMessages:{type:Array},errorCount:{type:[Number,String],default:1},error:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appendIcon:{type:String},prependIcon:{type:String}},data:function(){return{display:!1,dateSelected:!1,timeSelected:!1,activeTab:"date",selectedDatetime:null}},created:function(){var e=this;e.datetime&&(e.datetime instanceof Date?e.selectedDatetime=e.datetime:("string"==typeof e.datetime||e.datetime instanceof String)&&(e.selectedDatetime=e.$fluro.date.moment(new Date(e.datetime),e.format)))},watch:{datetime:function(e){var t=this;e instanceof Date?t.selectedDatetime=e:("string"==typeof e||e instanceof String)&&(t.selectedDatetime=t.$fluro.date.moment(new Date(e),t.format))}},computed:{isWebMode:function(){var e=this;if(e.webMode)return!0;if(e.$fluro.app){var element=e.$el;if(element&&element.ownerDocument&&element.ownerDocument.defaultView)return!element.ownerDocument.defaultView.adminPanelMode}},minDateString:function(){var e=this;return e.min?e.$fluro.date.moment(e.min).format(c):null},maxDateString:function(){var e=this;return e.max?e.$fluro.date.moment(e.max).format(c):null},readable:function(){return this.datetime?this.formattedDatetime:this.placeholder},datePart:{get:function(){var e=this;return e.selectedDatetime?e.$fluro.date.moment(e.selectedDatetime).format(c):""},set:function(e){var t=this;t.dateSelected=!0,t.activeTab="time";var o=t.$fluro.date.moment,n=o(e,c),r=t.selectedDatetime?o(t.selectedDatetime).hour():0,l=t.selectedDatetime?o(t.selectedDatetime).minute():0,input=o().year(n.year()).month(n.month()).date(n.date()).hour(r).minute(l).second(0);t.selectedDatetime=input.toDate()}},timePart:{get:function(){var e=this;return e.selectedDatetime?e.$fluro.date.moment(e.selectedDatetime).format(d):"00:00"},set:function(e){var t=this;t.timeSelected=!0;var time=t.$fluro.date.moment(e,d),input=t.$fluro.date.moment(t.selectedDatetime||f).hour(time.hour()).minute(time.minute()).second(0);t.selectedDatetime=input.toDate()}},formattedDatetime:function(){var e=this;return e.datetime?e.$fluro.date.moment(e.datetime).format(e.format):""}},methods:{okHandler:function(){this.display=!1,this.activeTab="date",this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",this.selectedDatetime)},clearHandler:function(){this.display=!1,this.activeTab="date",this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",null)}}},h=m,v=o(1),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{attrs:{lazy:"","full-width":"",width:e.width,disabled:e.disabled},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[o("v-input",{staticClass:"no-flex",attrs:{slot:"activator",label:e.label,required:e.required,hint:e.hint,"persistent-hint":!0,disabled:e.disabled,loading:e.loading,"error-messages":e.errorMessages,"error-count":e.errorCount,error:e.error,"hide-details":e.hideDetails},on:{blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}},nativeOn:{click:function(t){return e.$emit("touched")}},slot:"activator"},[e.isWebMode?[o("fluro-button",{staticClass:"mx-0",attrs:{block:""}},[o("fluro-icon",{attrs:{left:"",icon:"calendar-alt"}}),e._v(e._s(e.readable)+" ")],1)]:[o("v-btn",{staticClass:"mx-0",attrs:{block:"",large:e.large}},[o("fluro-icon",{attrs:{left:"",icon:"calendar-alt"}}),e._v(e._s(e.readable)+" ")],1)]],2),e._v(" "),o("flex-column",[o("fluro-tabset",{attrs:{justified:!0},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[o("fluro-tab",{attrs:{heading:"Date",index:"date"}},[o("v-date-picker",{staticClass:"elevation-0",attrs:{attach:"",min:e.minDateString,max:e.maxDateString,"full-width":"",scrollable:"",locale:e.locale,actions:""},model:{value:e.datePart,callback:function(t){e.datePart=t},expression:"datePart"}})],1),e._v(" "),o("fluro-tab",{attrs:{heading:"Time",index:"time"}},[o("v-time-picker",{ref:"timer",staticClass:"v-time-picker-custom elevation-0",attrs:{attach:"","full-width":"",scrollable:"",format:e.timePickerFormat,actions:""},model:{value:e.timePart,callback:function(t){e.timePart=t},expression:"timePart"}})],1)],1),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),e._t("actions",(function(){return[e.isWebMode?[o("fluro-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.clearHandler}},[e._v(e._s(e.clearText))]),e._v(" "),o("fluro-button",{attrs:{size:"sm"},on:{click:e.okHandler}},[e._v(e._s(e.okText))])]:[o("v-btn",{staticClass:"mr-1",attrs:{color:"",flat:""},nativeOn:{click:function(t){return e.clearHandler.apply(null,arguments)}}},[e._v(e._s(e.clearText))]),e._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:e.okHandler}},[e._v(e._s(e.okText))])]]}),{parent:this})],2)],1)],1)}),[],!1,null,null,null);t.a=component.exports},197:function(e,t,o){"use strict";o(21),o(12),o(24),o(17),o(85);var n=o(5),r=o.n(n),l=o(71),c=o.n(l),d=o(88),f=o(104),m=o(89),h=o(122),v=o(101),y=o(98),x=o(97),k=o(0),_=o.n(k),w={components:{draggable:c.a,FluroContentSelectModal:m.a,FluroTable:v.a,FluroStatusLabel:h.a},mixins:[d.a],props:{template:{type:Object},success:{type:Boolean},required:{type:Boolean},errorMessages:{type:Array},label:{type:String},hint:{default:"",type:String},placeholder:{type:String},value:{type:[Array,Object],default:function(){return[]}},type:{type:String},types:{type:Array},minimum:{type:Number,default:0},maximum:{type:Number,default:0},outline:{type:Boolean},options:{default:function(){return{}},type:Object},searchInheritable:{type:Boolean,default:!0},allDefinitions:{type:Boolean,default:!0},lockFilter:{type:Object}},created:function(){this.setInitialValue(this.value)},computed:{contextSelection:function(){return new(r.a.extend(f.a))({propsData:{minimum:0,maximum:this.maximum}})},showBasicList:function(){return!this.options.forceTableView&&this.model.length<=this.listLimit},columns:function(){var e=this,t=[];return t.push({title:"",key:"_id",renderer:y.a,shrink:!0}),"contact"==this.type?(t.push({title:"First Name",key:"firstName"}),t.push({title:"Last Name",key:"lastName"})):t.push({title:"Title",key:"title"}),t.push({title:"Status",key:"status",renderer:x.a,shrink:!0}),e.editInPlaceEnabled&&t.push({title:"",key:"_id",renderer:"button",tooltip:"Edit",shrink:!0,button:{icon:"pencil",action:function(t){return new Promise((function(o,n){e.editInPlace(t),o()}))}}}),t.push({title:"",key:"_id",renderer:"button",shrink:!0,button:{icon:"times",tooltip:"Remove from list",action:function(t){return new Promise((function(o,n){function r(){e.deselect(t),o()}e.confirmRemove&&e.$fluro.confirm?e.$fluro.confirm("Remove from list","Deselect ".concat(t.title,"?")).then(r).catch(n):r()}))}}}),e.options&&e.options.actions&&e.options.actions.length&&(t=t.concat(e.options.actions)),t},readableSingle:function(){return this.$fluro.types.readable(this.type||"node")},readablePlural:function(){return this.$fluro.types.readable(this.type||"node",!0)},canCreate:function(){var e=this.type;if(e)return"node"!==e?this.$fluro.access.can("create",e,this.$fluro.types.parentType(e)):void 0},textPlaceholder:function(){var e=this.type?this.$fluro.types.readable(this.type,!0):"items";return this.placeholder||"Quick search for ".concat(e)},showOutline:function(){return this.outline||this.options.outline},limited:function(){return this.model.slice(0,this.listLimit)},model:{get:function(){return this.selection},set:function(e){this.selection=e}},multiple:function(){return 1!=this.maximum},total:function(){return this.model.length},canAddValue:function(){return!this.maximum||this.total<this.maximum},dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},search:{get:function(){return this.terms},set:_.a.debounce((function(e){this.terms=e}),500)}},methods:{removeCurrentSelection:function(){var e=this.contextSelection.selection.slice();this.deselectMultiple(e),this.contextSelection.deselectAll()},viewItem:function(e){this.$fluro.global.view(e,!0)},editInPlaceEnabled:function(e){return this.$fluro.access.canEditItem(e)&&this.$fluro.global.edit},editInPlace:function(e){this.$fluro.global.edit&&this.$fluro.global.edit(e,!0).then((function(t){_.a.assign(e,t)}))},setInitialValue:function(e){if(this.selectionMinimum=this.minimum,this.selectionMaximum=this.maximum,e){if(_.a.isArray(e)&&e.length)return this.setSelection(e);if(e._id||e.length)return this.setSelection([e])}this.selection&&this.selection.length&&this.setSelection([])},create:function(){var e=this;e.type;e.$fluro.global.create(e.type,{options:!0,disableCacheClearOnSave:!0,template:JSON.parse(JSON.stringify(e.template||{}))},!0).then((function(t){e.select(t)}))},showModal:function(){var e=this;if(e.type&&"node"!=e.type)return t(e.type);function t(t){var o=_.a.map(e.columns,"key");e.$fluro.modal({component:m.a,options:{selector:e,type:t,minimum:e.minimum,maximum:e.maximum,allDefinitions:e.allDefinitions,searchInheritable:e.searchInheritable,lockFilter:e.lockFilter,joins:o}})}e.$fluro.types.basicTypes().then((function(o){var n=_.a.chain(o).map((function(e){if(e)return{name:e.title,title:e.title,value:e.definitionName}})).compact().orderBy("title").value();console.log("TYPES OF THINGS",n),e.$fluro.options(n,"Select a type","Select what kind of thing you want to reference").then((function(e){t(e.value)}))}))},closeModal:function(){this.dialog=!1},selected:function(){var e=this,t=e.candidates;if(e.canAddValue){if(e.maximum){var o=e.maximum-e.total;t=t.slice(0,o)}t.length&&_.a.each(t,(function(t){e.select(t)}))}e.terms="",e.candidates=[]},getActions:function(e){var t=this,o=[];return o.push({title:"Deselect",click:function(){return t.deselect(e)}}),o}},watch:{value:function(e){this.setInitialValue(e)},terms:function(e){var t=this;if(t.results=[],e&&e.length){t.loading=!0;var o={allDefinitions:!0};t.type&&(o.types=t.type),t.$fluro.content.search(e,o).then((function(e){t.results=e,t.loading=!1})).catch((function(e){t.loading=!1,t.results=[]}))}},selection:function(s){this.model=s},model:function(){this.multiple?this.$emit("input",this.model):this.$emit("input",_.a.first(this.model))},minimum:function(e){this.selectionMinimum=e},maximum:function(e){this.selectionMaximum=e}},data:function(){return{listLimit:50,actionIndexes:{},candidates:[],results:[],terms:"",loading:!1,dialog:!1,drag:!1}}},M=(o(1143),o(1)),component=Object(M.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-content-select",class:{outlined:e.showOutline}},[e.model.length?[e.showBasicList?o("div",{staticClass:"fluro-content-list"},[o("list-group",[o("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"draggable",e.dragOptions,!1),e._l(e.model,(function(t,n){return o("list-group-item",{key:t._id,attrs:{item:t},on:{click:function(o){return e.viewItem(t)}},scopedSlots:e._u([{key:"right",fn:function(){return[t.status?o("fluro-status-label",{attrs:{value:t.status}}):e._e(),e._v(" "),t.paymentStatus?o("fluro-status-label",{attrs:{value:t.paymentStatus}}):e._e(),e._v(" "),o("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[o("v-btn",e._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},r),[e.actionIndexes[n]?o("fluro-icon",{attrs:{icon:"times"}}):o("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:e.actionIndexes[n],callback:function(t){e.$set(e.actionIndexes,n,t)},expression:"actionIndexes[index]"}},[e._v(" "),o("v-list",{attrs:{dense:""}},[e.editInPlaceEnabled(t)?o("v-list-tile",{on:{click:function(o){return e.editInPlace(t)}}},[o("v-list-tile-content",[e._v("Edit")])],1):e._e(),e._v(" "),o("v-list-tile",{on:{click:function(o){return e.deselect(t)}}},[o("v-list-tile-content",[e._v("Deselect")])],1),e._v(" "),o("v-list-tile",{on:{click:function(o){return e.$actions.open([t])}}},[o("v-list-tile-content",[e._v("More Actions")])],1)],1)],1)]},proxy:!0}],null,!0)})})),1)],1)],1):o("div",{staticClass:"fluro-content-list"},[o("fluro-panel",[o("fluro-table",{staticStyle:{"max-height":"50vh"},attrs:{selection:e.contextSelection,trackingKey:"_id",pageSize:40,items:e.model,columns:e.columns}}),e._v(" "),e.contextSelection.selection.length?o("fluro-panel-title",{staticClass:"border-top"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticClass:"selection-summary"},[e._v(e._s(e.contextSelection.selection.length)+" Selected")]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",attrs:{color:"primary",small:""},on:{click:function(t){return e.removeCurrentSelection()}}},[e._v("\n\t\t\t\t\t\t\t\t\tRemove "+e._s(e.contextSelection.selection.length)+" from list\n\t\t\t\t\t\t\t\t")]),e._v(" "),o("v-btn",{staticClass:"ma-0 ml-1",attrs:{color:"primary",small:""},on:{click:function(t){return e.$actions.open(e.contextSelection.selection)}}},[e._v("\n\t\t\t\t\t\t\t\t\tMore Actions\n\t\t\t\t\t\t\t\t")])],1)],1)],1):e._e()],1)],1)]:e._e(),e._v(" "),e.canAddValue?o("div",{staticClass:"content-select-search-bar"},[o("div",{staticClass:"content-select-search"},[o("v-autocomplete",{attrs:{outline:e.showOutline,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.hint,"hide-selected":!0,"append-icon":"","persistent-hint":!0,placeholder:e.textPlaceholder,"return-object":!0,"item-text":"title",multiple:!0,loading:e.loading,items:e.results,"search-input":e.search,flat:"","hide-no-data":""},on:{focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")},change:function(t){return e.selected()},"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[o("v-list-tile-avatar",{staticClass:"text-sm-center"},["persona"==n._type?[o("fluro-avatar",{attrs:{id:n._id,type:"persona"}})]:"contact"==n._type?[o("fluro-avatar",{attrs:{id:n._id,type:"contact"}})]:"image"==n._type?[o("fluro-image",{attrs:{item:n,spinner:!0,width:40,height:40}})]:[o("fluro-icon",{attrs:{type:n._type}})]],2),e._v(" "),o("v-list-tile-content",["event"==n._type?[o("v-list-tile-title",{domProps:{textContent:e._s(n.title)}}),e._v(" "),o("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(n)))])]:[o("v-list-tile-title",{domProps:{textContent:e._s(n.title)}})]],2)]}}],null,!1,1067703648),model:{value:e.candidates,callback:function(t){e.candidates=t},expression:"candidates"}})],1),e._v(" "),o("div",{staticClass:"content-select-search-buttons"},[e.canCreate?o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0 mr-1",attrs:{small:"",content:"Create new "+e.readableSingle,color:"primary"},on:{click:function(t){return e.create()}}},[o("span",[e._v("New")]),e._v(" "),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1):e._e(),e._v(" "),o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",content:"Browse for "+e.readablePlural},on:{click:e.showModal}},[o("span",[e._v("Find")]),e._v(" "),o("fluro-icon",{attrs:{icon:"search",right:""}})],1)],1)]):e._e()],2)}),[],!1,null,null,null);t.a=component.exports},283:function(e,t,o){"use strict";o(12),o(102);var n=o(5),r=o.n(n),l=o(0),c=o.n(l),d=o(332),f=[];f.push({title:"Basic Field",description:"Add a basic field that you can customise",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",directive:"input",key:""}}),f.push({title:"Date Field",description:"Add a basic date field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"date",directive:"datetime-select",key:"date"}}),f.push({title:"Multiple Choice",description:"Add a select dropdown where the user can choose an option from a list",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:"",directive:"select",options:[{name:"Option One",value:"Option One"},{name:"Option Two",value:"Option Two"},{name:"Option Three",value:"Option Three"},{name:"Option Four",value:"Option Four"}]}}),f.push({title:"File Reference",description:"Add an asset attachment field",field:{title:"Attachments",description:"Create or select your files",minimum:0,maximum:0,type:"reference",params:{restrictType:"asset"},key:"attachments"},params:{}});var m=f,h=[];h.push({title:"Basic Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:""}}),h.push({title:"Background",description:"Add a background with tint option",field:{title:"Background",minimum:1,maximum:1,askCount:1,type:"group",asObject:!0,key:"background",fields:[{title:"Image",key:"image",type:"reference",minimum:0,maximum:1,params:{restrictType:"image"}},{title:"Tint",key:"tint",type:"string",directive:"color",minimum:0,maximum:1,defaultValues:["#00000055"],expressions:{hide:"!model.image"}}]}}),h.push({title:"Button",description:"Add a set of buttons/links",field:{title:"Button",minimum:0,maximum:0,askCount:1,asObject:!0,type:"group",key:"button",fields:[{title:"Text",minimum:1,maximum:1,type:"string",key:"text",defaultValues:["Find Out More"]},{title:"Link to",minimum:1,maximum:1,type:"string",key:"type",directive:"select",options:[{name:"Page",title:"Page",value:"page"},{name:"External URL",title:"External URL",value:"url"},{name:"Popup",title:"Popup",value:"popup"}],defaultValues:["page"]},{title:"Page",minimum:1,maximum:1,type:"string",key:"page",directive:"app-page-select",expressions:{hide:"model.type != 'page' && model.type != 'popup'"}},{title:"URL",minimum:1,maximum:1,type:"url",key:"url",expressions:{hide:"model.type != 'url'"}},{title:"Open in",minimum:0,maximum:1,type:"string",key:"window",directive:"select",options:[{name:"Same Window",title:"Same Window",value:""},{name:"New Window",title:"New Window",value:"_blank"}],expressions:{hide:"model.type != 'url'"}},{title:"Style",minimum:1,maximum:1,askCount:1,asObject:!0,type:"group",key:"style",fields:[{title:"Button Style Options",type:"group",key:"styleOptions",sameLine:!0,fields:[{title:"Size",minimum:0,maximum:1,type:"string",key:"size",directive:"app-size-select"},{title:"Type",minimum:0,maximum:1,type:"string",key:"type",directive:"select",options:[{title:"Standard",name:"Standard Button",value:""},{title:"Outline",name:"Outline Button",value:"outline"},{title:"Link",name:"Text Link",value:"link"}]},{title:"Style",minimum:0,maximum:1,type:"string",key:"style",directive:"select",defaultValues:["default"],options:[{title:"Default",name:"Default",value:"default"},{title:"Danger",name:"Danger",value:"danger"},{title:"Success",name:"Success",value:"success"}]}]}]},{title:"Icon",minimum:1,maximum:1,askCount:1,asObject:!0,type:"group",key:"icon",sameLine:!0,fields:[{title:"Icon Options",type:"group",key:"iconOptions",sameLine:!0,fields:[{title:"Icon",minimum:0,maximum:1,type:"string",key:"icon",directive:"app-icon-select",defaultValues:["angle-right"]},{title:"Icon Library",minimum:0,maximum:1,type:"string",key:"library",directive:"select",options:[{title:"Solid",value:"fas"},{title:"Regular",value:"far"},{title:"Brands / Logos",value:"fab"},{title:"Thin",value:"fal"}],defaultValues:["fas"]},{title:"Icon Position",minimum:0,maximum:1,type:"string",key:"position",directive:"select",options:[{title:"Left",value:"left"},{title:"Right",value:"right"}],defaultValues:["right"]}]}]}]}});var v,y=h,x=o(71),k=o.n(x),_=o(11),w=(o(24),o(333),o(70)),M={name:"fluro-field-editor-item",components:{draggable:k.a,FluroHelp:w.a},props:{top:{type:Array},topKey:{type:String,default:function(){return"data"}},parent:{type:Object,required:!0},parentGroup:{type:Object},leaf:{type:Object,required:!0},select:{type:Function},mouseover:{type:Function},mouseleave:{type:Function},selected:{type:Object}},data:function(){return{showActions:!1,treeOptions:{animation:1,group:"fields",ghostClass:"ghost"},model:this.leaf}},computed:{actualParentGroup:function(){return"group"==this.model.type&&this.model.asObject?this.model:this.parentGroup},fieldPath:function(){var e=this,t=e.leaf;var o={};return function e(t,o,n,r){for(var l in t){var c=t[l];if(c==o)return c.asObject||"embedded"==c.directive?c.minimum==c.maximum==1?n.push(c.key):n.push(c.key+"[i]"):n.push(c.key),void(r.trail=n.slice());c.fields&&c.fields.length&&((c.asObject||"embedded"==c.directive)&&(c.minimum==c.maximum==1?n.push(c.key):n.push(c.key+"[i]")),e(c.fields,o,n,r),(c.asObject||"embedded"==c.directive)&&n.pop())}}(e.top,t,[],o),"".concat(e.topKey,".").concat(o.trail.join("."))},ticketed:function(){return this.model&&this.model.params&&this.model.params.ticketing&&this.model.params.ticketing.enabled},readableIssues:function(){if(this.issues.length)return this.issues.join(", ")},issues:function(){var e=this,t=[];if(!e.model.title)return t.push("This field does not have a title"),t;function o(t){if(t!=e.model)return"group"!=t.type||t.asObject?t.key==e.model.key:!!c.a.some(t.fields,o)||void 0}return e.model.key||t.push("This field does not have a database key"),(e.parentGroup?e.parentGroup.fields:e.parent.fields).some((function(e){return o(e)}))&&t.push("The key '".concat(e.model.key,"' conflicts with another field.")),t},targetRealms:function(){return this.model.params?this.model.params.targetRealms:null},summary:function(){var e=this,t=1!=e.model.maximum;if(e.model.params||(e.model.params={}),"embedded"==e.model.directive){if(e.model.params.targetHouseholdRole)return"".concat(t?"Multiple ":"").concat(c.a.startCase(e.model.params.targetHouseholdRole));if(e.model.params.restrictType)return"".concat(t?"Multiple ":"").concat(e.$fluro.types.readable(e.model.params.restrictType,t))}var o=e.model.type;switch(o){case"void":case"value":return""}return"".concat(c.a.startCase(o))},showSubFields:function(){return this.hasSubFields&&this.expanded},expanded:function(){return!this.collapsed},collapsed:function(){return this.model.collapsed},hasSubFields:function(){return"group"==this.model.type||"embedded"==this.model.directive},availableActions:function(){var e=this,t="group"==e.model.type?"Group":"Field",o=[{title:"Duplicate ".concat(t),icon:"copy",click:function(){e.$emit("duplicate",e.model,e.parent.fields)}}];return"group"!=e.model.type&&"embedded"!=e.model.directive||o.push({title:"Add Field Inside",icon:"plus",click:function(){e.$emit("injected",e.model,e.model.fields)}}),o.push({title:"Add Field After",icon:"plus",click:function(){e.$emit("injected",e.model,e.parent.fields)}}),e.$pro&&e.$pro.enabled&&o.push({title:"Copy Field Path",icon:"code",click:function(){console.log("emit copy event"),e.$emit("copypath",e.fieldPath,e.model,e.parent.fields)}}),o.push({title:"Delete ".concat(t),icon:"trash-alt",click:function(){e.$emit("deleted",e.model,e.parent.fields)}}),o},isSelected:function(){return this.selected==this.model},officeUseOnly:function(){return this.model.params&&this.model.params.disableWebform},hasExpressions:function(){return c.a.get(this.model,"hideExpression.length")||c.a.get(this.model,"expressions.value")||c.a.get(this.model,"expressions.defaultValue")||c.a.get(this.model,"expressions.hide")||c.a.get(this.model,"expressions.show")||c.a.get(this.model,"expressions.required")},classes:function(){var e=[];return this.issues.length&&e.push("issues"),this.isSelected&&e.push("active"),this.hasExpressions&&e.push("expressions"),"void"==this.model.type&&e.push("void"),this.officeUseOnly&&e.push("office-use-only"),e}},watch:(v={leaf:function(e){this.model=e}},Object(_.a)(v,"leaf",(function(e){this.model=e})),Object(_.a)(v,"hasSubFields",(function(e){var t=this;e&&!t.model.fields&&t.$set(t.model,"fields",[])})),v),mounted:function(){var e=this;e.model.isNew&&e.$nextTick((function(){e.$nextTick((function(){e.$el&&e.$el.scrollIntoView&&(e.$el.scrollIntoView({behavior:"smooth"}),e.model.isNew=void 0)}))}))},methods:{toggleCollapsed:function(){this.$set(this.model,"collapsed",!this.model.collapsed)},duplicate:function(e,t){this.$emit("duplicate",e,t)},injected:function(e,t){this.$emit("injected",e,t)},copypath:function(path,e,t){this.$emit("copypath",path,e,t)},deleted:function(e,t){this.$emit("deleted",e,t)},clicked:function(e,t){console.log("EVENT",t.title),this.$emit("click",e,t)},onPageMove:function(e){var t=e.relatedContext,o=e.draggedContext,n=t.element,r=o.element;return!(n&&n.fixed||r.fixed)}}},C=(o(1023),o(1)),O=Object(C.a)(M,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{staticClass:"field-editor-item",class:e.classes},[o("div",{staticClass:"field-editor-item-field",on:{click:function(t){return e.select(e.model)},mouseover:function(t){return e.mouseover(e.model)},mouseleave:function(t){return e.mouseleave(e.model)}}},[e.targetRealms?o("fluro-realm-bar",{attrs:{realm:e.targetRealms}}):e._e(),e._v(" "),o("v-layout",{attrs:{"align-center":""}},[o("fluro-help",{attrs:{absolute:"",uid:"field.editor.item.drag",title:"Drag to reorder",body:"Click and drag to move or reorder fields within your form"}}),e._v(" "),o("v-flex",{staticClass:"handle grab",attrs:{shrink:""}},[o("div",{staticClass:"icon"},[o("fluro-icon",{attrs:{icon:"arrows"}})],1)]),e._v(" "),e.ticketed?o("v-flex",{attrs:{shrink:""}},[o("fluro-help",{attrs:{absolute:"",uid:"field.editor.item.ticket",title:"Ticketed Contact",body:"Contacts created here have ticketing enabled. This means that tickets will be created upon submission of this form"}}),e._v(" "),o("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon ticket",attrs:{content:"Ticketing is enabled"}},[o("fluro-icon",{attrs:{library:"fas",icon:"ticket"}})],1)],1):e._e(),e._v(" "),e.hasExpressions?o("v-flex",{attrs:{shrink:""}},[o("fluro-help",{attrs:{absolute:"",uid:"field.editor.item.expressions",title:"Expressions",body:"This field has advanced logic and expressions that change how this field is displayed and behaves based on the input of the user"}}),e._v(" "),o("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"symbol expression",attrs:{content:"Has Expressions"}},[o("fluro-icon",{attrs:{icon:"brackets-curly"}})],1)],1):e._e(),e._v(" "),e.officeUseOnly?o("v-flex",{attrs:{shrink:""}},[o("fluro-help",{attrs:{absolute:"",uid:"field.editor.item.officeuse",title:"Office Use Only",body:"This field is only visible for administrators"}}),e._v(" "),o("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"symbol",attrs:{content:"Office Use Only"}},[o("fluro-icon",{attrs:{icon:"eye-slash"}})],1)],1):e._e(),e._v(" "),o("v-flex",{staticClass:"handle"},[e._v("\n\t\t\t\t"+e._s(e.model.title)+"\n\t\t\t\t"),e.summary?o("span",{staticClass:"summary"},[e._v(e._s(e.summary))]):e._e(),e._v(" "),e.readableIssues?o("div",{staticClass:"issue-summary"},[o("fluro-icon",{attrs:{library:"fas",icon:"exclamation"}}),e._v("\n\t\t\t\t\t"+e._s(e.readableIssues)+"\n\t\t\t\t")],1):e._e()]),e._v(" "),e.hasSubFields?o("v-flex",{attrs:{shrink:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleCollapsed()}}},[o("fluro-icon",{attrs:{icon:e.model.collapsed?"angle-down":"angle-up"}})],1):e._e(),e._v(" "),o("v-flex",{attrs:{shrink:""},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[o("div",{staticClass:"actions",class:{active:e.showActions}},[o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("span",e._g({},n),[o("fluro-icon",{attrs:{icon:e.showActions?"times":"ellipsis-v"}})],1)]}}]),model:{value:e.showActions,callback:function(t){e.showActions=t},expression:"showActions"}},[e._v(" "),o("div",{staticClass:"text-left"},[o("v-list",{attrs:{dense:""}},e._l(e.availableActions,(function(t){return o("v-list-tile",{on:{click:function(e){return t.click()}}},[o("fluro-icon",{attrs:{icon:t.icon,left:""}}),e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t.title)+"\n\t\t\t\t\t\t\t\t")],1)})),1)],1)])],1),e._v(" "),o("fluro-help",{attrs:{absolute:"",uid:"field.editor.item.actions",title:"More Options",body:"More options for this field. Including deleting, duplicating and other useful actions."}})],1)],1)],1),e._v(" "),e.hasSubFields?[e.showSubFields?o("draggable",{staticClass:"field-editor-children",attrs:{handle:".handle",element:"ul",options:e.treeOptions,move:e.onPageMove},model:{value:e.model.fields,callback:function(t){e.$set(e.model,"fields",t)},expression:"model.fields"}},e._l(e.model.fields,(function(t,n){return o("fluro-field-editor-item",{key:t.guid,attrs:{top:e.top,selected:e.selected,parent:e.model,parentGroup:e.actualParentGroup,leaf:e.model.fields[n],select:e.select,mouseover:e.mouseover,mouseleave:e.mouseleave},on:{duplicate:e.duplicate,injected:e.injected,copypath:e.copypath,deleted:e.deleted}})})),1):e._e()]:e._e()],2)}),[],!1,null,null,null).exports,S=(o(59),o(17),o(31),o(22),o(14),o(25)),D={components:{FluroModalMixin:S.a},data:function(){return{loading:!0}},asyncComputed:{}},$=Object(C.a)(D,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("pre",[e._v(e._s(e.sheets))])])}),[],!1,null,null,null).exports,F=o(50),P=o(34),T=(o(23),{components:{draggable:k.a},props:{value:{type:Array}},data:function(){return{proposed:{name:"",value:""},model:this.value}},created:function(){var e=this;e.value||e.$set(e,"model",[]),e.$emit("input",e.model)},watch:{value:function(e){this.model!=e&&(this.model=e)},model:function(e){this.$emit("input",e)},"proposed.name":function(e){this.proposed.value=e}},methods:{commit:function(e,option,t){if("name"==t||"title"==t)return this.$set(option,"name",e.target.value),void this.$set(option,"title",e.target.value);this.$set(option,t,e.target.value)},sorted:function(){this.$emit("input",this.model)},remove:function(option){this.model.splice(this.model.indexOf(option),1)},addOption:function(){console.log("Add copy");var e=this,t=JSON.parse(JSON.stringify(e.proposed));c.a.some(e.model,(function(option){return option.value==e.proposed.value}))||(e.model.push(t),e.proposed={name:"",value:""},e.$refs.name.focus())}},computed:{}}),E=(o(1182),Object(C.a)(T,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fluro-panel",[o("table",[o("thead",[o("tr",[o("th"),e._v(" "),o("th",[e._v("Name")]),e._v(" "),o("th",[e._v("Value")]),e._v(" "),o("th")])]),e._v(" "),o("draggable",{staticClass:"options-manager-items",attrs:{element:"tbody",handle:".handle"},on:{sort:e.sorted},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.model,(function(option,t){return o("tr",{key:option.name,staticClass:"option"},[o("td",{staticClass:"handle"},[o("fluro-icon",{attrs:{icon:"arrows"}})],1),e._v(" "),o("td",[o("input",{attrs:{placeholder:"Name"},domProps:{value:e.model[t].name},on:{change:function(o){return e.commit(o,e.model[t],"name")}}})]),e._v(" "),o("td",[o("input",{attrs:{placeholder:"Value"},domProps:{value:e.model[t].value},on:{change:function(o){return e.commit(o,e.model[t],"value")}}})]),e._v(" "),o("td",[o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(o){return e.remove(e.model[t])}}},[o("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)])})),0)],1),e._v(" "),o("fluro-panel-title",[o("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.addOption.apply(null,arguments)}}},[o("v-layout",[o("v-flex",{attrs:{xs6:""}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.proposed.name,expression:"proposed.name"}],ref:"name",staticClass:"input",attrs:{placeholder:"Name"},domProps:{value:e.proposed.name},on:{input:function(t){t.target.composing||e.$set(e.proposed,"name",t.target.value)}}})]),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.proposed.value,expression:"proposed.value"}],staticClass:"input",attrs:{placeholder:"Value"},domProps:{value:e.proposed.value},on:{input:function(t){t.target.composing||e.$set(e.proposed,"value",t.target.value)}}})]),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",attrs:{small:"",color:"primary",type:"submit"}},[e._v("Add")])],1)],1)],1)])],1)}),[],!1,null,"6c52c5c2",null)),A=E.exports,I=o(924),N=o(132),j=o(87),V={props:{options:{type:Object,default:function(){return{}}}},data:function(){return{model:this.options.model,field:this.options.field}},methods:{},computed:{isPro:function(){return this.$pro&&this.$pro.enabled},fields:function(){var e=[];function t(t,data){data.key||(data.key=t),e.push(data)}return t("title",{title:"Ticket Title",description:"What kind of ticket? Eg. Adult, VIP, Kids",minimum:1,maximum:1,type:"string",expressions:{defaultValue:function(){return"Standard"}}}),t("evaluateTitle",{title:"Evaluate",minimum:0,maximum:1,type:"boolean"}),t("event",{title:"Event",description:"Which event should this tickets be registered for?",minimum:0,maximum:1,type:"reference",directive:"",params:{restrictType:"event",allDefinitions:!0,referenceFilter:{startDate:new Date,endDate:this.$fluro.date.moment().add(1,"year").toDate()}}}),e}},components:{FluroContentFormField:F.default,FluroContentForm:P.default,FluroExpressionEditor:N.a},mixins:[S.a]},L=Object(C.a)(V,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("flex-column",{staticClass:"modal-size",staticStyle:{"max-width":"400px"}},[o("flex-column-header",{staticClass:"border-bottom"},[o("page-header",{attrs:{type:"ticket"},scopedSlots:e._u([{key:"left",fn:function(){return[o("div",[o("h3",[e._v("Ticketing")])])]},proxy:!0},{key:"right",fn:function(){return[o("v-btn",{staticClass:"ma-0",on:{click:function(t){return e.close()}}},[e._v(" Close ")])]},proxy:!0}])})],1),e._v(" "),o("flex-column-body",[o("v-container",[o("fluro-content-form",{attrs:{fields:e.fields},scopedSlots:e._u([{key:"form",fn:function(t){t.formFields;var n=t.fieldHash,r=t.model;t.update,t.options;return[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{attrs:{xs9:e.isPro}},[r.evaluateTitle?[o("v-input",{staticClass:"no-flex",attrs:{label:"Evaluate Title","persistent-hint":!0,hint:"Save the ticket title with the returned value of the expression"}},[o("div",[o("fluro-expression-editor",{model:{value:r.title,callback:function(t){e.$set(r,"title",t)},expression:"model.title"}})],1)])]:[o("fluro-content-form-field",{attrs:{field:n.title},model:{value:r,callback:function(e){r=e},expression:"model"}})]],2),e._v(" "),e.isPro?o("v-flex",{attrs:{xs3:""}},[o("fluro-content-form-field",{attrs:{field:n.evaluateTitle},model:{value:r,callback:function(e){r=e},expression:"model"}})],1):e._e()],1),e._v(" "),o("fluro-content-form-field",{attrs:{field:n.event},model:{value:r,callback:function(e){r=e},expression:"model"}}),e._v(" "),e.isPro?[o("v-input",{staticClass:"no-flex",attrs:{label:"Conditional Expression","persistent-hint":!0,hint:"Only create the ticket if this expression returns true"}},[o("fluro-expression-editor",{model:{value:r.condition,callback:function(t){e.$set(r,"condition",t)},expression:"model.condition"}})],1)]:e._e()]}}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1)}),[],!1,null,null,null).exports,R={props:{field:{type:Object},value:{type:Array,default:function(){return[]}}},data:function(){return{model:this.value}},methods:{add:function(){var e=this,t=[];t.push({title:"Ticket Name",key:"title",placeholder:"Eg. 'Adult', 'Standard', 'General Adminission'",maximum:1,minimum:1,type:"string"}),t.push({title:"For Event",key:"event",maximum:1,minimum:0,type:"reference",params:{restrictType:"event",allDefinitions:!0,referenceFilter:{startDate:new Date,endDate:e.$fluro.date.moment().add(1,"year").toDate()}}}),e.$fluro.prompt(t,"Ticketing").then((function(t){e.model.push(t)}))},select:function(e){this.$fluro.modal({component:L,options:{model:e}})},remove:function(e){var t=this;t.$fluro.confirm("Are you sure you want to remove this ticketing configuration?",null,{confirmColor:"error",confirmText:"Confirm Delete"}).then((function(o){var n=t.model.indexOf(e);-1!=n&&t.model.splice(n,1)}))}},computed:{},watch:{value:function(e){this.model=e}}},B=(o(1190),Object(C.a)(R,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ticketing-manager"},[o("div",e._l(e.model,(function(t){return o("div",{staticClass:"ticket-entry"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticStyle:{"padding-right":"8px"},attrs:{shrink:""}},[o("fluro-icon",{attrs:{library:"fas",icon:"ticket-alt"}})],1),e._v(" "),o("v-flex",[o("strong",[e._v(e._s(t.title))]),e._v(" "),t.event?o("div",[o("strong",[e._v(e._s(t.event.title))]),e._v(" "),o("div",{staticClass:"font-sm muted"},[e._v(e._s(e._f("readableEventDate")(t.event)))])]):e._e()]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0 mr-1",attrs:{icon:"",small:""},on:{click:function(o){return e.select(t)}}},[o("fluro-icon",{attrs:{icon:"pencil"}})],1),e._v(" "),o("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:""},on:{click:function(o){return e.remove(t)}}},[o("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)],1)})),0),e._v(" "),o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:e.add}},[e._v("\n\t\t\tAdd Configuration\n\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1)}),[],!1,null,null,null).exports),U={components:{FluroHelp:w.a,FieldSelectModal:$,FluroContentFormField:F.default,FluroContentForm:P.default,OptionsManager:A,ExpressionFieldSelect:I.a,FluroExpressionEditor:N.a,FluroInlineEdit:j.a},props:{value:{type:Object},expressionFields:{type:Array},item:{type:Object}},data:function(){var e=this.value;return this.setDefaults(e),{tabIndex:0,model:e,editingKey:!1,showAdvancedOptions:!1,loadingFields:!1,focussed:null,popup:{hide:!1,hideExpression:!1,show:!1,required:!1,value:!1,defaultValue:!1}}},methods:{recursiveGUID:function(e){var t=this;c.a.each(e,(function(e){e.guid||t.$set(e,"guid",t.$fluro.utils.guid()),t.recursiveGUID(e.fields)}))},setDefaults:function(e){var t=this;e.params||t.$set(e,"params",{}),e.params.restrictType||t.$set(e.params,"restrictType",null),e.params.ticketing||t.$set(e.params,"ticketing",{enabled:!1,events:[]}),e.params.ticketing.events||t.$set(e.params.ticketing,"events",[]),"group"==e.type&&(e.sameLine?t.$set(e,"sameLine",!0):t.$set(e,"sameLine",!1)),e.expressions||t.$set(e,"expressions",{})},deleteField:function(){this.$emit("deleted")},selectDetailSheetFields:function(){var e=this;return e.loadingFields=!0,e.$fluro.api.get("/defined/types/contactdetail").then((function(t){e.loadingFields=!1,e.$fluro.options(t.data,"Select detail sheet").then((function(t){t=JSON.parse(JSON.stringify(t));var o=c.a.find(e.model.fields,{key:"details"});o||(o={title:"Details",type:"group",key:"details",asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},e.model.fields.push(o));var n,r=c.a.find(o.fields,{key:t.definitionName});r||(r={title:t.title,type:"group",key:t.definitionName,asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},n={title:"Data",type:"group",key:"data",asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},r.fields.push(n),o.fields.push(r)),c.a.each(t.fields,(function(t){c.a.find(n.fields,{key:t.key})||(t.guid=e.$fluro.utils.guid(),e.recursiveGUID(t.fields),n.fields.push(t))})),e.resetRequired()})).catch(reject)})).catch((function(t){e.loadingFields=!1}))},selectTitle:function(select){var e=this.$refs.scrollbox;e&&e.$el.scrollTo(0,0);var t=this;select&&setTimeout((function(){var e="group"==t.model.type?t.$refs.grouptitle:t.$refs.title;if(e&&e.$el){var input=e.$el.querySelectorAll("input");input&&input[0]&&((input=input[0]).focus(),input.select())}}),10)},injectExpression:function(e,t){var o=this;console.log("TARGEt",o.popup,t),o.$set(o.popup,t,!1);var n,r=o.model.expressions[t];"hideExpression"==t&&(r=o.model.hideExpression),n=r?"".concat(r," ").concat(e.path):e.path,"hideExpression"==t?o.$set(o.model,"hideExpression",n):o.$set(o.model.expressions,t,n)},resetRequired:function(e){var t=this;t.previousField=e,setTimeout((function(){t.previousField==e&&(t.previousField=!1,t.$emit("reset"))}),100)}},watch:{value:function(e){var t=this;t.editingKey=!1;var o=e;t.setDefaults(o),t.model=o,t.tabIndex="options",t.selectTitle(!t.model.title)}},created:function(){this.setDefaults(this.model)},mounted:function(){var e=this;setTimeout((function(){e.selectTitle(!e.model.title)}),100)},asyncComputed:{contactDefinitionOptions:{default:[],get:function(){var e=this;return new Promise((function(t,o){e.$fluro.types.subTypes("contact").then((function(e){var o=c.a.map(e,(function(e){return{name:e.title,value:e.definitionName}}));return o.unshift({name:"None (Basic Contact)",value:""}),t(o)}),o)}))}},referenceOptions:{default:[],get:function(){var e=this;return new Promise((function(t,o){e.$fluro.types.terms().then((function(o){var n=c.a.chain(o).values().map((function(t){if(!e.householdsDisabled||"family"!==t.definitionName&&"family"!==t.parentType)return{name:t.title,title:t.title,value:t.definitionName,parentType:t.parentType}})).compact().orderBy("title").value();t(n)})).catch(o)}))}}},computed:{isAdvanced:function(){return this.isPro&&"subsplash"!=this.uiMode},isPro:function(){return this.$pro&&this.$pro.enabled},basicAvailableTypes:function(){return this.referenceOptions.filter((function(e){return!e.parentType}))},isAssetType:function(){if("reference"==this.model.type)switch(this.modelParams.restrictType){case"audio":case"video":case"asset":case"image":return!0;default:return"upload"==this.directive}},modelParams:function(){return this.model.params||{}},fullPath:function(){return this.model.key},field:function(){return this.model},ticketingEnabled:function(){return this.model&&this.model.params&&this.model.params.ticketing&&this.model.params.ticketing.enabled},ticketingManager:function(){if("reference"==this.model.type&&"contact"==this.restrictType&&this.ticketingEnabled)return B},isNumeric:function(){switch(this.model.type){case"float":case"decimal":case"integer":case"number":return!0}},isDate:function(){return"date"==this.model.type},currencyOptions:function(){var e=c.a.get(this.user,"account.countryCode");return console.log("Get Currency Options",e),this.$fluro.utils.getAvailableCurrencies(e)},showDescription:function(){if("embedded"!==this.model.directive)return!0},showPlaceholder:function(){switch(this.model.directive){case"custom":case"embedded":return;default:return!0}},showKey:function(){return this.editingKey},advancedOptions:function(){return!0},simpleExpressionEnabled:function(){return"reference"!=this.model.type&&"group"!=this.model.type},restrictType:function(){return this.modelParams?this.modelParams.restrictType:null},requiresOptions:function(){if("reference"!=this.model.type)switch(this.model.directive){case"select":case"button-select":case"search-select":case"order-select":return!0}},ticketingFields:function(){var e=[];return function(t,data){data.key||(data.key=t);e.push(data)}("enabled",{title:"Create tickets for this contact",description:"If selected then this contact will be considered a ticketed attendee if an event is specified during the form submission a 'Standard' ticket will be created for each contact created by this field",minimum:0,maximum:1,type:"boolean"}),e},fields:function(){var e=this,t={},o=e.$fluro.types.readable(e.restrictType||"node",!0);f("defaultReferences",{title:"Default References",description:"Select which ".concat(o," should be selected by default"),minimum:0,maximum:e.maximum,type:"reference",params:{searchInheritable:!0,allDefinitions:!0,restrictType:e.restrictType}}),f("allowedValues",{title:"Allowed Values",description:"Restrict what values can be entered into this field",minimum:0,maximum:0,type:"string",params:{}}),f("allowedReferences",{title:"Allowed References",description:"Select which ".concat(o," may be selected by the user"),minimum:0,maximum:0,type:"reference",params:{searchInheritable:!0,allDefinitions:!0,restrictType:e.restrictType}}),f("population",{title:"Field Population",description:"When this data is retrieved select which fields should be included, Eg. If you a referencing an article you may want to retrieve the 'body' key in addition to the basics like 'title', '_id', 'created'",minimum:0,maximum:1,type:"string",directive:"select",options:[{title:"Normal (Just load the basics)",value:""},{title:"Full (Entire object)",value:"full"},{title:"Additional (Includes basic fields)",value:"additional"},{title:"Custom (Load specific fields)",value:"custom"}]}),f("populationDetails",{title:"Fields to select",description:"Seperate each field key with a space",minimum:0,maximum:1,type:"string",expressions:{show:"model.population == 'additional' || model.population == 'custom'"}}),f("wysiwygDefaultValues",{title:1==e.model.maximum?"Default Value":"Default Values",key:"defaultValues",description:"Preselect values for this field",minimum:0,maximum:0,type:"string",directive:"wysiwyg"}),f("codeDefaultValues",{title:"Default Value(s)",key:"defaultValues",description:"Add a default value for this field",minimum:0,maximum:0,type:"string",directive:"code",params:{syntax:e.model.params.syntax}}),f("filterDefaultValues",{title:"Default Value(s)",key:"defaultValues",description:"Add default filter configuration",minimum:0,maximum:0,type:"object",directive:"app-filter-select",defaultValues:[{}],params:{restrictType:e.model.params.restrictType,dynamicReferenceType:e.model.dynamicReferenceType,allDefinitions:e.model.params.allDefinitions}}),f("defaultValues",{title:"Default Value(s)",description:"add a default value for this field",minimum:0,maximum:0,type:"string"}),e.isPro&&f("errorMessage",{title:"Custom Error Message",description:"Customise the message to display to the user if they enter invalid answers for this field",minimum:0,maximum:1,type:"string"}),f("officeUseOnly",{key:"disableWebform",title:"Office Use Only (Hide from public web forms)",description:"Check this if you want this field to be excluded from public facing webforms",minimum:0,maximum:1,type:"boolean"}),f("syntax",{title:"Code Syntax",minimum:1,maximum:1,type:"string",directive:"select",options:[{title:"JSON",value:"json"},{title:"Javascript",value:"js"},{title:"HTML",value:"html"},{title:"CSS",value:"scss"}]}),f("title",{title:"Title",minimum:1,maximum:1,type:"string"}),f("maximum",{title:"Max Answers",description:"Maximum amount of answers that can be provided for this field (usually 1 answer is necessary)",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("minimum",{title:"Minimum Answers",description:"Minimum amount of answers that can be provided for this field (Setting this to a number higher than 0 will make this field required)",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("maximum",{title:"Max Answers",description:"Maximum amount of answers that can be provided for this field (usually 1 answer is necessary)",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("minValue",{title:"Minimum Amount",description:"currency"==e.model.directive?"Minimum amount in cents that can be input":"Minimum amount that can be input",minimum:0,maximum:1,type:e.model.type,directive:e.model.directive||null,params:{currency:e.model.params.currency}}),f("maxValue",{title:"Maximum Amount",description:"currency"==e.model.directive?"Maximum amount in cents that can be input":"Maximum amount that can be input",minimum:0,maximum:1,type:e.model.type,directive:e.model.directive||null,params:{currency:e.model.params.currency}}),f("minDate",{title:"Earliest Date",description:"Earliest date that can be input",minimum:0,maximum:1,type:"date"}),f("maxDate",{title:"Latest Date",description:"Latest date that can be input",minimum:0,maximum:1,type:"date"}),f("groupMinimum",{title:"Minimum",key:"minimum",description:"Minimum amount of entries for this group that can be created",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("groupMaximum",{title:"Maximum",key:"maximum",description:"Maximum amount of entries for this group that can be created",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("askCount",{title:"Ask Count",description:"How many input groups should be asked for by default",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),f("key",{title:"Database Key",description:"A unique key used to store this field's data in the system",minimum:1,maximum:1,type:"string",expressions:{defaultValue:function(){return c.a.camelCase(String(e.model.title).replace(/[^a-zA-Z0-9-_]+/g,""))}}}),f("description",{title:"Help /Hint text",description:"An optional description that can add extra detail for users entering data",minimum:0,maximum:1,type:"string"}),f("placeholder",{title:"Placeholder",description:"Faded text that can be displayed inside the field to give a hint as to what the user should type",minimum:0,maximum:1,type:"string"}),f("type",{title:"Data Type",description:"The required kind of input that can be entered into this field",minimum:1,maximum:1,type:"string",directive:"select",options:[{title:"Text (String)",value:"string"},{title:"True / False (Boolean)",value:"boolean"},{title:"Date",value:"date"},{title:"Phone Number",value:"string"},{title:"Email Address",value:"email"},{title:"URL",value:"url"},{title:"Content Reference",value:"reference"},{title:"Number",value:"number"},{title:"Integer (Whole Number)",value:"integer"},{title:"Decimal (Float)",value:"float"},{title:"No value",value:"void"},{title:"Generic Object",value:"object"}]}),f("parentType",{key:"parentType",title:"Restrict to Parent Type",description:"Restrict to only definitions of a specified basic type",minimum:0,maximum:1,type:"string",directive:"select",options:e.basicAvailableTypes}),f("referenceType",{key:"restrictType",title:"Reference Type",description:"Restrict what kind of items can be referenced in this field",minimum:0,maximum:1,type:"string",directive:"select",options:e.referenceOptions}),f("showAllValues",{key:"showAllValues",title:"Select all values",description:"Tick this to allow the user to filter on all possible values that could be selected, if left unchecked then values will be cropped to only show from current results available.",minimum:0,maximum:1,type:"boolean"}),f("dynamicReferenceType",{key:"dynamicReferenceType",title:"Dynamic Reference Type",description:"Infer the reference type for this filter from the value in another field",minimum:0,maximum:1,type:"string"}),f("dynamicChartType",{key:"dynamicChartType",title:"Dynamic Chart Type",description:"Infer the chart type for this field from the value in another field",minimum:0,maximum:1,type:"string"}),f("dynamicChartDataType",{key:"dynamicChartDataType",title:"Dynamic Chart Data Type",description:"Infer the chart data type for this field from the value in another field",minimum:0,maximum:1,type:"string"}),f("allDefinitions",{key:"allDefinitions",title:"Include all definitions",description:"Include all definitions in results",minimum:0,maximum:1,type:"boolean"}),f("includeDefinedTypes",{title:"Include defined types",description:"Include any extended definitions of this type",minimum:0,maximum:1,type:"boolean",expressions:{show:function(){return!e.model.params.parentType}}}),f("currency",{key:"currency",title:"Currency",description:"Select what currency symbol to display",minimum:1,maximum:1,type:"string",directive:"select",options:e.currencyOptions}),f("storeCopy",{key:"storeCopy",title:"Store Terms and Conditions",description:"Select whether to store a copy of the terms being agreed to as they are presented upon form submission.",minimum:0,maximum:1,type:"boolean"}),f("storeData",{key:"storeData",title:"Terms / Conditions Details",description:"Write the terms the user is agreeing to when ticking this field",minimum:0,maximum:1,type:"string",directive:"textarea",expressions:{show:"model.storeCopy"}}),f("sizeAxis",{key:"sizeAxis",title:"Axis",description:"Which axis should these size options be displayed for",minimum:0,maximum:1,type:"string",directive:"select",options:[{name:"None",title:"None",value:""},{name:"Horizontal / Width",title:"Horizontal / Width",value:"width"},{name:"Vertical / Height",title:"Vertical / Height",value:"height"}]}),f("placeholder",{title:"Placeholder",description:"Faded text that can be displayed inside the field to give a hint as to what the user should type",minimum:0,maximum:1,type:"string"});var n=[];switch(e.model.type){case"reference":n.push({title:"Select Dropdown",value:"select"}),n.push({title:"Multiple Button Select",value:"button-select"}),n.push({title:"Reference Select",value:"reference-select"}),n.push({title:"Embedded Form",value:"embedded"}),n.push({title:"File Upload",value:"upload"}),"academic"==e.restrictType&&n.push({title:"Academic Calendar Select",value:"academic-select"});break;case"boolean":n.push({title:"Checkbox",value:"input"}),n.push({title:"Select Dropdown",value:"select"}),n.push({title:"Multiple Button Select",value:"button-select"});break;case"string":1!=e.model.maximum?n.push({title:"Multiple Text Field",value:"input"}):n.push({title:"Text Field",value:"input"}),n.push({title:"Text Area",value:"textarea"}),n.push({title:"Rich Text (WYSIWYG)",value:"wysiwyg"}),n.push({title:"Code Editor",value:"code"}),n.push({title:"Select Dropdown",value:"select"}),n.push({title:"Multiple Button Select",value:"button-select"}),n.push({title:"Orderable Select",value:"order-select"}),n.push({title:"Autocomplete Search",value:"search-select"}),n.push({title:"Time Picker",value:"time-select"}),n.push({title:"Color Picker",value:"color"}),n.push({title:"Signature",value:"signature"}),n.push({title:"Country Selector",value:"countryselect"}),n.push({title:"Timezone Selector",value:"timezoneselect"});break;case"date":n.push({title:"Date Picker",value:"date-select"}),n.push({title:"Date + Time Picker",value:"datetime-select"}),n.push({title:"Age / Birthdate Select",value:"dob-select"});break;case"number":case"integer":case"decimal":case"float":n.push({title:"Number Input",value:"input"}),n.push({title:"Currency Input",value:"currency"});break;default:n.push({title:"Text Input",value:"input"})}"component"==e.item._type&&("string"==e.model.type&&(n.push({title:"Website Builder Menu Select",value:"app-menu-select"}),n.push({title:"Website Builder Page Select",value:"app-page-select"}),n.push({title:"Website Builder Size Select",value:"app-size-select"}),n.push({title:"Website Builder Field Key Select",value:"app-field-key-select"}),n.push({title:"Website Builder Theme Select",value:"app-theme-select"}),n.push({title:"Website Builder Type Select",value:"app-type-select"})),"object"==e.model.type&&(n.push({title:"Website Builder Field Select",value:"app-field-select"}),n.push({title:"Filter Configuration",value:"app-filter-select"}),n.push({title:"Chart Configuration",value:"app-chart-select"}))),n.push({title:"Hidden Value",value:"value"}),n.push({title:"Custom HTML",value:"custom"}),f("directive",{title:"Input Type",description:"What kind of widget should be provided to the user for input?",minimum:1,maximum:1,type:"string",directive:"select",options:n}),f("asObject",{title:"Group as Sub Object",description:"Treat this group as it's own entity. If not selected this group will be purely for visual layout.",minimum:0,maximum:1,type:"boolean"}),f("sameLine",{title:"Same Line",description:"Attempt to render fields in this group on the same line on larger screens",minimum:0,maximum:1,type:"boolean"}),f("className",{title:"CSS Classes",description:"Add CSS classes to this field",minimum:0,maximum:1,type:"string"}),f("template",{title:"Custom HTML",description:"Custom HTML to be shown for this field",minimum:0,maximum:1,type:"string",directive:"code",params:{syntax:"html"},expressions:{hide:function(){return e.model&&e.model.params&&e.model.params.customComponent}}}),f("customComponent",{title:"Custom Component Name",description:"Advanced usage to replace with your own custom input",minimum:0,maximum:1,type:"string"});var r=e.model.params.restrictType,l=e.$fluro.types.readable(r),d=e.$fluro.types.readable(r,!0);c.a.chain(e.$fluro.glossary).reduce((function(e,t,o){return t.definitionName=o,t.parentType==r&&e.push(t),e}),[]).map((function(e){return{name:e.title,value:e.definitionName}})).orderBy((function(e){return e.title})).value();function f(e,data){data.key||(data.key=e),t[e]=data}return f("targetStatus",{title:"Status Update",description:"What status should these contacts assume when form is submitted?",minimum:0,maximum:1,type:"string",directive:"select",defaultValues:["active"],options:[{name:"Reactivate if archived (Default)",value:"active"},{name:"Archive upon submission",value:"archive"},{name:"Leave current status (No change)",value:"nochange"}]}),f("targetDefinition",{title:"Definition / Contact Type",description:"Select the definition that should be applied to ".concat(d,"."),minimum:0,maximum:1,type:"string",directive:"select",expressions:{hide:function(){return!e.contactDefinitionOptions.length}},options:e.contactDefinitionOptions}),f("excludeFromFamily",{title:"Include in family",description:"By default all contacts linked to a form will be added to a family household (if specified on the form). Disable this option if you want this contact to be created, but excluded from being add to the family household",minimum:0,maximum:1,type:"boolean",directive:"checkbox",inverse:!0,params:{persistentDescription:!0}}),e.$pro&&e.$pro.enabled&&f("targetRealms",{title:"Create ".concat(l," in Realms"),description:"Select realms that these ".concat(d," should be created in. If left blank it will default to the same realm as the form submission itself"),minimum:0,maximum:0,type:"reference",directive:"realm-select",params:{restrictType:"realm"}}),f("realm",{title:"Upload to realm",description:"Select the realm that files should be uploaded to.",minimum:0,maximum:1,type:"reference",params:{restrictType:"realm"}}),f("targetHouseholdRole",{title:"Household Role",description:"Select the household role to add to these ".concat(d),minimum:0,maximum:1,type:"string",directive:"select",options:[{name:"None",value:""},{name:"Parent",value:"parent"},{name:"Child",value:"child"}],expressions:{hide:function(){return"contact"!=r}}}),f("targetCapabilities",{title:"Add Capabilities",description:"Select capabilities that will be added to these ".concat(d,". "),minimum:0,maximum:0,type:"reference",params:{restrictType:"capability"},expressions:{hide:function(){return"contact"!=r}}}),f("targetTeams",{title:"Add to Groups / Teams",description:"Select groups and teams that these ".concat(d," should be created in. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"team"},expressions:{hide:function(){return"contact"!=r}}}),f("targetTags",{title:"Add Tags",description:"Select tags to add to these ".concat(d," on form submission. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"tag"}}),f("targetTagsRemove",{title:"Remove Tags",description:"Select tags to remove from these ".concat(d," on form submission. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"tag"}}),e.$pro&&e.$pro.enabled&&f("targetProcesses",{title:"Add to Processes",description:"Select processes that these ".concat(d," should be added in to. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"definition",referenceFilter:{operator:"and",filters:[{key:"parentType",comparator:"==",value:"process"}]}}}),e.$pro&&e.$pro.enabled&&f("targetReactions",{title:"Trigger Reactions",description:"Select reaction pipelines that these ".concat(d," should be added in to. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"reaction"}}),t}}},z=(o(1192),Object(C.a)(U,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("flex-column",["group"==e.model.type?o("tabset",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[o("tab",{attrs:{heading:"Group Settings",index:"options"}},[o("flex-column-body",[o("v-container",[o("fluro-content-form-field",{ref:"grouptitle",attrs:{field:e.fields.title},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showKey,expression:"showKey"}]},[o("fluro-content-form-field",{attrs:{field:e.fields.key},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),e.editingKey?e._e():o("div",{staticClass:"key-preview",on:{click:function(t){e.editingKey=!0}}},[o("fluro-icon",{attrs:{icon:"pencil"}}),e._v("\n\t\t\t\t\t\t\tkey: "+e._s(e.model.key)+"\n\t\t\t\t\t\t")],1),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.asObject},on:{input:function(t){return e.resetRequired(e.fields.asObject)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),e.model.asObject?e._e():[o("fluro-content-form-field",{attrs:{field:e.fields.sameLine},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],e._v(" "),e.model.asObject?o("v-layout",[o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.groupMinimum},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.groupMaximum},on:{input:function(t){return e.resetRequired(e.fields.groupMaximum)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.askCount},on:{input:function(t){return e.resetRequired(e.fields.askCount)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1):e._e(),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.officeUseOnly},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),e.isPro?[o("fluro-content-form-field",{attrs:{field:e.fields.className},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:e._e()],2)],1)],1),e._v(" "),e.isAdvanced?o("tab",{attrs:{heading:"Expressions",index:"expressions"}},[o("flex-column-body",[o("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[o("label",[o("strong",[e._v("Expressions and Logic")])]),e._v(" "),o("div",{staticClass:"sm muted"},[e._v("\n\t\t\t\t\t\t\tExpressions are short snippets of javascript that can be used to alter the properties of\n\t\t\t\t\t\t\tthis field depending on changes made in other fields\n\t\t\t\t\t\t")]),e._v(" "),o("v-btn",{staticClass:"ml-0",attrs:{small:"",href:"https://support.fluro.io/kb/advanced-form-expressions-guide",target:"_blank"}},[e._v("\n\t\t\t\t\t\t\tClick here for more information\n\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"external-link",right:""}})],1)],1),e._v(" "),o("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[o("fluro-panel",[o("fluro-panel-title",[o("strong",[e._v("Variables")])]),e._v(" "),o("fluro-panel-body",{staticClass:"border-top"},[o("v-layout",[o("v-flex",{attrs:{xs3:""}},[o("strong",[e._v("model")])]),e._v(" "),o("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The immediate model this field is attached to. Useful for relative paths to\n\t\t\t\t\t\t\t\t\t\tsibling fields")])],1)],1),e._v(" "),o("fluro-panel-body",{staticClass:"border-top"},[o("v-layout",[o("v-flex",{attrs:{xs3:""}},[o("strong",[e._v("data")])]),e._v(" "),o("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The root level model for the entire form, useful for absolute paths to other\n\t\t\t\t\t\t\t\t\t\tfields.")])],1)],1)],1)],1),e._v(" "),o("v-container",[o("div",{staticClass:"expression-group",class:{active:e.model.expressions.show}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Show group if",hint:"Show this group only if this expression returns true ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.show,callback:function(t){e.$set(e.model.expressions,"show",t)},expression:"model.expressions.show"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.show,callback:function(t){e.$set(e.popup,"show",t)},expression:"popup['show']"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{conditional:!0,context:e.model},on:{click:function(t){return e.injectExpression(t,"show")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"expression-group",class:{active:e.model.hideExpression}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Hide group if",hint:"Hide this group if this expression returns true ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.hideExpression,callback:function(t){e.$set(e.model,"hideExpression",t)},expression:"model.hideExpression"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.hideExpression,callback:function(t){e.$set(e.popup,"hideExpression",t)},expression:"popup['hideExpression']"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{conditional:!0,context:e.model},on:{click:function(t){return e.injectExpression(t,"hideExpression")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1)])],1)],1):e._e()],1):o("tabset",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[o("tab",{attrs:{heading:"Field Settings",index:"options"}},[o("flex-column-body",{ref:"scrollbox"},[o("v-container",[o("fluro-content-form-field",{ref:"title",attrs:{field:e.fields.title},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showKey,expression:"showKey"}]},[o("fluro-content-form-field",{attrs:{field:e.fields.key},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),e.editingKey?e._e():o("div",{staticClass:"key-preview",on:{click:function(t){e.editingKey=!0}}},[o("fluro-icon",{attrs:{icon:"pencil"}}),e._v("\n\t\t\t\t\t\t\tkey: "+e._s(e.model.key)+"\n\t\t\t\t\t\t")],1),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.type},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),"reference"==e.model.type?o("fluro-content-form-field",{attrs:{field:e.fields.referenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}):e._e(),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.directive},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),"app-size-select"==e.model.directive?o("fluro-content-form-field",{attrs:{field:e.fields.sizeAxis},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}):e._e(),e._v(" "),e.isAssetType?[o("fluro-content-form-field",{attrs:{field:e.fields.realm},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"app-field-key-select"==e.model.directive||"app-field-select"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.referenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.dynamicReferenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"app-type-select"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.parentType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.includeDefinedTypes},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"app-filter-select"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.referenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.dynamicReferenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.showAllValues},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"app-chart-select"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.dynamicChartType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.dynamicChartDataType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"boolean"==e.model.type?[o("fluro-content-form-field",{attrs:{field:e.fields.storeCopy},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.storeData},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"currency"==e.model.directive?o("fluro-content-form-field",{attrs:{field:e.fields.currency},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}):e._e(),e._v(" "),"void"!=e.model.type?o("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[o("v-layout",[o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.minimum},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.maximum},on:{input:function(t){return e.resetRequired(e.fields.maximum)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),"embedded"==e.model.directive?[o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.askCount},on:{input:function(t){return e.resetRequired(e.fields.askCount)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:e._e()],2)],1):e._e(),e._v(" "),e.isNumeric?o("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[o("v-layout",[o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.minValue},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.maxValue},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1)],1):e._e(),e._v(" "),e.isDate?o("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[o("v-layout",[o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.minDate},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{xs6:""}},[o("fluro-content-form-field",{attrs:{field:e.fields.maxDate},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1)],1):e._e(),e._v(" "),e.showDescription?o("fluro-content-form-field",{attrs:{field:e.fields.description},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),e.showPlaceholder?o("fluro-content-form-field",{attrs:{field:e.fields.placeholder},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),"code"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.syntax},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"custom"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.template},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),e.$pro.enabled?[o("fluro-content-form-field",{attrs:{field:e.fields.customComponent},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e()]:[e.requiresOptions?[o("v-input",{staticClass:"no-flex",attrs:{label:"Selectable Options"}},[o("options-manager",{model:{value:e.model.options,callback:function(t){e.$set(e.model,"options",t)},expression:"model.options"}})],1),e._v(" "),e.$pro.enabled?o("div",[o("fluro-content-form-field",{attrs:{field:e.fields.allowedValues},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()]:e._e(),e._v(" "),"embedded"!=e.model.directive?["reference"==e.model.type?[o("fluro-content-form-field",{attrs:{field:e.fields.allowedReferences},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.defaultReferences},on:{input:function(t){return e.resetRequired(e.fields.defaultReferences)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:["wysiwyg"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.wysiwygDefaultValues},on:{input:function(t){return e.resetRequired(e.fields.wysiwygDefaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:"code"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.codeDefaultValues},on:{input:function(t){return e.resetRequired(e.fields.codeDefaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:"app-filter-select"==e.model.directive?[o("fluro-content-form-field",{attrs:{field:e.fields.filterDefaultValues},on:{input:function(t){return e.resetRequired(e.fields.defaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:[o("fluro-content-form-field",{attrs:{field:e.fields.defaultValues},on:{input:function(t){return e.resetRequired(e.fields.defaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],e._v(" "),e.requiresOptions?e._e():[o("fluro-content-form-field",{attrs:{field:e.fields.allowedValues},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]]]:e._e(),e._v(" "),"embedded"==e.model.directive&&"contact"==e.restrictType?o("fluro-panel",[o("fluro-panel-title",[o("strong",[e._v(e._s(e._f("definitionTitle")(e.restrictType))+" Options")])]),e._v(" "),o("fluro-panel-body",[o("fluro-content-form-field",{attrs:{field:e.fields.targetRealms},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("v-input",{staticClass:"no-flex"},[o("v-label",[e._v("Add fields from Detail Sheets")]),e._v(" "),o("div",{staticClass:"sm muted"},[e._v("Add other pre-defined fields to this contact")]),e._v(" "),o("v-btn",{staticClass:"ma-0",attrs:{loading:e.loadingFields},on:{click:e.selectDetailSheetFields}},[e._v("Select Fields")])],1),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetStatus},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetHouseholdRole},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetDefinition},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetTeams},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetProcesses},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetTags},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetTagsRemove},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetCapabilities},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.targetReactions},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.excludeFromFamily},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1):e._e(),e._v(" "),"embedded"==e.model.directive&&"contact"==e.restrictType?o("fluro-panel",[o("fluro-panel-title",[o("strong",[e._v("Ticketing")])]),e._v(" "),o("fluro-panel-body",[o("fluro-content-form",{attrs:{fields:e.ticketingFields},scopedSlots:e._u([{key:"form",fn:function(t){t.formFields;var n=t.fieldHash,r=t.model;t.update,t.options;return[o("fluro-content-form-field",{attrs:{field:n.enabled},model:{value:r,callback:function(e){r=e},expression:"model"}}),e._v(" "),e.ticketingEnabled?[e.ticketingManager?o(e.ticketingManager,{ref:"ticketingManager",tag:"component",attrs:{field:e.field},model:{value:r.events,callback:function(t){e.$set(r,"events",t)},expression:"model.events"}}):e._e()]:e._e()]}}],null,!1,441598506),model:{value:e.model.params.ticketing,callback:function(t){e.$set(e.model.params,"ticketing",t)},expression:"model.params.ticketing"}})],1)],1):e._e(),e._v(" "),"reference"==e.model.type&&e.isPro?o("fluro-panel",[o("fluro-panel-body",[o("fluro-content-form-field",{attrs:{field:e.fields.population},on:{input:function(t){return e.resetRequired(e.fields.defaultValues)}},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.populationDetails},on:{input:function(t){return e.resetRequired(e.fields.defaultValues)}},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1):e._e(),e._v(" "),e.isPro?[o("fluro-content-form-field",{attrs:{field:e.fields.errorMessage},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.className},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:e._e(),e._v(" "),o("fluro-content-form-field",{attrs:{field:e.fields.officeUseOnly},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]],2)],1)],1),e._v(" "),e.isAdvanced?o("tab",{attrs:{heading:"Expressions",index:"expressions"}},[o("flex-column-body",[o("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[o("label",[o("strong",[e._v("Expressions and Logic")])]),e._v(" "),o("div",{staticClass:"sm muted"},[e._v("\n\t\t\t\t\t\t\tExpressions are short pieces of javascript that can be used to alter the properties of this\n\t\t\t\t\t\t\tfield depending on changes made in other fields\n\t\t\t\t\t\t")]),e._v(" "),o("v-btn",{staticClass:"ml-0",attrs:{small:"",href:"https://support.fluro.io/kb/advanced-form-expressions-guide",target:"_blank"}},[e._v("\n\t\t\t\t\t\t\tClick here for more information\n\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"external-link",right:""}})],1)],1),e._v(" "),o("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[o("label",[o("strong",[e._v("Variables")])]),e._v(" "),o("v-layout",[o("v-flex",{attrs:{xs3:""}},[o("strong",[e._v("data")])]),e._v(" "),o("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The root level model for the entire form, useful for absolute paths.")])],1),e._v(" "),o("v-layout",[o("v-flex",{attrs:{xs3:""}},[o("strong",[e._v("model")])]),e._v(" "),o("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The immediate model this field is attached to. Useful for relative paths")])],1)],1),e._v(" "),o("v-container",[o("div",{staticClass:"expression-group",class:{active:e.model.expressions.show}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Show this field if",hint:"Show this field only if this expression returns true ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.show,callback:function(t){e.$set(e.model.expressions,"show",t)},expression:"model.expressions.show"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.show,callback:function(t){e.$set(e.popup,"show",t)},expression:"popup.show"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{conditional:!0,context:e.model},on:{click:function(t){return e.injectExpression(t,"show")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"expression-group",class:{active:e.model.expressions.hide}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Hide this field if",hint:"Hide this field if this expression returns true ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.hide,callback:function(t){e.$set(e.model.expressions,"hide",t)},expression:"model.expressions.hide"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.hide,callback:function(t){e.$set(e.popup,"hide",t)},expression:"popup.hide"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{conditional:!0,context:e.model},on:{click:function(t){return e.injectExpression(t,"hide")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1),e._v(" "),e.simpleExpressionEnabled?o("div",{staticClass:"expression-group",class:{active:e.model.expressions.defaultValue}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Set default value to",hint:"Set the default value, (the value before the user changes it) of this field depending on the input of another. ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.defaultValue,callback:function(t){e.$set(e.model.expressions,"defaultValue",t)},expression:"model.expressions.defaultValue"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.defaultValue,callback:function(t){e.$set(e.popup,"defaultValue",t)},expression:"popup['defaultValue']"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"defaultValue")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e(),e._v(" "),e.simpleExpressionEnabled?o("div",{staticClass:"expression-group",class:{active:e.model.expressions.value}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Set value to",hint:"Set the value of this field depending on the input of another","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.value,callback:function(t){e.$set(e.model.expressions,"value",t)},expression:"model.expressions.value"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.value,callback:function(t){e.$set(e.popup,"value",t)},expression:"popup['value']"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"value")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e(),e._v(" "),e.simpleExpressionEnabled?o("div",{staticClass:"expression-group",class:{active:e.model.expressions.required}},[o("v-input",{staticClass:"no-flex",attrs:{label:"Require this field if",hint:"Require input for this field if it's visible and this expression returns true ","persistent-hint":!0}},[o("v-layout",[o("v-flex",[o("fluro-expression-editor",{model:{value:e.model.expressions.required,callback:function(t){e.$set(e.model.expressions,"required",t)},expression:"model.expressions.required"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},n),[o("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.required,callback:function(t){e.$set(e.popup,"required",t)},expression:"popup['required']"}},[e._v(" "),o("div",[o("expression-field-select",{attrs:{conditional:!0,context:e.model},on:{click:function(t){return e.injectExpression(t,"required")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e()])],1)],1):e._e()],1)],1)}),[],!1,null,null,null).exports),H=o(191),G=o(137),W={components:{draggable:k.a,FluroFieldEditorItem:O,FluroFieldEdit:z,FluroContentForm:P.default,FluroInteractionForm:H.a,FluroCompileHtml:G.a,FluroHelp:w.a},props:{value:{type:Array,default:function(){return[]}},item:{type:Object}},created:function(){this.recursiveGUID(this.model)},computed:{isEnterprise:function(){return"subsplash"!=this.uiMode},isPro:function(){return this.$pro&&this.$pro.enabled},expressionFields:function(){var e=this,t=[];return e.askFirstName&&t.push({title:"First Name",key:"_firstName",minimum:0,maximum:1,type:"string"}),e.askLastName&&t.push({title:"Last Name",key:"_lastName",minimum:0,maximum:1,type:"string"}),e.askGender&&t.push({title:"Gender",key:"_gender",minimum:0,maximum:1,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"I'd prefer not to say",value:"unknown"}]}),e.askDOB&&t.push({title:"Date of Birth",key:"_dob",minimum:0,maximum:1,type:"date"}),e.askPhone&&t.push({title:"Phone Number",key:"_phoneNumber",minimum:0,maximum:1,type:"string"}),e.askEmail&&t.push({title:"Phone Number",key:"_email",minimum:0,maximum:1,type:"email"}),t&&t.length?[].concat(t,this.model):e.model},parentType:function(){return this.item.parentType},psuedoParent:function(){return{title:"FORM",type:"group",fields:this.model}},allFields:function(){var e=[];return function t(o){c.a.each(o,(function(o){e.push(o),t(o.fields)}))}(this.model),e},readablePreviewState:function(){switch(this.previewState){case"ready":return"Ready for input";case"success":return"Thank you";default:return""}},image:function(){var image=c.a.get(this.publicData,"mainImage");if(image&&(image._id||image.length))return image},noImage:function(){return!this.image},hideDisplayTitle:function(){return this.publicData.hideDisplayTitle},displayTitle:function(){return this.publicData.title||this.item.title},componentMode:function(){return"component"==this.item._type},formMode:function(){return"form"==this.item.definition||"interaction"==this.item.parentType},showPreview:function(){if(!this.configureDefaults||this.field)return this.$vuetify.breakpoint.mdAndUp},formOptions:function(){return this.item&&this.item.data||{}},identifier:function(){return this.formOptions.identifier},allowAnonymous:function(){return this.formOptions.allowAnonymous||!1},disableDefaultFields:function(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields:function(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName:function(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName:function(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender:function(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB:function(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail:function(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone:function(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName:function(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName:function(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender:function(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB:function(){return this.formOptions.requireDOB},requireEmail:function(){if(this.formOptions.requireEmail)return!0;switch(this.identifier){case"both":case"email":case"either":return!0}},requirePhone:function(){if(this.formOptions.requirePhone)return!0;switch(this.identifier){case"both":case"phone":case"either":return!0}},fauxDefinition:function(){return Object.assign({},this.item,{fields:this.model})},publicData:function(){var e=this;return e.item&&e.item.data?e.item.data.publicData:{}},paymentGateways:function(){var e=this;if(e.publicData.paymentGateways&&e.publicData.paymentGateways.length)return e.publicData.paymentGateways},paymentIntegration:function(){return c.a.first(this.paymentGateways)}},methods:{toggleDataModel:function(){this.dataModelEnabled=!this.dataModelEnabled},fieldPath:function(){},deselectAll:function(){var e=this;e.configurePayment=e.configureDefaults=e.field=null},sorted:function(e){this.$emit("input",this.model)},expandAll:function(){var e=this;c.a.each(e.allFields,(function(t){"embedded"!=t.directive&&"group"!=t.type||e.$set(t,"collapsed",!1)}))},collapseAll:function(){var e=this;c.a.each(e.allFields,(function(t){"embedded"!=t.directive&&"group"!=t.type||e.$set(t,"collapsed",!0)}))},stateChanged:function(e){this.previewState=e},deleteSelectedField:function(){var e=this,t=e.field;e.$fluro.confirm("Delete Field","Are you sure you want to delete '".concat(t.title,"'?"),{confirmColor:"error",confirmText:"Confirm Delete"}).then((function(t){var o=e.findSelectedParent(),n=o.parent;o.index;e.deleteField(e.field,n)}))},recursiveGUID:function(e){var t=this;c.a.each(e,(function(e){e.guid||t.$set(e,"guid",t.$fluro.utils.guid()),t.recursiveGUID(e.fields)}))},showDefaultFieldOptions:function(){var e=this;e.field=null,e.configurePayment=!1,e.configureDefaults=!0},showPaymentOptions:function(){var e=this;e.field=null,e.configureDefaults=!1,e.configurePayment=!0},debugComponent:function(component){this.debugField(component.field)},debugField:function(e){var t=this.findField(e);t&&t.parent?this.field=e:console.log("NOT FOUND",e)},toggleDefaultFields:function(){this.item.data.allowAnonymous=!0},deselectField:function(){this.field=null},resetPreview:function(){var e=this;e.resetting=!0,setTimeout((function(){e.previewModel={},e.resetting=!1}),10)},getFieldTemplate:function(e){var t=this;return new Promise((function(o,n){var r=d.a;switch(e){case"form":case"interaction":break;default:r=t.componentMode?y:m}t.$fluro.options(r,"Add a field").then((function(e){var n=JSON.parse(JSON.stringify(e.field));n.guid=t.$fluro.utils.guid(),t.recursiveGUID(n.fields),o(n)})).catch(n)}))},getNewField:function(e){var t;if("group"===e)t={title:"",key:"",type:"group",fields:[],minimum:1,maximum:1,askCount:1,asObject:!1};else t={title:"",key:"",type:"string",directive:"input",minimum:0,maximum:1,params:{},defaultValues:[],defaultReferences:[]};return t.guid=this.$fluro.utils.guid(),t},addNewTypeTemplate:function(e){var t=this;console.log("GET FOR TYPE",e),t.getFieldTemplate(e).then((function(e){t.addNewField(null,e)}))},addNewComponentTemplate:function(){var e=this;e.getFieldTemplate("component").then((function(t){e.addNewField(null,t)}))},addNewTemplate:function(){var e=this;e.getFieldTemplate("form").then((function(t){e.addNewField(null,t)}))},addNewField:function(e,t){var o=this;if(t||(t=o.getNewField(e)),t.isNew=!0,t.collapsed=!1,t.fields||(t.fields=[]),!o.field)return o.configureDefaults?(console.log("Add new field to top"),o.model.unshift(t)):(console.log("Add new field to bottom"),o.model.push(t)),void(o.field=t);if("embedded"==t.directive&&"embedded"==o.field.directive);else if("group"==o.field.type)return o.field.fields||o.$set(o.field,"fields",[]),console.log("Add new field in to group"),o.field.fields.push(t),void(o.field=t);var n=o.findSelectedParent(),r=n.parent,l=n.index;r||(r=o.model),-1==l?(console.log("push into parent",r),r.push(t)):(console.log("splice into parent",r),r.splice(l+1,0,t)),o.field=t},copyFieldPath:function(path,e,t){this.$fluro.global.copyToClipBoard?(console.log("copy to clipboard please"),this.$fluro.global.copyToClipBoard(path)):console.log("copyToClipBoard is not a function")},injectField:function(e,t){var o=this.getNewField();if(!t)return console.log("no parent!");var n=t.indexOf(e);t.splice(n+1,0,o),this.field=o},clicked:function(e){this.field=e},mouseover:function(e){this.contextField=e},mouseleave:function(e){this.contextField==e&&(this.contextField=null)},findSelectedParent:function(){var e=this.field;return this.findField(e)},findField:function(e){var t,o=this,n=-1,i=c.a.findIndex(o.model,{guid:e.guid});if(-1!=i)return{parent:o.model,index:i};return c.a.each(o.model,(function o(r){var i=c.a.findIndex(r.fields,{guid:e.guid});-1!=i?(n=i,t=r.fields):c.a.each(r.fields,o)})),{parent:t,index:n}},duplicateField:function(e,t){if(t){var o=t.indexOf(e),n=JSON.parse(JSON.stringify(e));n.guid=this.$fluro.utils.guid(),n.title="",n.key="",t.splice(o+1,0,n),this.field=n}},deleteField:function(e,t){if(this.field=null,t){var o=t.indexOf(e);t.splice(o,1),console.log("DELETE",this.model)}else console.log("DELETE No parent",t)}},data:function(){return{treeOptions:{animation:1,group:"fields",ghostClass:"ghost"},dataModelEnabled:!1,previewState:"ready",configurePayment:!1,configureDefaults:!1,model:r.a.observable(this.value),resetting:!1,previewModel:{},field:null,contextField:null}}},Y=W,J=(o(1200),Object(C.a)(Y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("flex-column",{staticClass:"fluro-field-editor",class:{"schema-mode":!e.formMode}},[o("flex-row",[o("flex-column",{staticClass:"sidebar"},[o("flex-column",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true || !(field || configurePayment || configureDefaults)"}],staticClass:"fields-tree"},[o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("strong",{attrs:{label:""}},[e._v("Field Tree")]),e._v(" "),o("fluro-help",{attrs:{title:"Field Tree",body:"This shows you a list of all fields that are defined on your form and shows the depth at which they are nested. Click a field to modify it. Hover over it to highlight it in the form preview."}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("span",{staticClass:"state-link",on:{click:function(t){return e.expandAll()}}},[e._v("Expand All")]),e._v(" "),o("span",{staticClass:"state-link",on:{click:function(t){return e.collapseAll()}}},[e._v("Collapse All")])])],1)],1)]),e._v(" "),o("flex-column-body",[o("v-container",{attrs:{"pa-2":""}},[e.formMode?[o("div",{staticClass:"pseudo-field",class:{active:e.configureDefaults&&!e.field},on:{click:function(t){return e.showDefaultFieldOptions()}}},[e._v("\n\t\t\t\t\t\t\t\t\tForm Configuration\n\t\t\t\t\t\t\t\t")])]:e._e(),e._v(" "),o("draggable",{staticClass:"field-editor-children",attrs:{handle:".handle",element:"ul",options:e.treeOptions},on:{sort:e.sorted},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.model,(function(t,n){return o("fluro-field-editor-item",{key:t.guid,attrs:{top:e.model,mouseover:e.mouseover,mouseleave:e.mouseleave,parent:e.psuedoParent,parentGroup:e.psuedoParent,leaf:e.model[n],selected:e.field,select:e.clicked},on:{duplicate:e.duplicateField,injected:e.injectField,copypath:e.copyFieldPath,deleted:e.deleteField}})})),1),e._v(" "),e.formMode&&e.isEnterprise?[o("div",{staticClass:"pseudo-field",class:{active:e.configurePayment&&!e.field},on:{click:function(t){return e.showPaymentOptions()}}},[e._v("\n\t\t\t\t\t\t\t\t\tPayment Options\n\t\t\t\t\t\t\t\t")])]:e._e()],2)],1),e._v(" "),o("flex-column-footer",{staticClass:"border-top"},[o("v-container",{staticClass:"pa-2",staticStyle:{background:"#fff"}},[o("v-layout",{attrs:{row:""}},[e.formMode?o("v-flex",[o("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewTemplate()}}},[o("fluro-help",{attrs:{title:"Add a Field",body:"Click here to add a new field to your form"}}),e._v("Add Field\n\t\t\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):e.componentMode?o("v-flex",[o("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewComponentTemplate()}}},[e._v("\n\t\t\t\t\t\t\t\t\t\tAdd Field\n\t\t\t\t\t\t\t\t\t\t"),o("fluro-help",{attrs:{title:"Add a Field",body:"Click here to add a new field to your component"}}),e._v(" "),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):o("v-flex",[o("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewTypeTemplate(e.parentType)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\tAdd Field\n\t\t\t\t\t\t\t\t\t\t"),o("fluro-help",{attrs:{title:"Add a Field",body:"Click here to add a new field"}}),e._v(" "),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",[o("v-btn",{staticClass:"ma-1",attrs:{small:"",block:""},on:{click:function(t){return e.addNewField("group")}}},[e._v("\n\t\t\t\t\t\t\t\t\t\tAdd Group\n\t\t\t\t\t\t\t\t\t\t"),o("fluro-help",{attrs:{title:"Add a Group",body:"Click here to add a new field group. Field groups can be used to group fields together visually or to allow for repeating subsets of fields."}}),e._v(" "),o("fluro-icon",{attrs:{icon:"folder",right:""}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),e.showPreview?o("flex-column",{staticClass:"preview"},[e.resetting?o("fluro-page-preloader",{attrs:{contain:""}}):e._e(),e._v(" "),o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("strong",{attrs:{label:""}},[e._v(e._s(e.formMode?"Form":"")+" Preview")]),e._v(" "),o("fluro-help",{attrs:{title:"Preview",body:"View a realtime preview of how the form will look and behave when presented to the user"}})],1),e._v(" "),o("v-spacer"),e._v(" "),e.formMode&&e.isEnterprise?o("v-flex",{attrs:{shrink:""}},[o("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("span",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"state-link",attrs:{content:"Change Preview State"}},n),[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.readablePreviewState)+"\n\t\t\t\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"angle-down"}}),e._v(" "),o("fluro-help",{attrs:{title:"State Selector",body:"Preview the state of the form after it's been submitted. Or view the data model as you input information into the form."}})],1)]}}],null,!1,1323323947)},[e._v(" "),o("v-card",{attrs:{tile:""}},[o("v-list",{attrs:{dense:""}},[o("v-list-tile",{on:{click:function(t){e.previewState="ready"}}},[o("v-list-tile-content",[o("v-list-tile-title",[e._v("View 'Ready for input' state")])],1)],1),e._v(" "),o("v-list-tile",{on:{click:function(t){e.previewState="success"}}},[o("v-list-tile-content",[o("v-list-tile-title",[e._v("View 'Success' state")])],1)],1),e._v(" "),o("v-list-tile",{on:{click:function(t){return e.toggleDataModel()}}},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(e.dataModelEnabled?"Hide":"Show")+" Data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tModel")])],1)],1)],1)],1)],1)],1):e._e(),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("span",{staticClass:"state-link",on:{click:function(t){return e.resetPreview()}}},[o("fluro-help",{attrs:{title:"Reset Form",body:"After changing your form, you sometimes may want to reset the preview window manually. To do so click here."}}),e._v("\n\t\t\t\t\t\t\t\t\tReset "+e._s(e.formMode?"Form":"Preview")+"\n\t\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"undo"}})],1)])],1)],1)]),e._v(" "),o("flex-column-body",[e.resetting?o("v-container",[o("fluro-page-preloader",{attrs:{contain:""}})],1):[e.formMode?[e.image?o("div",{staticClass:"form-image"},[o("fluro-help",{attrs:{title:"Form Image",body:"Forms by default can have a hero image that will be displayed above the form when presented to the user"}}),e._v(" "),o("fluro-image",{attrs:{cover:"",from:e.item,imageWidth:1e3,imageHeight:300,spinner:!0,item:e.image}})],1):e._e(),e._v(" "),o("v-container",{attrs:{fluid:""}},[o("wrapper",{attrs:{sm:""}},[o("constrain",{attrs:{sm:""}},[o("fluro-interaction-form",{ref:"previewForm",attrs:{contextField:e.contextField,defaultState:e.previewState,context:"builder",prefill:!1,title:e.item.title,definition:e.fauxDefinition,paymentIntegration:e.paymentIntegration,gateways:e.paymentGateways,debugMode:!0},on:{state:e.stateChanged,debug:e.debugField},scopedSlots:e._u([{key:"info",fn:function(){return[e.hideDisplayTitle?e._e():o("h1",{attrs:{margin:""}},[e._v(e._s(e.displayTitle))]),e._v(" "),o("fluro-compile-html",{staticClass:"form-body",attrs:{template:e.publicData.body,context:e.item}})]},proxy:!0},e.publicData.thankyou?{key:"success",fn:function(){return[o("fluro-compile-html",{staticClass:"form-thankyou",attrs:{template:e.publicData.thankyou,context:e.item}})]},proxy:!0}:null],null,!0),model:{value:e.previewModel,callback:function(t){e.previewModel=t},expression:"previewModel"}})],1)],1)],1)]:o("v-container",[o("constrain",{attrs:{sm:""}},[o("fluro-content-form",{ref:"previewForm",attrs:{context:"definition",recursiveClick:e.debugComponent,debugMode:!0,contextField:e.contextField,fields:e.model},model:{value:e.previewModel,callback:function(t){e.previewModel=t},expression:"previewModel"}})],1)],1)]],2),e._v(" "),e.dataModelEnabled?o("flex-column",{staticClass:"border-top"},[o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("strong",{attrs:{label:""}},[e._v("Data Model Preview")])]),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(t){e.dataModelEnabled=!1}}},[o("fluro-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)]),e._v(" "),o("flex-column-body",{staticClass:"model-preview"},[o("json-view",{attrs:{highlightMouseoverNode:!0,highlightSelectedNode:!0,selectOnClickNode:!0,showLength:!0,data:e.previewModel}})],1)],1):e._e(),e._v(" "),e._e()],1):e._e(),e._v(" "),o("flex-column",{staticClass:"field-options"},[e.field?[o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("strong",{attrs:{label:""}},[e._v(e._s(e.field.title||"Untitled field"))]),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[o("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),o("fluro-field-edit",{attrs:{item:e.item,expressionFields:e.expressionFields},on:{reset:function(t){return e.resetPreview()},deleted:e.deleteSelectedField},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}})]:e.configurePayment?[o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("strong",{attrs:{label:""}},[e._v("Payment Settings")])]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[o("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),o("flex-column-body",[e._t("payment")],2)]:e.configureDefaults?[o("flex-column-header",[o("div",{staticClass:"palette-title"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("strong",{attrs:{label:""}},[e._v("Form Configuration")])]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[o("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),o("flex-column-body",[e._t("form")],2)]:[o("flex-column",{staticClass:"placeholder",attrs:{center:""}},[o("v-container",{staticClass:"text-xs-center",staticStyle:{flex:"none"},attrs:{fluid:""}},[o("p",{staticClass:"muted"},[e._v("Select a field on the left to edit configuration")])])],1)]],2)],1)],1)}),[],!1,null,"552e1c40",null));t.a=J.exports},288:function(e,t,o){"use strict";o(21),o(12);var n={props:{outline:{type:Boolean},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:Object},success:{type:Boolean},options:{default:function(){return{}},type:Object},formFields:{type:Array}},data:function(){return{model:this.value}},watch:{value:function(e){this.model=e,this.createVariables(e)},"model.academicCalendar":function(){this.$emit("calendar",this.model.academicCalendar)},"model.academicGrade":function(){this.$emit("grade",this.model.academicGrade)}},computed:{modelProxy:{get:function(){return this.model.academicCalendar},set:function(e){e&&e._id&&e._id.length?(console.log("Set Proxy",e),this.$set(this.model,"academicCalendar",e)):(console.log("Set Proxy",null),this.$set(this.model,"academicCalendar",null))}},errorMessages:function(){return[]},gradeHint:function(){return"(As of ".concat((new Date).getFullYear(),")")},showOutline:function(){return this.outline||this.options.outline},grades:function(){return this.model.academicCalendar?this.model.academicCalendar.grades:[]}},created:function(){this.formFields&&this.$set(this.formFields,this.formFields.length,this),this.createVariables(),this.$emit("created",this)},beforeDestroy:function(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},methods:{gradeChanged:function(e){this.$set(this.model,"academicGrade",e),this.valueChanged()},calendarChanged:function(e){this.valueChanged()},createVariables:function(){this.model.academicCalendar||this.$set(this.model,"academicCalendar",void 0),this.model.academicGrade||this.$set(this.model,"academicGrade",void 0)},valueChanged:function(){this.$emit("value",this.model)},reset:function(){}},asyncComputed:{calendars:{default:[],get:function(){var e=this;return new Promise((function(t,o){e.$fluro.api.get("/contact/schools",{searchInheritable:!0,allDefinitions:!0}).then((function(e){var o=e.data;o.unshift({title:"None",_id:""}),t(o)}),o)}))}}}},r=o(1),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-academic-select"},[o("v-input",{staticClass:"no-flex",attrs:{label:e.label,required:e.required,"error-messages":e.errorMessages,hint:e.hint}},[o("v-layout",{staticClass:"fluro-academic-field",attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:"School / Institution","no-data-text":"No options available","item-text":"title","item-value":"_id",items:e.calendars,"return-object":!0,"error-messages":e.errorMessages},on:{input:e.calendarChanged},model:{value:e.modelProxy,callback:function(t){e.modelProxy=t},expression:"modelProxy"}})],1),e._v(" "),e.model.academicCalendar?o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-autocomplete",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:"Grade / Year Level","persistent-hint":!0,hint:e.gradeHint,"no-data-text":"No options available","item-text":"title","item-value":"key",items:e.grades,"error-messages":e.errorMessages},on:{input:e.gradeChanged},model:{value:e.model.academicGrade,callback:function(t){e.$set(e.model,"academicGrade",t)},expression:"model.academicGrade"}})],1):e._e()],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports},332:function(e,t,o){"use strict";var n=[];n.push({title:"Basic Text Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",directive:"input",key:""}}),n.push({title:"Multiple Choice",description:"Add a select dropdown where the user can choose an option from a list",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:"",directive:"select",options:[{name:"Option One",value:"Option One"},{name:"Option Two",value:"Option Two"},{name:"Option Three",value:"Option Three"},{name:"Option Four",value:"Option Four"}]}}),n.push({title:"Person",key:"person",description:"Add a new Contact Reference Field including the basic details (First Name, Last Name etc..)",field:{title:"",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"",params:{restrictType:"contact",ticketing:{enabled:!0}},fields:[{title:"Names",type:"group",key:"names",sameLine:!0,fields:[{title:"First Name",minimum:1,maximum:1,key:"firstName",type:"string"},{title:"Last Name",minimum:1,maximum:1,key:"lastName",type:"string"}]},{title:"Gender",minimum:1,maximum:1,key:"gender",type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"I'd prefer not to say",value:"unknown"}]},{title:"Date of Birth",minimum:1,maximum:1,key:"dob",type:"date",directive:"dob-select"},{title:"Email / Phone",key:"contactoptions",type:"group",sameLine:!0,fields:[{title:"Email Address",minimum:1,maximum:1,key:"email",type:"email"},{title:"Phone Number",minimum:1,maximum:1,key:"phoneNumber",type:"string"}]}]}}),n.push({title:"Family Household / Address",description:"Add a new Family Household Reference Field including address, suburb etc",field:{title:"Family Household / Address",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"family",params:{restrictType:"family"},fields:[{title:"Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"address",fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]},{key:"samePostal",title:"Postal Address is the same",minimum:0,maximum:1,type:"boolean",defaultValues:[!0]},{title:"Postal Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"postalAddress",expressions:{hide:"model.samePostal"},fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Postal Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]}]}}),n.push({title:"Heading / Custom Text",description:"Add a custom heading or html markup",field:{title:"My Heading",description:"This is the description",minimum:0,maximum:1,type:"void",directive:"custom",key:"heading",template:"<h3>{{field.title}}</h3>\n<p>{{field.description}}</p>"},params:{}}),n.push({title:"Video",description:"Add a video embed",field:{title:"My Video",description:"This is a video",minimum:0,maximum:1,type:"void",directive:"custom",key:"videoItem",template:'<h3>{{field.title}}</h3>\n\n                    <p>{{field.description}}</p>\n\n                    <div style="width:100%; position:relative; height:0; padding-bottom:56.25%;">\n<iframe style="width:100%; height:100%; position: absolute; top:0; right:0; bottom:0; left:0; " src="https://www.youtube.com/embed/iJ1ynQ46984" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n</div>\n\n                    '},params:{}}),n.push({title:"Checkbox",description:"Add a checkbox or True/False value",field:{title:"",minimum:1,maximum:1,askCount:1,type:"boolean",key:"",params:{storeCopy:!1,storeData:""}}}),n.push({title:"Signature",description:"Request the user to write their signature",field:{title:"Signature",description:"Please sign your name",minimum:1,maximum:1,type:"string",directive:"signature",key:"signature"},params:{}}),n.push({title:"File Upload",description:"Add a video, asset, or image upload field",field:{title:"Upload Image",description:"Select your image/s to upload",minimum:0,maximum:0,type:"reference",directive:"upload",params:{restrictType:"image"},key:"upload"},params:{}}),n.push({title:"Website link",description:"Add a link to an external URL",field:{title:"External Link",minimum:0,maximum:1,type:"void",directive:"custom",key:"link",template:'<a target="_blank" href="https://www.fluro.io">Click here to view the link</a>'},params:{}}),t.a=n},334:function(e,t,o){var content=o(1024);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("74711750",content,!0,{sourceMap:!1})},335:function(e,t,o){var content=o(1026);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("79ea98f5",content,!0,{sourceMap:!1})},336:function(e,t,o){var content=o(1028);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("1e7e509f",content,!0,{sourceMap:!1})},34:function(e,t,o){"use strict";o.r(t);o(21),o(17),o(22);var n=o(0),r=o.n(n),l=o(5),c=o.n(l),d=o(50),f={name:"fluro-content-form",props:{contextField:{type:Object},recursiveClick:{type:Function},debugMode:{type:Boolean},debounce:{type:Number,default:0},disableDefaults:{type:Boolean,default:!1},dynamic:{type:Boolean},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},parent:{type:Object},fields:{type:Array},value:{type:Object},formFields:{default:function(){return[]},type:Array},options:{default:function(){return{}},type:Object},outline:{type:Boolean}},computed:{fieldsOutput:function(){return this.fields},formModel:function(){return this.parent||this.model},showOutline:function(){return this.outline||this.options.outline},errorMessages:function(){return r.a.chain(this.formFields).filter((function(e){var t=e.errorMessages;if(t)return t.length})).map((function(e){return{title:e.errorTitle,messages:e.errorMessages}})).value()},fieldHash:function(){return r.a.reduce(this.fieldsOutput,(function(e,t){return e[t.key]=t,e}),{})}},data:function(){return{ready:!0,model:this.value,watchEnabled:!0}},components:{FluroContentFormField:d.default},watch:{model:function(e,t){this.watchEnabled&&this.$emit("input",this.model)},value:function(e){var t=this;t.model!=e&&(t.watchEnabled=!1,t.model=e,t.reset(),t.$nextTick((function(){t.watchEnabled=!0})))},errorMessages:function(e){this.$emit("errorMessages",e)}},created:function(){this.reset()},methods:{touch:function(){r.a.each(this.formFields,(function(component){component.touch&&component.touch()}))},reset:function(){var e=this;e.disableDefaults||(e.fieldsOutput||[]).forEach((function t(o){if(!o)return;if("group"==o.type&&!o.asObject)return void(o.fields||[]).forEach(t);if(r.a.get(e.model,o.key))return;if("embedded"!=o.directive&&"group"!=o.type)return;if(1!=o.maximum){for(var n=Math.max(o.askCount,o.minimum),l=[],i=0;i<n;i++)l.push({});c.a.set(e.model,o.key,l)}})),e.formFields.forEach((function(component){component.reset()})),e.$emit("default")},update:function(input,e){this.$emit("input",this.model)}}},m=f,h=(o(1147),o(1)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.ready&&e.model?o("div",{staticClass:"fluro-content-form"},[e._t("form",(function(){return e._l(e.fields,(function(t,n){return o("v-container",{key:t.key+"-"+n,staticClass:"grid-list-lg",attrs:{fluid:"","pa-0":""}},[o("fluro-content-form-field",{key:"field-"+t.key+"-"+n,attrs:{debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,context:e.context,parent:e.formModel,outline:e.showOutline,"form-fields":e.formFields,options:e.options,field:e.fields[n]},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)}))}),{parent:e.formModel,context:e.context,formFields:e.formFields,fieldHash:e.fieldHash,model:e.model,update:e.update,options:e.options})],2):e._e()}),[],!1,null,"5bc02d67",null);t.default=component.exports},50:function(e,t,o){"use strict";o.r(t);var n,r,l=o(49),c=o(145),d=o(11),f=(o(65),o(42),o(112),o(55),o(12),o(31),o(85),o(17),o(28),o(23),o(22),o(24),o(59),o(51),o(48),o(21),o(120),o(940)),m=o(167),h=o(0),v=o.n(h),y=o(5),x=o.n(y),k=o(935),_=o(115),w=o(71),M=o.n(w),C=o(137),O={methods:{blur:function(e){this.$emit("blur",e)}},components:{VCurrencyField:o(936).a},props:(n={currency:{type:String,default:"USD"},hint:{type:String},placeholder:{type:String},persistentHint:{type:Boolean},errorMessages:{type:Array},label:{type:String},required:{type:Boolean},success:{type:Boolean},autofocus:{type:Boolean},outline:{type:Boolean}},Object(d.a)(n,"outline",{type:Boolean}),Object(d.a)(n,"hideSuffix",{type:Boolean}),Object(d.a)(n,"value",{type:Number,default:function(){return 0}}),Object(d.a)(n,"min",{type:Number,default:function(){return 0}}),Object(d.a)(n,"max",{type:Number}),n),computed:{currencyModel:{get:function(){var e=this.model;return e=parseFloat(e),e=Math.max(e,0),e/=100},set:function(e){e=parseFloat(e),e=Math.max(e,0),e=parseInt(Math.round(100*e)),this.model=e}},minValue:function(){var e=parseInt(this.min||0)/100;if(e)return e},maxValue:function(){var e=parseInt(this.max||0)/100;if(e&&0!=e)return e},prefix:function(){return this.$fluro.utils.currencySymbol(this.currency)},suffix:function(){if(!this.hideSuffix)return String(this.currency||"").toUpperCase()}},data:function(){return{model:this.value}},watch:{model:function(e){console.log("Input changed",e),this.$emit("input",e)}}},S=o(1),D=Object(S.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("client-only",[o("v-currency-field",{attrs:{prefix:e.prefix,suffix:e.suffix,label:e.label,required:e.required,autofocus:e.autofocus,outline:e.outline,success:e.success,"error-messages":e.errorMessages,"persistent-hint":e.persistentHint,hint:e.hint,placeholder:e.placeholder,min:e.minValue,max:e.maxValue},on:{blur:e.blur},model:{value:e.currencyModel,callback:function(t){e.currencyModel=t},expression:"currencyModel"}})],1),e._v(" "),o("div",{staticStyle:{display:"none"}},[o("pre",[e._v("Currency Model:"+e._s(e.currencyModel))]),e._v(" "),o("pre",[e._v("Actual Model: "+e._s(e.model))]),e._v(" "),o("pre",[e._v(e._s(e.min)+" - "+e._s(e.max))]),e._v(" "),o("pre",[e._v(e._s(e.minValue)+" - "+e._s(e.maxValue))])])],1)}),[],!1,null,null,null).exports,$=o(195),F=o(196),P=o(197),T=o(82),E=o(83);function A(e,t){e.key;var o,script='"use strict"; var object = {}; try {object = '.concat(e.js,"} catch(e) {console.log(e)} finally {return object}");try{o=Function(script)()}catch(t){console.log("Error generating dynamic component",e.title,e.key,t,e.js)}finally{if(!o)return;o.mixins||(o.mixins=[]),o.mixins.push({beforeCreate:function(){var e=this;v.a.each(t,(function(o){e.$options.components[o.key]=A(o,t)}))}});var html,n=document.createElement("div");if(n.innerHTML=e.html,n.childNodes&&n.childNodes.length)if(1==n.childNodes.length)n.childNodes[0].classList.add("component-".concat(e.key)),html=n.innerHTML;else html='<div class="component-'.concat(e.key,'">').concat(e.html,"</div>");o&&(o.template=html)}return o}var I=function(e,t){return Array.from(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e<=t)){o.next=5;break}return o.next=3,e++;case 3:o.next=0;break;case 5:case"end":return o.stop()}}),o)}))())};function N(e){if(e){var output=e;return String(output).length<2&&(output="0".concat(output)),output}}function j(e){switch(String(e).toLowerCase()){case"true":case"y":case"yes":case"1":case"t":e=!0;break;case"false":case"n":case"no":case"0":case"f":case"undefined":case"null":case"":e=!1}return e}var V={name:"fluro-content-form-field",components:{"color-picker":k.Chrome,draggable:M.a,FluroCompileHtml:C.a,FluroCurrencyInput:D,FluroSignatureField:$.a,FluroDateTimePicker:F.a,FluroContentSelect:P.a,FluroContentSelectButton:T.default,FluroRealmSelect:E.a},data:function(){return{actualDateModelDay:null,actualDateModelMonth:null,actualDateModelYear:null,ready:!0,hasInitialValue:!1,asyncOptionsLoading:!1,drag:!1,test:null,modal:!1,model:this.value,textDate:"",proposedValue:null,pseudoModel:null,color:null,mounted:!1,keywords:"",results:[],loading:!1,files:[],cancelTokens:[],bytesLoaded:0,bytesTotal:0,uploadState:"ready"}},watch:{timezone:function(){this.dateStringModel=this.dateStringModel},formattedDate:function(e){this.textDate=e},keywords:v.a.debounce((function(){var e=this,t=this.field,o=e.keywords;if(o&&o.length&&(!t.allowedReferences||!t.allowedReferences.length)){e.loading=!0;var n={limit:5,select:"title"},r=v.a.get(t,"params.restrictType");r&&r.length&&(n.types=[r]),e.$fluro.content.search(o,n).then((function(t){e.results=t,e.loading=!1}))}}),500),expressionDefaultValue:function(e){if(this.expressions&&this.expressions.defaultValue)if(this.$v.model.$dirty||this.hasInitialValue)console.log(this.field.key,"is dirty already");else{console.log("GET THE DEFAULT VALUE",this.field.key,e),e=this.cleanInput(e);var t=this.model[this.field.key];"date"==this.field.type&&e&&t&&Date(e)==Date(t)||(t!=e?(console.log("expression default value",this.field.key,e),this.$set(this.model,this.field.key,e),this.$emit("input",this.model)):console.log(this.field.key,"no change",t,e))}},expressionValue:function(e){if(this.expressions&&this.expressions.value){e=this.cleanInput(e);var t=this.model[this.field.key];"date"==this.field.type&&e&&t&&Date(e)==Date(t)||t!=e&&(console.log("expression value",this.field.key,e),this.$set(this.model,this.field.key,e),this.$emit("input",this.model))}},value:function(e){this.model!=e&&(this.model=e,this.model&&(this.model[this.field.key]=this.fixCorruptedData(this.model[this.field.key]),this.createDefaults(),this.reset(),this.checkInitialValue()))}},computed:(r={academicModel:{get:function(){return this.fieldModel},set:function(s){this.fieldModel=s,"academicCalendar"!=this.field.key&&this.$set(this.model,"academicCalendar",s)}},fieldModelWithFlags:function(){var e=this;return this.fieldModel.map((function(t,i){return{content:t,disabled:"email"===e.type&&0===i&&e.isFromSubsplash}}))},gradeOptions:function(){var e=this.fieldModel;if(e&&e.grades&&e.grades.length)return v.a.map(e.grades,(function(e){return{title:e.title,text:e.title,name:e.title,value:e.key}}))},dateModelDay:{get:function(){return this.actualDateModelDay?this.actualDateModelDay:this.dateStringModel?parseInt(this.dateStringModel.split("-")[2]):void 0},set:function(e){null!=e&&null!=e?(this.actualDateModelDay=e,this.actualDateModelYear&&this.actualDateModelMonth&&(this.dateStringModel="".concat(this.actualDateModelYear,"-").concat(N(this.actualDateModelMonth),"-").concat(N(this.actualDateModelDay)))):this.actualDateModelMonth=null}},dateModelMonth:{get:function(){return this.actualDateModelMonth?this.actualDateModelMonth:this.dateStringModel?this.dateStringModel.split("-")[1]:void 0},set:function(e){null!=e&&null!=e?(this.actualDateModelMonth=e,this.actualDateModelDay&&this.actualDateModelYear&&(this.dateStringModel="".concat(this.actualDateModelYear,"-").concat(N(this.actualDateModelMonth),"-").concat(N(this.actualDateModelDay)))):this.actualDateModelMonth=null}},dateModelYear:{get:function(){return this.actualDateModelYear?this.actualDateModelYear:this.dateStringModel?this.dateStringModel.split("-")[0]:void 0},set:function(e){null!=e&&null!=e?(this.actualDateModelYear=e,this.actualDateModelDay&&this.actualDateModelMonth&&(this.dateStringModel="".concat(this.actualDateModelYear,"-").concat(N(this.actualDateModelMonth),"-").concat(N(this.actualDateModelDay)))):this.actualDateModelMonth=null}},dateDayOptions:function(){return I(1,31).map((function(e){return{title:e,value:e}}))},dateMonthOptions:function(){var e=[];return e.push({title:"January",value:"01"}),e.push({title:"February",value:"02"}),e.push({title:"March",value:"03"}),e.push({title:"April",value:"04"}),e.push({title:"May",value:"05"}),e.push({title:"June",value:"06"}),e.push({title:"July",value:"07"}),e.push({title:"August",value:"08"}),e.push({title:"September",value:"09"}),e.push({title:"October",value:"10"}),e.push({title:"November",value:"11"}),e.push({title:"December",value:"12"}),e},dateYearOptions:function(){var e=(new Date).getFullYear();return I(e-110,e).reverse().map((function(e){return{title:e,value:String(e)}}))},webMode:function(){var e=this;if(e.mounted&&e.$fluro.app){var element=e.$el;if(element&&element.ownerDocument&&element.ownerDocument.defaultView)return!element.ownerDocument.defaultView.adminPanelMode}},useBasicDropdown:function(){return this.selectOptions.length<5||this.mobile||this.params.dropdown},placeholder:function(){var e=this.field.placeholder;if(null!=e&&null!=e&&""!=e)return String(e)},autoformat:function(){return 0!=this.params.autoformat},isContext:function(){return this.contextField==this.field},isNew:function(){return this.field.isNew},shouldAutofocus:function(){return this.autofocus||this.params.autofocus},customComponent:function(){return this.field.customComponent},customComponentName:function(){return this.params.customComponent},mobile:function(){return this.$vuetify.breakpoint.xsOnly},dynamicDateHint:function(){var e=this;if(e.fieldModel)return"DATE_NOW"==e.fieldModel?"The date will be stored at the time of action.":"Date will be set to ".concat(e.$fluro.date.formatDate(e.fieldModel,"dddd D MMM YYYY"))},currentDateOrToday:function(){return s=this.fieldModel,isNaN(s)&&!isNaN(Date.parse(s))?new Date(this.fieldModel):new Date;var s},params:function(){return this.field.params||{}},persistentDescription:function(){if(this.params.persistentDescription)return!0},formModel:function(){return this.parent||this.model},minValue:function(){return v.a.get(this,"field.params.minValue")},maxValue:function(){var e=v.a.get(this,"field.params.maxValue");if(e&&parseFloat(e)&&!isNaN(e))return e},minDate:function(){return v.a.get(this,"field.params.minDate")},maxDate:function(){return v.a.get(this,"field.params.maxDate")},dateFormat:function(){return"D MMM YYYY"},dateHint:function(){if(this.fieldModel)switch(this.field.key){case"dob":case"_dob":var e=this.$fluro.date.moment().diff(this.fieldModel,"years");return this.model.dobVerified,"".concat(e," Years old")}return this.dateFormat},dateStringModel:{get:function(){return this.timezone?this.fieldModel&&this.$fluro.date.moment.tz(this.fieldModel,this.timezone).format("YYYY-MM-DD"):this.fieldModel&&this.$fluro.date.moment(this.fieldModel).format("YYYY-MM-DD")},set:function(e){if("string"===this.field.type)this.fieldModel=e;else{if(this.timezone)return void(this.fieldModel=e&&this.$fluro.date.moment.tz(e,this.timezone).startOf("day").toDate());this.fieldModel=e&&this.$fluro.date.moment(e).startOf("day").toDate()}}},formattedDate:function(){return this.fieldModel&&this.$fluro.date.moment(this.fieldModel).format(this.dateFormat)},asyncOptionsURL:function(){switch(this.directive){case"countryselect":case"countrycodeselect":return"/system/countries"}},dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},Object(d.a)(r,"params",(function(){return this.field.params||{}})),Object(d.a)(r,"showOutline",(function(){return this.outline||this.params.outline||this.options.outline})),Object(d.a)(r,"searchInheritable",(function(){if(this.field.params&&this.field.params.searchInheritable)return this.field.params.searchInheritable})),Object(d.a)(r,"allDefinitions",(function(){if(this.field.params&&this.field.params.allDefinitions)return this.field.params.allDefinitions})),Object(d.a)(r,"referenceFilter",(function(){if(this.field.params&&this.field.params.referenceFilter)return this.field.params.referenceFilter})),Object(d.a)(r,"restrictType",(function(){if(this.field.params&&this.field.params.restrictType)return this.field.params.restrictType})),Object(d.a)(r,"fileHint",(function(){return"uploading"===this.uploadState?"Uploading...":this.field.description})),Object(d.a)(r,"success",(function(){if(this.options.validateSuccess)return this.$v.$dirty&&!this.$v.$invalid})),Object(d.a)(r,"editorOptions",(function(){var e=this.options.editor||this.params.editor||{};return this.params.tokens&&this.params.tokens.length&&(e.tokens=this.params.tokens),e})),Object(d.a)(r,"multiEditorOptions",(function(){return Object.assign({},this.options.editor,{label:""})})),Object(d.a)(r,"savedTerms",(function(){return v.a.get(this.field,"params.storeCopy")})),Object(d.a)(r,"syntax",(function(){return v.a.get(this.field,"params.syntax")})),Object(d.a)(r,"multiLabel",(function(){return this.multipleInput?this.total?"Add another ".concat(this.title):"Add ".concat(this.title):this.label})),Object(d.a)(r,"displayLabel",(function(){if(this.overrideLabel&&this.overrideLabel.length)return this.overrideLabel;if(this.showLabel){var title=this.title||"";return title.length?this.required?"".concat(title," *"):title:void 0}})),Object(d.a)(r,"hint",(function(){return 1==this.maximum?this.field.description:this.minimum&&this.total<this.minimum?"Type and press enter (".concat(this.total," of ").concat(this.minimum," required)"):this.maximum?"Type and press enter (Max ".concat(this.maximum,")"):"Type and press enter"})),Object(d.a)(r,"customContext",(function(){var e=this;return JSON.parse(JSON.stringify({field:e.field,model:e.fieldModel,data:e.model}))})),Object(d.a)(r,"customTemplate",(function(){return this.field.template})),Object(d.a)(r,"searchResults",(function(){return this.allowedReferences&&this.allowedReferences.length?this.allowedReferences:this.allowedValues&&this.allowedValues.length?this.allowedValues:this.results})),Object(d.a)(r,"canAddFile",(function(){if(this.canAddValue&&(1!=this.maximum||!this.files||!this.files.length))return!0})),Object(d.a)(r,"canAddValue",(function(){return 0==this.maximum||this.total<this.maximum})),Object(d.a)(r,"canRemoveValue",(function(){if(this.total>this.minimum)return!0})),Object(d.a)(r,"allowedValues",(function(){return this.field.allowedValues})),Object(d.a)(r,"allowedReferences",(function(){return v.a.chain(this.field.allowedReferences).map((function(e){return e.value=e._id,e})).orderBy((function(e){return e.title||e.name})).value()})),Object(d.a)(r,"defaultValues",(function(){return this.disableDefaults?[]:v.a.filter("reference"==this.field.type?this.defaultReferences:this.field.defaultValues,(function(e){switch(e){case"null":case"undefined":case null:case void 0:return;default:return e}}))})),Object(d.a)(r,"defaultReferences",(function(){return this.disableDefaults?[]:v.a.compact(this.field.defaultReferences)})),Object(d.a)(r,"attributes",(function(){return this.field.attributes})),Object(d.a)(r,"sameLine",(function(){return this.field.sameLine})),Object(d.a)(r,"fieldClass",(function(){var e=[];switch(e.push("fluro-content-form-field-".concat(this.renderer)),this.isContext&&e.push("is-context"),this.renderer){case"group":case"embedded":(this.asObject||"embedded"==this.renderer)&&this.multipleInput&&(e.push("multiple-input"),e.push("multiple-input-values-".concat(this.fieldModel?this.fieldModel.length:null)))}return e.push(this.className),e.join(" ")})),Object(d.a)(r,"groupClass",(function(){if("group"==this.type||"embedded"==this.type)return"".concat(this.className)})),Object(d.a)(r,"colorModel",{get:function(){return this.color||(this.color={}),this.color.hex8=this.fieldModel?this.fieldModel:null,this.color},set:function(object){this.color=object,this.fieldModel=object?object.hex8:""}}),Object(d.a)(r,"fieldModel",{get:function(){var e=this;if("void"==e.field.type)return!1;if(e.field.key&&e.field.key.length){var t=e.model[e.field.key];return e.cleanOutput(t)}},set:function(e){var t=this;"void"!=t.field.type?(e=t.cleanInput(e),t.model[t.field.key]!=e&&(t.$set(t.model,t.field.key,e),t.$emit("input",t.model))):t.$emit("input",t.model)}}),Object(d.a)(r,"addLabel",(function(){return this.total?"Add another ".concat(this.title):"Add ".concat(this.title)})),Object(d.a)(r,"className",(function(){return String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},(this.field.className||"").replaceAll("col-xs-","xs").replaceAll("col-sm-","sm").replaceAll("col-md-","md").replaceAll("col-lg-","lg").replaceAll("col-xl-","xl")})),Object(d.a)(r,"key",(function(){return this.field.key})),Object(d.a)(r,"asObject",(function(){return this.field.asObject})),Object(d.a)(r,"fields",(function(){return this.field.fields})),Object(d.a)(r,"officeUseOnly",(function(){var e=v.a.get(this.field,"params.disableWebform"),t="admin"!=this.context;if("raw"!=this.context)return!(!e||!t)||void 0})),Object(d.a)(r,"type",(function(){if(this.field)return this.field.type;console.error("Field not defined!!",this)})),Object(d.a)(r,"expressions",(function(){return this.field&&this.field.expressions||{}})),Object(d.a)(r,"errorTitle",(function(){return this.field.title})),Object(d.a)(r,"title",(function(e){return this.options.labels&&this.options.labels.hasOwnProperty(this.key)?this.options.labels[this.key]:this.field.title})),Object(d.a)(r,"multipleInput",(function(){switch(this.renderer){case"group":case"embedded":if(0===this.minimum)return!0}return 1!==this.maximum})),Object(d.a)(r,"countryCodeOptions",(function(){var e=v.a.chain(this.asyncOptions).map((function(e){var t=e.name,o=e.alpha2,n=e.countryCallingCodes;return{title:"".concat(t," - ").concat(o," (").concat(n.join(", "),")"),value:e.alpha2}})).orderBy((function(e){return e.title})).value();return e.unshift({title:"United Kingdom - GB (+44)",value:"GB"}),e.unshift({title:"United States - USA (+1)",value:"US"}),e.unshift({title:"Australia - AU (+61)",value:"AU"}),e})),Object(d.a)(r,"countryOptions",(function(){return v.a.map(this.asyncOptions,(function(e){return{title:e.name,value:e.name}}))})),Object(d.a)(r,"timezoneOptions",(function(){var e=v.a.map(this.$fluro.date.timezones(),(function(title){return{title:title,value:title}}));return e.unshift({title:"None / Default",value:null}),e})),Object(d.a)(r,"academicCalendarOptions",(function(){return this.selectOptions.slice()})),Object(d.a)(r,"selectOptions",(function(){var e=this;if(!e.field)return[];var t=[];e.field.options&&e.field.options.length?t=v.a.chain(e.field.options).map((function(option){if(option)return v.a.isString(option)?{title:option,name:option,text:option,value:option}:(option.title=option.title?option.title:option.name||option.text||String(option),option)})).compact().value():e.allowedValues&&e.allowedValues.length&&(t=v.a.chain(e.allowedValues).compact().map((function(option){return{name:option,value:option,title:option,text:option}})).value()),"reference"==e.field.type&&e.allowedReferences&&e.allowedReferences.length&&(t=e.allowedReferences),e.asyncOptions&&e.asyncOptions.length&&(t=e.asyncOptions);var o=t.slice();if(!e.field.minimum&&1==e.field.maximum){var n;if("boolean"===e.field.type)n=v.a.find(t,(function(option){return""==option.value||0==j(option.value)}));else n=v.a.find(t,{value:""});n||"select"!=e.directive||o.unshift({name:"None",title:"None",text:"None",value:""})}return o})),Object(d.a)(r,"minimum",(function(){return Math.max(parseInt(this.field.minimum),0)})),Object(d.a)(r,"maximum",(function(){return parseInt(this.field.maximum)})),Object(d.a)(r,"total",(function(){var e=0;return this.multipleInput&&this.fieldModel&&(e=v.a.get(this.fieldModel,"length")||0),e})),Object(d.a)(r,"askCount",(function(){return Math.max(this.minimum,this.field.askCount)})),Object(d.a)(r,"errorMessages",(function(){var e=this,t=[];if("void"==e.type)return t;if("group"==e.type&&!e.asObject)return t;if(!e.isVisible)return t;if(!this.$v.model.$dirty)return t;if(!this.$v.uploading&&"uploading"==e.uploadState)return t.push("Waiting for files to upload"),t;if(!this.$v.model.validateInput){this.proposedValue&&v.a.each(L(e,this.proposedValue),(function(e){t.push(e)})),v.a.each(L(this,e.fieldModel),(function(e){t.push(e)}));var o="answer";if("upload"==e.directive&&(o="file"),this.minimum==this.maximum)this.minimum&&(1==this.minimum?t.push("This field is required"):t.push("Please provide ".concat(this.minimum," ").concat(o,"s")));else if(1==this.maximum)t.push("This field is required");else{Array.isArray(this.model[this.key])||t.push("Requires at least ".concat(this.minimum," ").concat(o,"s"));var n=(this.model[this.key]||"").length;n<this.minimum&&(1==this.minimum?t.push("Requires at least 1 ".concat(o)):t.push("Please provide at least ".concat(this.minimum," ").concat(o,"s"))),this.maximum&&n>this.maximum&&t.push("Maximum ".concat(this.maximum," ").concat(o,"s"))}}return this.field.errorMessage&&this.field.errorMessage.length&&t.length?[this.field.errorMessage]:t})),Object(d.a)(r,"prefix",(function(){if(this.field)return this.field.prefix})),Object(d.a)(r,"suffix",(function(){if(this.field)return this.field.suffix})),Object(d.a)(r,"directive",(function(){if(this.field)return this.field.directive,this.field.directive})),Object(d.a)(r,"renderer",(function(){var e=this,t=e.type,o=e.directive;if(e.dynamic&&"date"==t)return"dynamicdate";if("admin"==e.context||"definition"==e.context){if("reference"==t){var n=e.allowedReferences&&e.allowedReferences.length;switch(o){case"academic-select":case"content-select-button":return o;case"realmselect":case"realm-select":return"realmselect";case"reference-select":return e.asyncOptionsURL||n?"select":"content-select";default:return n?o:"content-select"}}}else if("custom"==o)return o;switch(o){case"app-menu-select":case"app-page-select":case"app-theme-select":case"app-block-select":case"app-font-select":case"app-filter-select":case"app-chart-select":case"app-size-select":case"app-style-select":case"academic-select":case"textarea":case"wysiwyg":case"select":case"embedded":break;case"value":o="value";break;case"color":o="color";break;case"currency":o="currency";break;case"realm-select":case"realmselect":o="realmselect";break;case"content-select-button":o="content-select-button";break;case"dobselect":case"dob-select":o="dob";break;case"date-select":case"datepicker":o="datepicker";break;case"time-select":case"timepicker":o="timepicker";break;case"datetime-select":case"datetimepicker":o="datetimepicker";break;case"timezone-select":o="timezoneselect";break;case"country-codeselect":o="countrycodeselect";break;case"country-select":o="countryselect";break;case"upload":switch(e.context){case"admin":case"definition":o="content-select";break;case"publicForm":case"builder":break;default:!e.webMode&&window.adminPanelMode&&(o="content-select")}break;case"button-select":o="button-select";break;case"order-select":o="select";break;default:switch(t){case"date":o="datepicker";break;case"group":o="group";break;case"boolean":o="checkbox";break;case"number":case"integer":case"decimal":case"float":o="number";break;case"reference":switch(e.context){case"raw":case"admin":case"definition":o="content-select";break;default:o="select"}}}return o||(o="input"),o})),r),methods:{optionIsSelected:function(e){if(this.fieldModel){var t=this.getActualValue(e);return this.getActualValue(this.fieldModel)==t||(v.a.isArray(this.fieldModel)?this.fieldModel.includes(t):void 0)}},checkTextDateImmediate:function(){var e=this,t=this.textDate;if("date"==e.field.type)if(t){var o=new Date(t);o instanceof Date&&!isNaN(o)&&(e.fieldModel=o)}else e.fieldModel=null},checkTextDate:v.a.debounce((function(){this.checkTextDateImmediate()}),250),toggleCollapsed:function(object){this.$set(object,"_collapsed",!object._collapsed)},copyToClipboard:function(e){this.$fluro.global.copyToClipBoard&&this.$fluro.global.copyToClipBoard(e)},createDefaults:function(){var e=this,t=e.model[e.field.key],o=null!=t&&""!==t;if("group"==e.field.type&&t=={}&&(o=!1),!o){var n=!e.multipleInput;if("group"!=e.type)if(n){var r=v.a.first(e.defaultValues);r&&e.$set(e.model,e.field.key,e.cleanInput(r))}else{var l=v.a.map(e.defaultValues,e.cleanInput);e.$set(e.model,e.field.key,l)}}},cleanOutput:function(e){var t=this;t.expressions&&t.expressions.transform&&"function"==typeof t.expressions.transform.get&&(e=t.expressions.transform.get(e));if("timepicker"==t.field.directive&&(e=t.$fluro.date.militaryTimestamp(e,!0)),t.dynamic&&"dynamicdate"==t.renderer){if("DATE_NOW"==e)return e;if(!e)return;return new Date(e).toISOString()}if("-"==String(e))switch(t.field.type){case"number":case"decimal":case"float":case"integer":return e}switch(t.field.type){case"date":if(e)return"now"==String(e).toLowerCase()?(new Date).toISOString():new Date(e).toISOString();break;case"integer":null!=e&&null!=e&&(e=String(e).length?parseInt(e):null);break;case"number":if(null!=e&&null!=e&&!isNaN(e))e=String(e).length?Number(parseFloat(e).toFixed(2)):0;break;case"float":case"decimal":null!=e&&null!=e&&(e=String(e).length?t.params.disableRounding?Number(parseFloat(e)):Number(parseFloat(e).toFixed(2)):null);break;case"boolean":switch(e=!!e&&j(e),t.field.inverse&&(e=!e),t.directive){case"select":case"button-select":var o=e;if(t.selectOptions&&t.selectOptions.length){var n=t.selectOptions.find((function(e){switch(String(e.value||e.key||e).toLowerCase()){case"true":case"y":case"yes":case"1":case"t":return o;default:return!o}}));n&&(e=n.value||n.key||n)}}}return e},cleanInput:function(e){var t=this;(e&&""===e.value&&(e=null),t.expressions&&t.expressions.transform)&&("function"==typeof t.expressions.transform.set&&(e=t.expressions.transform.set(e)));if("timepicker"==t.field.directive&&(e=t.$fluro.date.militaryTimestamp(e)),t.dynamic&&"dynamicdate"==t.renderer){if("DATE_NOW"==e)return e;if(!e)return;return new Date(e).toISOString()}if("-"==String(e))switch(t.field.type){case"number":case"decimal":case"float":case"integer":return e}switch(t.field.type){case"reference":e||(e=t.multipleInput?[]:null);break;case"date":if(e)if("now"==String(e).toLowerCase())e=new Date;else{var o=new Date(e);if(o instanceof Date&&!isNaN(o)){e=new Date(6e4*Math.round(o.getTime()/6e4))}else e=null}break;case"integer":null!=e&&null!=e&&(e=String(e).length?parseInt(e):0);break;case"number":if(null!=e&&null!=e&&!isNaN(e))e=String(e).length?Number(parseFloat(e).toFixed(2)):0;break;case"float":case"decimal":null!=e&&null!=e&&(e=String(e).length?t.params.disableRounding?Number(parseFloat(e)):Number(parseFloat(e).toFixed(2)):0);break;case"boolean":e=!!e&&j(e),t.field.inverse&&(e=!e);break;default:e||(e="")}return e},fixCorruptedData:function(input){var output,e=this;function t(){for(var t=[],o=Math.max(e.field.minimum||0,e.field.askCount||0),i=0;i<o;i++)t.push({});return e.field.maximum&&t.length>e.field.maximum&&(t.length=e.field.maximum),t}var o=e.multipleInput,n=v.a.isArray(input);if(o){if(!n)switch(e.field.type){case"reference":input?output=[input]:"embedded"==e.renderer&&(output=t());break;case"group":e.field.asObject&&(output=input?[input]:t());break;case"void":case"date":break;default:output=input?[input]:[]}}else{if("date"==e.field.type)return input&&(output=v.a.isDate(input)?input:new Date(input)),output||input;var r="group"==e.renderer&&e.field.asObject,l="embedded"==e.renderer;if(r||l)n&&input[0]&&v.a.isObject(input[0])?output=input[0]:input||(output={});else if(n)switch(e.field.type){case"date":output=new Date(v.a.first(input));break;case"void":break;default:output=v.a.chain(input).compact().first().value()}}return output||input},debugSelect:function(e){var t=this;"builder"!=t.context&&"definition"!=t.context||!t.recursiveClick||(e&&(e.preventDefault(),e.stopPropagation()),t.recursiveClick(t))},checkInitialValue:function(){var e=this;void 0===e.fieldModel||null==e.fieldModel||""==e.fieldModel?e.hasInitialValue=!1:e.hasInitialValue=!0},clear:function(){this.fieldModel=null,this.modal=!1,this.reset()},reset:function(){this.files=[],this.$v.$reset()},removeFile:function(e){var t=this;e.cancelToken&&e.cancelToken.cancel("Operation canceled by the user."),t.files.splice(t.files.indexOf(e),1),t.mapFilesToValues(),"uploading"==e.state&&t.uploadNextFile()},filedrop:function(e){e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&(e.preventDefault(),e.stopPropagation(),this.filesSelected(e.dataTransfer.files))},fileover:function(e){e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&(e.preventDefault(),e.stopPropagation())},filesSelected:function(e){var t=this;if(t.touch(),e.length){var o=v.a.map(e,(function(e){return{file:e,data:{},name:e.name,size:e.size}}));return t.files=v.a.chain(t.files.concat(o)).compact().uniqBy((function(e){return e.name})).value(),t.maximum&&(t.files=t.files.slice(0,t.maximum)),this.$refs.file.value=null,t.uploadNextFile()}},upload:function(e){var t=this;switch(e.state){case"complete":case"uploading":return}e.state="uploading";var o=new FormData;o.append("file",e.file,e.name),t.$forceUpdate();var n,body=o,r={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(o){var n=Math.floor(100*o.loaded/o.total);e.progress=n,e.bytesLoaded=o.loaded,e.bytesTotal=o.total,t.bytesLoaded=v.a.reduce(t.files,(function(e,t){return"complete"==t.state?e+=t.size||t.bytesTotal||0:e+=t.bytesLoaded||0,e}),0),t.$forceUpdate()}},source=t.$fluro.api.CancelToken.source();r.cancelToken=source.token,e.cancelToken=source,r.headers={"Content-Type":void 0};var l=v.a.chain(t.field).get("params.realm").value();if(v.a.isArray(l)?l.length&&(n=l[0]):v.a.isString(l)?n=l:v.a.isObject(l)&&(n=t.$fluro.utils.getStringID(l)),!n){var c=v.a.get(t.options,"backupUploadRealm");c?n=c:(e.state="error",t.uploadNextFile())}return this.$fluro.api.post("/file/attach/".concat(t.$fluro.utils.getStringID(n)),body,r).then((function(o){e.state="complete",e.result=o.data,e.attachmentID=o.data._id,e.cancelToken=null,t.uploadNextFile()})).catch((function(o){e.state="error",e.cancelToken=null,t.uploadNextFile()}))},uploadNextFile:function(){var e=this;e.uploadState="uploading";var t=v.a.find(e.files,(function(e){switch(e.state){case"complete":case"error":return;default:return!0}}));t?e.upload(t):e.uploadState="ready",e.mapFilesToValues()},mapFilesToValues:function(){var e=this,t="result";e.multipleInput?e.fieldModel=v.a.map(e.files,t):e.fieldModel=v.a.chain(e.files).first().get(t).value(),e.$forceUpdate()},runExpression:function(e){var t=this,o={data:t.parent,interaction:t.parent,model:t.model,Math:Math,String:String,Array:Array,Date:Date,Boolean:Boolean,parseInt:parseInt,parseFloat:parseFloat,moment:t.$fluro.date.moment,matchInArray:this.$fluro.utils.matchInArray,create:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return Object(c.a)(e,o)}};return e(o)},resolveExpression:function(e){var t,o,n=this,r={data:n.parent,interaction:n.parent,model:n.model,Math:Math,String:String,Array:Array,Date:Date,Boolean:Boolean,parseInt:parseInt,parseFloat:parseFloat,moment:n.$fluro.date.moment,matchInArray:this.$fluro.utils.matchInArray,create:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return Object(c.a)(e,o)}};try{t=Object(_.b)(e),o=Object(_.a)(t,r)}catch(e){}finally{return o}},groupTitle:function(object,e){if(object){if(object.title&&object.title.length)return object.title;if(object.name&&object.name.length)return object.name;if(object.firstName)return object.lastName?"".concat(object.firstName," ").concat(object.lastName):object.firstName}return"".concat(this.title," ").concat(e+1)},getActualValue:function(e){if(null!=e&&null!=e)return e._id||e.id||e.value||e.title||e},toggleValue:function(e){var t=this;null!=e&&null!=e&&(t.isSelectedValue(e)?t.deselectValue(e):t.selectValue(e))},selectValue:function(e){var t=this;t.multipleInput&&!t.canAddValue||(t.isSelectedValue(e)||(t.multipleInput?t.fieldModel.push(e):t.fieldModel=e),t.elementValueChanged(null,!0))},deselectValue:function(e){var t=this;if(t.isSelectedValue(e))if(t.multipleInput){var o=t.fieldModel.indexOf(e);-1!=o&&t.fieldModel.splice(o,1)}else t.fieldModel=null;t.elementValueChanged(null,!0)},isSelectedValue:function(e){var t=this;if(null!=e&&null!=e){var o=t.getActualValue(e);return t.multipleInput?t.fieldModel.some((function(e){return t.getActualValue(e)==o})):t.getActualValue(t.fieldModel)==o}},includesValue:function(e){return v.a.includes(this.fieldModel,e)},addProposedValue:function(){var e=this,t=this.proposedValue;(e.touch(),e.canAddValue)&&(t&&""!=t&&(L(e,t).length||(e.includesValue(t)||e.addValue(t),e.proposedValue=null)))},addValue:function(e){var t=this;if(t.disableDefaults){var o=function e(o,source){if("group"===o.type)if(o.asObject)if(1==o.maximum){var n={};v.a.each(o.fields,(function(t){e(t,n)})),t.$set(source,o.key,n)}else{var r=Math.max(o.askCount,o.minimum),l=[];v.a.times(r,(function(i){var t={};v.a.each(o.fields,(function(o){e(o,t)})),l.push(t)})),t.$set(source,o.key,l)}else v.a.each(o.fields,(function(t){e(t,source)}));else{var c="reference"==o.type?o.defaultReferences:o.defaultValues;c&&c.length&&(1==o.maximum?t.$set(source,o.key,JSON.parse(JSON.stringify(c[0]))):t.$set(source,o.key,JSON.parse(JSON.stringify(c))))}};"group"!=t.type&&"embedded"!=t.renderer||v.a.each(t.field.fields,(function(t){o(t,e)}))}t.fieldModel||(t.fieldModel=[]),t.canAddValue&&(t.fieldModel.push(e),t.valueChange())},removeValue:function(e,t){(this.canRemoveValue||t)&&this.fieldModel&&(this.fieldModel.splice(e,1),this.valueChange())},touch:function(){this.$v.model.$touch()},clicked:function(e){this.debugSelect(e)},focussed:function(){this.debugSelect()},modalFocussed:function(){this.focussed(),this.modal=!0,this.touch()},elementValueChanged:function(e,t,o){var n=this;t&&n.touch(),n.$emit("input",n.model)},subFieldChanged:function(e,t){var o=this;t&&o.touch(),o.$forceUpdate(),o.elementValueChanged(e)},valueChange:function(e,t){t&&this.touch()}},mounted:function(){var e=this;e.mounted=!0,e.debugMode&&e.field.isNew&&e.$nextTick((function(){e.$nextTick((function(){e.$el&&e.$el.scrollIntoView&&(e.$el.scrollIntoView({behavior:"smooth",block:"center"}),e.field.isNew=void 0)}))}))},beforeUnmount:function(){this.mounted=!1},created:function(){var e=this;this.field||console.log("THIS HAS BLOWN UP",this.$el,this);var t=e.fixCorruptedData(e.model[e.field.key]);Object(l.a)(t)==Object(l.a)(e.model[e.field.key])&&t==e.model[e.field.key]||e.$set(e.model,e.field.key,t),e.formFields&&e.$set(e.formFields,e.formFields.length,e),e.textDate=e.formattedDate,e.createDefaults(),e.checkInitialValue(),e.$emit("created",e)},beforeDestroy:function(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},props:{debugMode:{type:Boolean},contextField:{type:Object},recursiveClick:{type:Function},disableDefaults:{type:Boolean,default:!1},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},timezone:{type:String},dynamic:{type:Boolean},parent:{type:Object},autofocus:{type:Boolean},outline:{type:Boolean},showLabel:{type:Boolean,default:!0},overrideLabel:{type:String},formFields:{type:Array},field:{type:Object,required:!0},value:{required:!0},options:{default:function(){return{}},type:Object},isFromSubsplash:{type:Boolean,default:!1}},asyncComputed:{asyncOptions:{default:[],get:function(){var e=this;return e.asyncOptionsURL&&e.asyncOptionsURL.length?(e.asyncOptionsLoading=!0,new Promise((function(t,o){e.$fluro.api.get(e.asyncOptionsURL).then((function(o){t(o.data),e.asyncOptionsLoading=!1})).catch((function(t){o(t),e.asyncOptionsLoading=!1}))}))):(Promise.resolve([]),void(e.asyncOptionsLoading=!1))}},required:{default:!1,get:function(){return 1==this.minimum||this.expressionRequired?Promise.resolve(!0):Promise.resolve(!1)}},isVisible:{get:function(){if(!this.field)return!0;var e="value"==this.renderer||this.expressionHideGroup||this.expressionHide;return Promise.resolve(!e)}},expressionValue:{get:function(){var e=this;if(!e.expressions||!e.expressions.value)return Promise.resolve();if("function"==typeof e.expressions.value){var t=e.runExpression(e.expressions.value);return Promise.resolve(t)}if(!String(e.expressions.value).length)return Promise.resolve();var o=this.resolveExpression(e.expressions.value);return Promise.resolve(o)}},expressionDefaultValue:{get:function(){var e=this;if(!e.expressions||!e.expressions.defaultValue)return Promise.resolve();if("function"==typeof e.expressions.defaultValue){var t=e.runExpression(e.expressions.defaultValue);return Promise.resolve(t)}if(!String(e.expressions.defaultValue).length)return Promise.resolve();var o=this.resolveExpression(e.expressions.defaultValue);return Promise.resolve(o)}},expressionRequired:{default:!1,get:function(){var e,t=this;return t.expressions&&t.expressions.required&&t.expressions.required.length?(e=this.resolveExpression(t.expressions.required),Promise.resolve(e)):Promise.resolve(!1)}},expressionHide:{default:!1,get:function(){var e,t=this;if(t.expressions&&t.expressions.show){if("function"==typeof t.expressions.show)return!t.runExpression(t.expressions.show);var o=t.resolveExpression(t.expressions.show);return Promise.resolve(!o)}if(!t.expressions||!t.expressions.hide)return Promise.resolve(!1);if("function"==typeof t.expressions.hide){var n=t.runExpression(t.expressions.hide);return Promise.resolve(n)}return String(t.expressions.hide).length?(e=this.resolveExpression(t.expressions.hide),Promise.resolve(e)):Promise.resolve(!1)}},expressionHideGroup:{default:!1,get:function(){var e=this,t=!1;return e.field.hideExpression&&e.field.hideExpression.length?(t=this.resolveExpression(e.field.hideExpression),Promise.resolve(t)):t}}},mixins:[f.validationMixin],beforeCreate:function(){this.$options.components.FluroContentForm=o(34).default,this.$options.components.FluroContentFormField=o(50).default,this.$options.components.FluroEditor=o(125).default,this.$options.components.FluroCodeEditor=o(126).default;var e=this,t=e.$options.propsData.field;if(t&&"custom"==t.directive&&e.$fluro.app&&e.$fluro.app.site&&e.$fluro.app.site.components&&e.$fluro.app.site.components.length){var n=e.$fluro.app.site.components;n.forEach((function(t){var o=A(t,n);o&&(e.$options.components[t.key]=x.a.extend(o))}))}},validations:{model:{validateInput:function(source,e){var t=source[this.key],o=e.minimum,n=e.maximum,r=Array.isArray(t);if(this.proposedValue){if(L(e,this.proposedValue).length)return!1}if(!o&&!t)return!0;if(1==n)return!!t&&!L(e,t).length;if(!r)return!1;var l=(t||"").length;if(l<o)return!1;if(l>n)return!1;if(v.a.some(t,(function(input){return L(e,input).length})))return!1;return!0},uploading:function(source,e){return"uploading"!=e.uploadState}}}};function L(e,input){var t=[],o=e.type,n=v.a.get(e.field,"params.minValue"),r=v.a.get(e.field,"params.maxValue"),l="currency"==e.field.directive?v.a.get(e.field,"params.currency"):null;switch(o){case"email":if(e.multipleInput)if(v.a.isArray(input))v.a.some(input,(function(e){return e=e?String(e).toLowerCase().trim():"",!Object(m.email)(e)&&e.length}))&&t.push("All emails must be valid",input);else input=input?String(input).toLowerCase().trim():"",!Object(m.email)(input)&&input.length&&t.push("Must be a valid email",input);else input=input?String(input).toLowerCase().trim():"",!Object(m.email)(input)&&input.length&&t.push("'".concat(input,"' is not a valid email address"),input);break;case"url":var c=function(e){if(e&&e.length)return e=e?String(e).toLowerCase().trim():"",!(!(v.a.includes(e,"://")||v.a.startsWith(input,"/")||v.a.startsWith(input,"#")||v.a.startsWith(input,"mailto:")||v.a.startsWith(input,"tel:")||v.a.startsWith(input,"sms:"))&&!Object(m.url)(e))};if(e.multipleInput)if(v.a.isArray(input))v.a.some(input,(function(e){return!c(e)&&e.length}))||t.push("All URLs must be valid eg. (https://...)",input);else!c(input)&&input.length&&t.push("All URLs must be valid eg. (https://...)",input);else input&&input.length&&!c(input)&&t.push("Must be a valid URL eg. (https://...)",input);break;case"boolean":e.minimum&&(input||t.push("This is required"));break;case"integer":case"decimal":case"float":case"number":!0;var d=Number(input);v.a.isFinite(d)&&!v.a.isNaN(d)||t.push("".concat(input||""," is not a valid number!"));var f=function(input,e,t,o,n,r){var l=Number;switch(o){case"integer":l=parseInt;break;case"float":case"decimal":l=parseFloat}return void 0!==input&&(input=l(input)),void 0!==e&&input<(e=l(e))?"Must be at least ".concat(n&&r?r.$fluro.utils.formatCurrency(e,n):e):void 0!==t&&0!=parseInt(t)&&input>(t=l(t))?"Must be less than ".concat(n&&r?r.$fluro.utils.formatCurrency(t,n):t):void 0}(input,n,r,o,l,e);f&&t.push(f)}return t}var R=V,B=(o(1180),Object(S.a)(R,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isVisible?o("div",e._b({staticClass:"fluro-content-form-field",class:e.fieldClass,attrs:{"data-field-key":e.key},on:{click:function(t){return e.clicked(t)}}},"div",e.attributes,!1),[e.field?e._e():o("pre",[e._v("FATAL - NO FIELD SPECIFIED")]),e._v(" "),e.ready&&e.model?[e.officeUseOnly?void 0:e.customComponent?[o(e.customComponent,{tag:"component",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:e.customComponentName?[o(e.customComponentName,{tag:"component",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.elementValueChanged},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"dynamicdate"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,"persistent-hint":!0,hint:e.dynamicDateHint}},[o("div",{staticStyle:{margin:"10px 0"}},[o("v-btn-toggle",{model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},[o("v-btn",{attrs:{flat:"",value:null}},[e._v(" None ")]),e._v(" "),o("v-btn",{attrs:{flat:"",value:"DATE_NOW"}},[e._v(" Dynamic Date ")]),e._v(" "),o("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-btn",e._g({attrs:{flat:"",value:e.currentDateOrToday}},n),[e._v(" Specific Date ")])]}}],null,!1,1598336906),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),o("v-card",[o("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{change:function(t){e.modal=!1}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Done")])],1)],1)],1)],1)],1)])]:"custom"==e.renderer?[o("fluro-compile-html",{attrs:{template:e.customTemplate,context:e.customContext}})]:"embedded"==e.renderer?[e.multipleInput?[e._l(e.fieldModel,(function(object,t){return o("v-card",{key:object.guid},[o("v-toolbar",{staticClass:"elevation-0"},[o("v-toolbar-title",{staticClass:"hidden-xs"},[e._v(e._s(e.groupTitle(object,t)))]),e._v(" "),o("v-spacer"),e._v(" "),o("v-toolbar-items",[e.canRemoveValue?o("v-btn",{attrs:{icon:"",small:"",flat:"",color:"error"},on:{click:function(o){return e.removeValue(t)}}},[o("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1)],1),e._v(" "),o("v-card-text",[o("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.elementValueChanged},model:{value:e.fieldModel[t],callback:function(o){e.$set(e.fieldModel,t,o)},expression:"fieldModel[index]"}})],1)],1)})),e._v(" "),e.fieldModel&&e.fieldModel.length?[e.webMode?[e.canAddValue?o("fluro-button",{on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t")]):e._e()]:[e.canAddValue?o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t")]):e._e()]]:[e.webMode?[e.canAddValue?o("fluro-button",{attrs:{block:"",size:"lg"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t")]):e._e()]:[e.canAddValue?o("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t")]):e._e()]]]:[o("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.elementValueChanged},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"group"==e.renderer?[e.asObject?[e.multipleInput?[o("draggable",e._b({attrs:{handle:".handle"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},"draggable",e.dragOptions,!1),e._l(e.fieldModel,(function(object,t){return o("v-card",{key:object.guid},[o("v-toolbar",{staticClass:"elevation-0"},[o("v-btn",{staticClass:"handle",attrs:{small:"",icon:"",flat:""}},[o("fluro-icon",{attrs:{icon:"arrows"}})],1),e._v(" "),o("v-toolbar-title",{staticClass:"hidden-xs",on:{click:function(t){return e.toggleCollapsed(object)}}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.groupTitle(object,t))+"\n\t\t\t\t\t\t\t\t")]),e._v(" "),o("v-spacer"),e._v(" "),o("v-toolbar-items",[o("v-btn",{attrs:{small:"",icon:"",flat:""},on:{click:function(t){return e.toggleCollapsed(object)}}},[o("fluro-icon",{attrs:{icon:object._collapsed?"angle-down":"angle-up"}})],1),e._v(" "),e.canRemoveValue?o("v-btn",{attrs:{small:"",icon:"",flat:"",color:"error"},on:{click:function(o){return e.removeValue(t)}}},[o("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1)],1),e._v(" "),object._collapsed?e._e():o("v-card-text",[o("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.elementValueChanged},model:{value:e.fieldModel[t],callback:function(o){e.$set(e.fieldModel,t,o)},expression:"fieldModel[index]"}})],1)],1)})),1),e._v(" "),e.fieldModel&&e.fieldModel.length?[e.webMode?[e.canAddValue?o("fluro-button",{on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t\t")]):e._e()]:[e.canAddValue?o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t\t")]):e._e()]]:[e.webMode?[e.canAddValue?o("fluro-button",{attrs:{block:"",size:"lg"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t\t")]):e._e()]:[e.canAddValue?o("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.addLabel)+"\n\t\t\t\t\t\t\t")]):e._e()]]]:[o("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:function(t){return e.elementValueChanged(t,!0,"emit")}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:[e.field.sameLine?[o("v-layout",{staticClass:"same-line",attrs:{row:""}},[e._l(e.fields,(function(t){return[o("fluro-content-form-field",{staticClass:"flex",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,field:t},on:{input:e.subFieldChanged},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))],2)]:[e._l(e.fields,(function(t){return[o("fluro-content-form-field",{staticClass:"flex",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,field:t},on:{input:e.subFieldChanged},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))]]]:"checkbox"==e.renderer?[e.savedTerms?o("div",{staticClass:"terms",class:{"has-error":e.errorMessages.length}},[o("v-checkbox",{attrs:{outline:e.showOutline,success:e.success,mandatory:e.required,"persistent-hint":!0,label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{change:function(t){return e.elementValueChanged(t,!0)}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}}),e._v(" "),o("div",{staticClass:"conditions"},[e._v(e._s(e.field.params.storeData))])],1):[o("v-checkbox",{attrs:{outline:e.showOutline,success:e.success,mandatory:e.required,"persistent-hint":!0,label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{change:function(t){return e.elementValueChanged(t,!0)}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"number"==e.renderer?[o("v-text-field",{attrs:{"persistent-hint":e.persistentDescription,suffix:e.suffix,prefix:e.prefix,outline:e.showOutline,success:e.success,required:e.required,novalidate:!0,pattern:"^[+-]?[0-9]+(?:\\.[0-9]+)?$",label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"realmselect"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{"persistent-hint":!0,label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[o("fluro-realm-select",{attrs:{block:"",type:"collection"},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"dob"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[o("v-layout",[o("v-flex",[o("v-select",{attrs:{label:"Date","error-messages":e.errorMessages,outline:e.showOutline,success:e.success,required:e.required,"item-text":"title",items:e.dateDayOptions},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.dateModelDay,callback:function(t){e.dateModelDay=t},expression:"dateModelDay"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",[o("v-select",{attrs:{label:"Month","error-messages":e.errorMessages,outline:e.showOutline,success:e.success,required:e.required,"item-text":"title",items:e.dateMonthOptions},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.dateModelMonth,callback:function(t){e.dateModelMonth=t},expression:"dateModelMonth"}})],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-flex",[o("v-select",{attrs:{label:"Year","error-messages":e.errorMessages,outline:e.showOutline,success:e.success,required:e.required,"item-text":"title",items:e.dateYearOptions},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.dateModelYear,callback:function(t){e.dateModelYear=t},expression:"dateModelYear"}})],1)],1)],1)]:"button-select"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,"persistent-hint":"",success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[o("div",{staticClass:"button-select-buttons"},[e.webMode?e._l(e.selectOptions,(function(button){return o("fluro-button",{key:button.value,class:{active:e.isSelectedValue(button.value),inactive:!e.isSelectedValue(button.value)},attrs:{block:e.$vuetify.breakpoint.xsOnly},nativeOn:{click:function(t){return e.toggleValue(button.value)}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(button.name||button.title)+"\n\t\t\t\t\t\t\t"),o("fluro-icon",{staticClass:"tick",attrs:{right:"",icon:"check"}})],1)})):e._l(e.selectOptions,(function(button){return o("v-btn",{staticClass:"ml-0",class:{active:e.isSelectedValue(button.value)},attrs:{block:e.$vuetify.breakpoint.xsOnly,color:e.isSelectedValue(button.value)?"primary":null},nativeOn:{click:function(t){return e.toggleValue(button.value)}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(button.name||button.title)+"\n\t\t\t\t\t\t\t"),o("fluro-icon",{staticClass:"tick",attrs:{right:"",icon:"check"}})],1)}))],2)])]:"datepicker"==e.renderer?[o("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-text-field",e._g({attrs:{outline:e.showOutline,success:e.success,"persistent-hint":!0,hint:e.dateHint,label:e.displayLabel,"prepend-inner-icon":"event"},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkTextDateImmediate.apply(null,arguments)},input:e.checkTextDate},model:{value:e.textDate,callback:function(t){e.textDate=t},expression:"textDate"}},n))]}}],null,!1,2680142106),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),o("v-card",[o("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},change:function(t){e.modal=!1}},model:{value:e.dateStringModel,callback:function(t){e.dateStringModel=t},expression:"dateStringModel"}},[o("v-spacer"),e._v(" "),e.minimum?e._e():[o("v-btn",{attrs:{color:"",flat:""},nativeOn:{click:function(t){return e.clear.apply(null,arguments)}}},[e._v("Clear")])],e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Done")])],2)],1)],1)]:"timepicker"==e.renderer?[o("v-dialog",{ref:"dialog",attrs:{persistent:"","return-value":e.fieldModel,lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){e.fieldModel=t},"update:return-value":function(t){e.fieldModel=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-text-field",e._g({attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,"prepend-inner-icon":"access_time",readonly:""},on:{blur:function(t){return e.touch()},focus:function(t){return e.modalFocussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},n))]}}],null,!1,3467311750),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),e.modal?o("flex-column",[o("v-card",[o("v-toolbar",{attrs:{color:"primary",dark:""}},[o("v-toolbar-title",[e._v(e._s(e.displayLabel))])],1),e._v(" "),o("v-time-picker",{attrs:{attach:"","full-width":""},model:{value:e.pseudoModel,callback:function(t){e.pseudoModel=t},expression:"pseudoModel"}},[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Cancel")]),e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.pseudoModel)}}},[e._v("OK")])],1)],1)],1):e._e()],1)]:"datetimepicker"==e.renderer?[o("fluro-date-time-picker",{attrs:{webMode:e.webMode,outline:e.showOutline,large:!e.params.small,"error-messages":e.errorMessages,min:e.minDate,max:e.maxDate,success:e.success,required:e.required,format:"ddd D MMM - h:mma ",timePickerFormat:"ampm",label:e.displayLabel,placeholder:e.placeholder,hint:e.field.description},on:{touched:function(t){return e.touch()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"timezoneselect"==e.renderer?[e.mobile?[o("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.timezoneOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[o("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.timezoneOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"countrycodeselect"==e.renderer?[e.mobile?[o("v-select",{attrs:{"persistent-hint":!0,dense:"",outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryCodeOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[o("v-autocomplete",{attrs:{"persistent-hint":!0,dense:"",outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryCodeOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"countryselect"==e.renderer?[e.mobile?[o("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[o("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"definitionselect"==e.renderer?[o("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.definitionOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"select"==e.renderer?[e.useBasicDropdown?[o("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"return-object":"reference"==e.type,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.selectOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticStyle:{"padding-right":"8px"},attrs:{shrink:""}},[o("fluro-icon",{attrs:{icon:e.optionIsSelected(n)?"check-square":"square",library:e.optionIsSelected(n)?"fas":"far"}})],1),e._v(" "),o("v-flex",[n.description&&n.description.length?o("div",{staticClass:"border-bottom"},[o("strong",[e._v(e._s(n.title||n.name))]),o("br"),e._v(" "),o("div",{staticClass:"muted font-xs"},[e._v(e._s(n.description))])]):[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(n.title||n.name)+"\n\t\t\t\t\t\t\t\t")]],2)],1)]}}],null,!1,1220850046),model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[o("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"return-object":"reference"==e.type,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.selectOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",{staticStyle:{"padding-right":"8px"},attrs:{shrink:""}},[o("fluro-icon",{attrs:{icon:e.optionIsSelected(n)?"check-square":"square",library:e.optionIsSelected(n)?"fas":"far"}})],1),e._v(" "),o("v-flex",[n.description&&n.description.length?o("div",{staticClass:"border-bottom"},[o("strong",[e._v(e._s(n.title||n.name))]),o("br"),e._v(" "),o("div",{staticClass:"muted font-xs"},[e._v(e._s(n.description))])]):[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(n.title||n.name)+"\n\t\t\t\t\t\t\t\t")]],2)],1)]}}],null,!1,1220850046),model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"content-select-button"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[o("fluro-content-select-button",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,block:"",recursiveClick:e.recursiveClick,type:e.restrictType,minimum:e.minimum,maximum:e.maximum,searchInheritable:e.searchInheritable,allDefinitions:e.allDefinitions},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"content-select"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[o("fluro-content-select",{attrs:{options:e.params.contentSelect,context:e.context,template:e.params.template,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,success:e.success,required:e.required,"error-messages":e.errorMessages,label:e.displayLabel,outline:e.showOutline,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.placeholder,minimum:e.minimum,type:e.restrictType,lockFilter:e.referenceFilter,searchInheritable:e.searchInheritable,maximum:e.maximum},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},input:e.elementValueChanged},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"search-select"==e.renderer?[o("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"deletable-chips":!0,"hide-selected":!0,"prepend-inner-icon":"search","error-messages":e.errorMessages,"cache-items":!e.defaultReferences||!e.defaultReferences.length,chips:e.multipleInput,clearable:!e.required,"return-object":!0,"item-text":"title",multiple:e.multipleInput,loading:e.loading,items:e.searchResults,"search-input":e.keywords,flat:"","hide-no-data":"",label:e.displayLabel},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},change:function(t){return e.elementValueChanged(t,!0)},"update:searchInput":function(t){e.keywords=t},"update:search-input":function(t){e.keywords=t}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[o("fluro-avatar",{staticClass:"xs",attrs:{id:n._id,type:"contact"}}),e._v(" "),o("v-list-tile-content",[o("v-list-tile-title",{domProps:{textContent:e._s(n.title)}})],1)]}}],null,!1,2762711489),model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"signature"==e.renderer?[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,n){return[o("fluro-signature-field",{attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,required:e.required,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel[n],callback:function(t){e.$set(e.fieldModel,n,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[e.webMode?[o("fluro-button",{on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]:[o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]]:e._e()]:[o("fluro-signature-field",{attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,required:e.required,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"code"==e.renderer?o("client-only",{staticStyle:{display:"block"}},[o("v-input",{staticClass:"no-flex",attrs:{hint:e.field.description,"persistent-hint":!0}},[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,n){return[o("fluro-code-editor",{attrs:{autoformat:e.autoformat,outline:e.showOutline,success:e.success,lang:e.syntax,height:200},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel[n],callback:function(t){e.$set(e.fieldModel,n,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[e.webMode?[o("fluro-button",{on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]:[o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]]:e._e()]:[o("v-label",[e._v(e._s(e.displayLabel))]),e._v(" "),o("v-card",{staticClass:"no-flex"},[o("fluro-code-editor",{attrs:{autoformat:e.autoformat,outline:e.showOutline,success:e.success,lang:e.syntax,height:200},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]],2)],1):"textarea"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,success:e.success,"error-messages":e.multipleInput?e.errorMessages:null}},[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,n){return[o("v-layout",{attrs:{wrap:"",row:""}},[o("v-flex",{staticClass:"vertical-center"},[o("v-label",[e._v(e._s(e.groupTitle(t,n)))])],1),e._v(" "),o("v-spacer"),e._v(" "),e.canRemoveValue?o("v-btn",{attrs:{icon:"",flat:"",color:"error"},on:{click:function(t){return e.removeValue(n,!0)}}},[o("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1),e._v(" "),o("v-textarea",{attrs:{outline:e.showOutline,success:e.success,required:e.required,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel[n],callback:function(t){e.$set(e.fieldModel,n,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[e.webMode?[o("fluro-button",{on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]:[o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]]:e._e()]:e._e(),e._v(" "),e.multipleInput?e._e():[o("v-textarea",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.model[e.field.key],callback:function(t){e.$set(e.model,e.field.key,t)},expression:"model[field.key]"}})]],2)]:"wysiwyg"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,success:e.success,required:e.required,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description}},[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,n){return[o("v-layout",{attrs:{wrap:"",row:""}},[o("v-flex",{staticClass:"vertical-center"},[o("v-label",[e._v(e._s(e.groupTitle(t,n)))])],1),e._v(" "),o("v-spacer"),e._v(" "),e.canRemoveValue?o("v-btn",{attrs:{icon:"",flat:"",color:"error"},on:{click:function(t){return e.removeValue(n,!0)}}},[o("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1),e._v(" "),o("fluro-editor",{attrs:{options:e.multiEditorOptions,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},input:e.elementValueChanged},model:{value:e.fieldModel[n],callback:function(t){e.$set(e.fieldModel,n,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[e.webMode?[o("fluro-button",{on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]:[o("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.multiLabel)+"\n\t\t\t\t\t\t\t\t"),o("fluro-icon",{attrs:{icon:"plus",right:""}})],1)]]:e._e()]:e._e(),e._v(" "),e.multipleInput?e._e():[o("v-label",[e._v(e._s(e.displayLabel))]),e._v(" "),o("fluro-editor",{attrs:{options:e.editorOptions,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]],2)]:"upload"==e.renderer?[o("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,required:e.required,"error-messages":e.errorMessages,"persistent-hint":!0,hint:e.fileHint}},[e.files&&e.files.length?o("div",{staticClass:"file-items"},e._l(e.files,(function(t){return o("div",{staticClass:"file-item"},[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{grow:""}},[o("strong",[e._v(e._s(t.name))]),e._v(" "),o("div",{staticClass:"small"},["progress"==t.state?o("span",[e._v("Uploaded "+e._s(t.progress)+"% of ")]):e._e(),o("span",{staticClass:"muted"},[e._v(e._s(e._f("filesize")(t.size)))])])]),e._v(" "),o("v-flex",{attrs:{shrink:""}},["error"==t.state?[o("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return o("v-btn",{attrs:{icon:""},on:{click:function(o){return e.removeFile(t)}}},[o("fluro-icon",r?{attrs:{icon:"times"}}:{attrs:{icon:"exclamation"}})],1)}}],null,!0)})]:"complete"==t.state?[o("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return o("v-btn",{attrs:{icon:""},on:{click:function(o){return e.removeFile(t)}}},[o("fluro-icon",r?{attrs:{icon:"times"}}:{attrs:{icon:"check"}})],1)}}],null,!0)})]:"uploading"==t.state?[o("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return o("v-btn",{attrs:{icon:""},on:{click:function(o){return e.removeFile(t)}}},[r?e._e():o("v-progress-circular",{attrs:{value:t.progress}}),e._v(" "),r?o("fluro-icon",{attrs:{icon:"times"}}):e._e()],1)}}],null,!0)})]:[o("v-btn",{attrs:{icon:""},on:{click:function(o){return e.removeFile(t)}}},[o("fluro-icon",{attrs:{icon:"times"}})],1)]],2)],1)],1)})),0):e._e(),e._v(" "),e.canAddFile?o("label",{staticClass:"file-drop",on:{dragover:function(t){return t.preventDefault(),t.stopPropagation(),e.fileover.apply(null,arguments)},drop:function(t){return t.preventDefault(),t.stopPropagation(),e.filedrop.apply(null,arguments)}}},[o("input",{ref:"file",attrs:{type:"file",multiple:e.multipleInput},on:{change:function(t){return e.filesSelected(t.target.files)}}}),e._v("\n\t\t\t\t\tDrag and drop a file or click to select "+e._s(e.multipleInput?"files":"a file")+"\n\t\t\t\t")]):e._e()])]:"academic-select"==e.renderer?[o("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"return-object":!0,label:e.displayLabel,"no-data-text":"No options available",multiple:!1,"item-text":"title",items:e.academicCalendarOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.academicModel,callback:function(t){e.academicModel=t},expression:"academicModel"}}),e._v(" "),e.gradeOptions&&e.gradeOptions.length?o("div",[o("v-select",{attrs:{outline:e.showOutline,success:e.success,label:"Grade",multiple:!1,"item-text":"title",items:e.gradeOptions},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.model.academicGrade,callback:function(t){e.$set(e.model,"academicGrade",t)},expression:"model['academicGrade']"}})],1):e._e()]:"currency"!=e.renderer||e.multipleInput?"app-menu-select"==e.renderer?[o("fluro-app-menu-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-type-select"==e.renderer?[o("fluro-app-type-select",{attrs:{field:e.field,parentModel:e.parent,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-block-select"==e.renderer?[o("fluro-app-block-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-font-select"==e.renderer?[o("fluro-app-font-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-page-select"==e.renderer?[o("fluro-app-page-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-size-select"==e.renderer?[o("fluro-app-size-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-field-select"==e.renderer?[o("fluro-app-field-select",{attrs:{field:e.field,parentModel:e.parent,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-field-key-select"==e.renderer?[o("fluro-app-field-key-select",{attrs:{field:e.field,parentModel:e.parent,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-theme-select"==e.renderer?[o("fluro-app-theme-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-font-select"==e.renderer?[o("fluro-app-font-select",{attrs:{field:e.field,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-filter-select"==e.renderer?[o("fluro-app-filter-select",{attrs:{field:e.field,parentModel:e.parent,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-chart-select"==e.renderer?[o("fluro-app-chart-select",{attrs:{field:e.field,parentModel:e.parent,options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"color"!=e.renderer||e.multipleInput?[e.multipleInput?[o("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,label:e.displayLabel,success:e.success}},[e.field.description?o("div",{staticClass:"help-text"},[e._v("\n\t\t\t\t\t\t"+e._s(e.field.description)+"\n\t\t\t\t\t")]):e._e(),e._v(" "),e.fieldModel&&e.fieldModel.length?[o("draggable",e._b({attrs:{handle:".handle"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},"draggable",e.dragOptions,!1),e._l(e.fieldModelWithFlags,(function(t,n){return o("div",{key:t.content,staticClass:"multi-input-row"},[t.disabled?e._e():o("span",{staticClass:"handle"},[o("fluro-icon",{attrs:{icon:"arrows",left:""}})],1),e._v(" "),o("v-flex",{staticStyle:{padding:"0 !important"}},[e._v(e._s(t.content))]),e._v(" "),o("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Click to copy"},on:{click:function(o){return e.copyToClipboard(t.content)}}},[o("fluro-icon",{attrs:{icon:"copy"}})],1),e._v(" "),t.disabled?e._e():o("span",{on:{click:function(t){return e.removeValue(n,!0)}}},[o("fluro-icon",{attrs:{icon:"trash-alt",right:""}})],1)],1)})),0)]:e._e(),e._v(" "),e.canAddValue?[o("v-text-field",{staticClass:"faint",attrs:{type:"password"==e.directive?"password":"text",mask:e.params.mask,autofocus:e.shouldAutofocus,"append-inner-icon":"plus",outline:e.showOutline,success:e.success,"browser-autocomplete":"off","append-icon":"plus",required:e.required,label:e.multiLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.hint,placeholder:e.placeholder},on:{focus:function(t){return e.focussed()},input:e.elementValueChanged,blur:function(t){return e.addProposedValue()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.addProposedValue())}},model:{value:e.proposedValue,callback:function(t){e.proposedValue=t},expression:"proposedValue"}})]:e._e()],2)]:e._e(),e._v(" "),e.multipleInput?e._e():[o("v-text-field",{attrs:{type:"password"==e.directive?"password":"text",mask:e.params.mask,autofocus:e.shouldAutofocus,outline:e.showOutline,success:e.success,"browser-autocomplete":"off",required:e.required,label:e.displayLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.placeholder},on:{input:e.elementValueChanged,blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:[o("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,"persistent-hint":!0}},[o("div",e._g({staticClass:"color-swatch"},n),[o("div",{staticClass:"swatch",style:{backgroundColor:e.colorModel.hex8}},[o("span",[e._v(e._s(e.colorModel.hex8?e.colorModel.hex8:"transparent"))])])])])]}}],null,!1,965716092),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),o("div",[o("color-picker",{on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.colorModel,callback:function(t){e.colorModel=t},expression:"colorModel"}})],1)])]:[o("fluro-currency-input",{attrs:{currency:e.params.currency,hideSuffix:e.params.hideSuffix,min:e.minValue,max:e.maxValue,label:e.displayLabel,required:e.required,autofocus:e.shouldAutofocus,outline:e.showOutline,success:e.success,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:e._e()],2):e._e()}),[],!1,null,"163f3592",null));t.default=B.exports},778:function(e,t,o){var content=o(1144);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("2f0e1e0d",content,!0,{sourceMap:!1})},780:function(e,t,o){var content=o(1148);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("182b6d2b",content,!0,{sourceMap:!1})},781:function(e,t,o){var content=o(1150);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("e401cb82",content,!0,{sourceMap:!1})},782:function(e,t,o){var content=o(1156);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("b6aa6b6a",content,!0,{sourceMap:!1})},783:function(e,t,o){var content=o(1181);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("0f1b2087",content,!0,{sourceMap:!1})},784:function(e,t,o){var content=o(1183);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("03a84128",content,!0,{sourceMap:!1})},785:function(e,t,o){var content=o(1185);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("3ef60fcd",content,!0,{sourceMap:!1})},786:function(e,t,o){var content=o(1187);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("2b0e837b",content,!0,{sourceMap:!1})},787:function(e,t,o){var content=o(1189);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("368cbbf7",content,!0,{sourceMap:!1})},788:function(e,t,o){var content=o(1191);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("25b03910",content,!0,{sourceMap:!1})},789:function(e,t,o){var content=o(1193);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("1dd133d8",content,!0,{sourceMap:!1})},792:function(e,t,o){var content=o(1199);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("27618fa6",content,!0,{sourceMap:!1})},793:function(e,t,o){var content=o(1201);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("6ce0130a",content,!0,{sourceMap:!1})},839:function(e,t,o){var content=o(1305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("4b68884d",content,!0,{sourceMap:!1})},856:function(e,t,o){var content=o(1338);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("3bb2bc62",content,!0,{sourceMap:!1})},858:function(e,t,o){var content=o(1342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("b6cbd92e",content,!0,{sourceMap:!1})},859:function(e,t,o){var content=o(1344);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("3b22ac9c",content,!0,{sourceMap:!1})},87:function(e,t,o){"use strict";var n={props:{autofocus:{type:Boolean},enabled:{type:Boolean,default:!0}},data:function(){return{props:{element:null,editing:!1},dblclick:{type:Boolean}}},beforeDestroy:function(){var e=this;e.element&&(e.element.removeEventListener("focus",e.focus),e.element.removeEventListener("blur",e.blur),e.element=null)},mounted:function(){var e=this;e.mount(),e.autofocus&&e.enableEdit()},methods:{doubleClickEnableEdit:function(){return this.dblclick?this.enableEdit():void 0},clickEnableEdit:function(){return this.dblclick?void 0:this.enableEdit()},mount:function(){var e=this;e.element=e.$el.querySelector("input, textarea, select, [contenteditable]"),e.element&&(e.element.addEventListener("focus",e.focus),e.element.addEventListener("blur",e.blur))},enableEdit:function(){var e=this;e.enabled&&(e.element||e.mount(),e.element&&e.element.focus(),e.props.editing=!0)},focus:function(e){var t=this;t.enabled&&(this.props.editing=!0,t.element&&t.element.select&&t.element.select())},blur:function(){this.props.editing=!1}}},r=(o(1188),o(1)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"fluro-inline-edit",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.blur.apply(null,arguments)},click:function(t){return t.stopPropagation(),t.preventDefault(),e.enableEdit.apply(null,arguments)}}},[e.enabled?[o("span",{staticClass:"inline-edit-input",class:{"inline-hide":!e.props.editing,"inline-show":e.props.editing}},[e._t("edit",null,{props:e.props,blur:e.blur,focus:e.focus})],2),e._v(" "),o("span",{staticClass:"inline-edit-default",class:{"inline-hide":e.props.editing,"inline-show":e.props.editing}},[e._t("default",null,{props:e.props,blur:e.blur,focus:e.focus})],2)]:[e._t("default",null,{props:e.props,blur:e.blur,focus:e.focus})]],2)}),[],!1,null,null,null);t.a=component.exports},913:function(e,t,o){"use strict";o(21),o(24),o(12);var n=o(88),r=o(0),l=o.n(r),c={mixins:[n.a],created:function(){this.setSelection(this.value)},props:{value:{default:function(){return[]},type:Array},type:{type:String},minimum:{type:Number,default:0},maximum:{type:Number,default:0}},watch:{model:function(){this.$emit("input",this.model)}},computed:{model:{get:function(){return this.selection},set:function(e){this.selection=e}},canSelectAll:function(){if(this.model.length!=this.items.length)return!this.maximum||this.total<this.maximum},selectionSummary:function(){if(this.multiple){if(this.minimum)return this.model.length>=this.minimum?"".concat(this.model.length," selected"):"".concat(this.model.length," of ").concat(this.minimum," required");if(this.maximum)return"".concat(this.model.length," of max ").concat(this.maximum," selected")}return"".concat(this.model.length," selected")},search:{get:function(){return this.terms},set:l.a.debounce((function(e){this.terms=e}),500)},multiple:function(){return 1!=this.maximum},total:function(){return this.model.length},canAddValue:function(){return!this.maximum||this.total<this.maximum}},data:function(){return{loading:!0,terms:"",pageOptions:[10,20,60],headers:[{text:"",align:"left",sortable:!1,value:""},{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Updated",align:"left",sortable:!0,value:"updated"},{text:"Created",align:"left",sortable:!0,value:"created"}]}},methods:{selectAll:function(){this.maximum?this.setSelection(this.items.slice(0,this.maximum)):this.setSelection(this.items)},clicked:function(e){if(this.isSelected(e))return this.deselect(e);this.multiple?this.canAddValue&&this.select(e):this.setSelection([e])},close:function(){this.$emit("close")},summary:function(e){var t=e.firstLine||"";if("event"===e._type)t="".concat(this.$fluro.date.readableEventDate(e)," ").concat(t);return t}},asyncComputed:{items:{get:function(){var e=this,t="/content";e.type&&e.type.length&&(t="/content/".concat(e.type)),e.loading=!0;var o=e.$fluro.api.get(t,{params:{list:!0,simple:!0}});return new Promise((function(t,n){o.then((function(o){t(o.data),e.loading=!1})).catch((function(t){n(t),e.loading=!1}))}))}}}},d=(o(1337),o(1));Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fluro-content-browser"},[o("v-toolbar",{staticClass:"elevation-0"},[o("v-spacer"),e._v(" "),o("v-text-field",{attrs:{solo:"","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.close()}}},[e._v(" Done ")])],1),e._v(" "),o("v-card",[e.loading?[o("v-card-text",{staticClass:"text-sm-center"},[o("v-progress-circular",{attrs:{indeterminate:""}})],1)]:[e.model.length?o("v-toolbar",{staticClass:"elevation-0"},[o("div",[e._v(e._s(e.selectionSummary))]),e._v(" "),o("v-spacer"),e._v(" "),o("v-item-group",[e.canSelectAll?o("v-btn",{attrs:{small:""},on:{click:function(t){return e.selectAll()}}},[e._v(" Select all "+e._s(e.items.length)+" ")]):e._e(),e._v(" "),o("v-btn",{attrs:{small:""},on:{click:function(t){return e.deselectAll()}}},[e._v(" Deselect "+e._s(1==e.maximum?"":"all")+" ")])],1)],1):e._e(),e._v(" "),e.items?[o("v-data-table",{attrs:{"item-key":"_id",search:e.search,"select-all":e.multiple,"rows-per-page-items":e.pageOptions,"disable-initial-sort":!0,"hide-headers":e.$vuetify.breakpoint.xsOnly,headers:e.headers,items:e.items},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",{attrs:{active:e.isSelected(t.item)},on:{"!click":function(o){return o.preventDefault(),o.stopPropagation(),e.clicked(t.item)}}},[e.multiple?o("td",[o("v-checkbox",{attrs:{"hide-details":""},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1):e._e(),e._v(" "),o("td",{staticClass:"text-xs-center fixed-w"},["image"==t.item._type?[o("fluro-image",{attrs:{item:t.item,spinner:!0,width:50,height:50}})]:[o("fluro-icon",{attrs:{type:t.item._type}})]],2),e._v(" "),o("td",[o("div",[e._v(e._s(t.item.title))]),e._v(" "),o("div",{staticClass:"small muted"},[e._v(e._s(e.summary(t.item)))])]),e._v(" "),o("td",[e._v(e._s(e._f("timeago")(t.item.created)))]),e._v(" "),o("td",[e._v(e._s(e._f("timeago")(t.item.updated)))])])]}}],null,!1,1928552038),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:e._e()]],2)],1)}),[],!1,null,null,null).exports},915:function(e,t,o){"use strict";o(60),o(42),o(22),o(76),o(84);var n=o(11),r=(o(12),o(34)),l=o(0),c=o.n(l),d=o(114);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var m={props:{title:{type:String},type:{type:String},cancelButtonText:{type:String},saveButtonText:{type:String,default:"Submit"},target:{type:[Object,String]},options:{default:function(){return{}},type:Object}},data:function(){return{model:{data:{}},postType:this.type,serverErrors:"",errorMessages:[],thread:[],state:"ready",mounted:!1}},watch:{type:function(e){console.log("POST TYPE CHANGED",e),this.postType=e}},mounted:function(){var e=this;e.$watch((function(){return c.a.get(e.$refs,"form.errorMessages")}),e.validate),e.validate(),this.mounted=!0},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({userAvatarID:function(){return this.user?this.user.persona||this.user._id:null},userAvatarType:function(){return this.user&&this.user.persona?"persona":"user"},webMode:function(){var e=this;if(e.mounted)if(e.$fluro.app){var element=e.$el;if(element)if(element.ownerDocument){if(element.ownerDocument.defaultView)return!element.ownerDocument.defaultView.adminPanelMode;console.log("POST FORM > NO DEFAULT VIEW")}else console.log("POST FORM > NO DOCUMENT");else console.log("POST FORM > NO ELEMENT")}else console.log("POST FORM > NO APP")},mobile:function(){return this.$vuetify.breakpoint.xsOnly},targetID:function(){return this.$fluro.utils.getStringID(this.target)},hasErrors:function(){return!!(this.errorMessages||[]).length},displayTitle:function(){return this.title?this.title:"Add ".concat(this.form.title)},allowed:function(){var e=this.$fluro.access.can("create",this.postType,"post",this.webMode),t=this.$fluro.access.can("submit",this.postType,"post",this.webMode);return e||t},user:function(){return this.webMode?this.$fluro.app?this.$fluro.app.user:void 0:this.$fluro.auth.getCurrentUser()}},Object(d.b)("fluro",["application"])),components:{FluroContentForm:r.default},asyncComputed:{form:{default:[],get:function(){var e=this;return new Promise((function(t,o){e.$fluro.content.type(e.postType).then((function(o){return console.log("Get the post type",e.postType,o),t(o)})).catch(o)}))}}},methods:{validate:function(){console.log("post validate");var form=this.$refs.form;if(!form)return[];var e=[];e=e.concat(form.errorMessages),this.errorMessages=e},clear:function(){this.reset()},reset:function(){var e=this,form=e.$refs.form;form&&form.reset(),e.state="ready",e.$emit("reset"),e.model.data={}},submit:function(){var e,t=this;t.validate(),t.state="processing",t.webMode&&(e={application:!0}),t.$fluro.content.submitPost(this.target,this.postType,this.model,{requestOptions:e}).then((function(e){t.$emit("created",e),t.$emit("success",e),t.reset()}),(function(e){t.$fluro.error(e),t.state="error",t.$emit("error",e),t.serverErrors=t.$fluro.utils.errorMessage(e)}))}}},h=m,v=(o(1341),o(1)),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.form?[e.allowed?e._e():[e.user?[e._t("authenticated",null,{form:e.form})]:e._e(),e._v(" "),e.user?e._e():[e._t("unauthenticated",null,{form:e.form})]],e._v(" "),e.allowed?[o("div",{staticClass:"fluro-post-form"},[e._t("header",(function(){return[o("v-layout",[o("fluro-avatar",{attrs:{left:"",md:"",id:e.userAvatarID,type:e.userAvatarType}}),e._v(" "),o("v-flex",{attrs:{"d-flex":""}},[o("h3",{attrs:{title:""}},[e._v(e._s(e.displayTitle))])])],1)]}),{title:e.displayTitle,form:e.form,targetID:e.targetID}),e._v(" "),o("form",{attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[o("fluro-content-form",{key:"form",ref:"form",attrs:{options:e.options,fields:e.form.fields},model:{value:e.model.data,callback:function(t){e.$set(e.model,"data",t)},expression:"model.data"}}),e._v(" "),o("div",{staticClass:"actions"},["processing"==e.state?[e.webMode?[o("fluro-button",{attrs:{loading:!0,block:e.mobile,large:e.mobile,disabled:!0}},[e._v(e._s(e.saveButtonText))])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:!0}},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(e.saveButtonText)+"\n\t\t\t\t\t\t\t\t\t\t"),o("v-progress-circular",{attrs:{indeterminate:""}})],1)]]:"error"==e.state?[o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.serverErrors)+"\n\t\t\t\t\t\t\t\t")]),e._v(" "),e.webMode?[o("fluro-button",{attrs:{block:e.mobile,large:e.mobile},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("Try Again")])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,color:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n\t\t\t\t\t\t\t\t\t\tTry Again\n\t\t\t\t\t\t\t\t\t")])]]:[e.hasErrors?o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n\t\t\t\t\t\t\t\t\tPlease check the following issues before submitting\n\t\t\t\t\t\t\t\t\t"),e._l(e.errorMessages,(function(t){return o("div",[o("strong",[e._v(e._s(t.title))]),e._v(": "+e._s(t.messages[0])+"\n\t\t\t\t\t\t\t\t\t")])}))],2):e._e(),e._v(" "),e._t("submit",(function(){return[e.webMode?[o("fluro-button",{attrs:{tag:"button",type:"submit",block:e.mobile,large:e.mobile,disabled:e.hasErrors},nativeOn:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.saveButtonText)+"\n\t\t\t\t\t\t\t\t\t\t")])]:[o("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.saveButtonText)+"\n\t\t\t\t\t\t\t\t\t\t")])]]}),{hasErrors:e.hasErrors})]],2)],1)],2)]:e._e()]:e._e()],2)}),[],!1,null,"24ab9016",null);t.a=component.exports},916:function(e,t,o){"use strict";var n=o(0),r=o.n(n),l=o(136),c=o(34),d={props:{method:{type:String,default:"post"},url:{type:String,required:!0},fields:{type:Array,required:!0},submitText:{type:String,default:"Submit"},value:{type:Object,default:function(){return{}}}},data:function(){return{mounted:!1,model:this.value,state:"ready",serverErrors:"",errorMessages:[]}},components:{FluroButton:l.a,FluroContentForm:c.default},watch:{value:function(e){this.model!=e&&(this.model=e)},model:function(e){this.$emit("input",e)}},mounted:function(){var e=this;e.$watch((function(){return r.a.get(e.$refs,"form.errorMessages")}),e.validate),e.validate(),e.mounted=!0},computed:{webMode:function(){return this.mounted&&(this.mounted=this.mounted),this.$fluro.app},submitButtonText:function(){return this.submitText},hasErrors:function(){return!!this.errorMessages.length}},methods:{validate:function(){this.errorMessages=r.a.get(this.$refs,"form.errorMessages")},clear:function(){this.reset()},reset:function(){var e=this;e.model={},e.state="ready",e.$emit("reset")},submit:function(e){e&&(e.preventDefault(),e.stopPropagation());var t,o=this;switch(o.validate(),o.state="processing",String(o.method).toLowerCase()){case"post":t=o.$fluro.api.post;break;case"put":t=o.$fluro.api.put;break;default:return}t(this.url,this.model).then((function(e){o.$emit("success",e.data),o.reset()}),(function(e){o.$fluro.error(e),o.state="error",o.$emit("error",e),o.serverErrors=o.$fluro.utils.errorMessage(e)}))}}},f=o(1),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.submit.apply(null,arguments)}}},[o("fluro-content-form",{ref:"form",attrs:{fields:e.fields},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("div",{staticClass:"actions"},["processing"==e.state?[e.webMode?[o("fluro-button",{attrs:{loading:!0,disabled:!0}},[e._v(e._s(e.submitButtonText))])]:[o("v-btn",{staticClass:"mx-0",attrs:{loading:!0,disabled:!0}},[e._v(e._s(e.submitButtonText))])]]:"error"==e.state?[o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v(e._s(e.serverErrors))]),e._v(" "),e.webMode?[o("fluro-button",{nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("Try Again")])]:[o("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("Try Again")])]]:[e.hasErrors?o("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n\t\t\t\tPlease check the following issues before submitting\n\t\t\t\t"),e._l(e.errorMessages,(function(t){return o("div",[o("strong",[e._v(e._s(t.title))]),e._v("\n\t\t\t\t\t: "+e._s(t.messages[0])+"\n\t\t\t\t")])}))],2):e._e(),e._v(" "),e._t("submit",(function(){return[e.webMode?[o("fluro-button",{attrs:{tag:"button",type:"submit",disabled:e.hasErrors},nativeOn:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v(e._s(e.submitButtonText))])]:[o("v-btn",{staticClass:"mx-0",attrs:{type:"submit",disabled:e.hasErrors,color:"primary"}},[e._v(e._s(e.submitButtonText))])]]}),{hasErrors:e.hasErrors})]],2)],1)}),[],!1,null,null,null);t.a=component.exports},917:function(e,t,o){"use strict";o(60),o(42),o(22),o(76),o(84);var n=o(11),r=(o(0),o(114));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var c={props:{value:{type:Array}},data:function(){return{model:this.value}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({webMode:function(){var e=this;if(e.mounted)if(e.$fluro.app){var element=e.$el;if(element)if(element.ownerDocument){if(element.ownerDocument.defaultView)return!element.ownerDocument.defaultView.adminPanelMode;console.log("NO DEFAULT VIEW")}else console.log("NO DOCUMENT");else console.log("NO ELEMENT")}else console.log("NO APP")},user:function(){return this.webMode?this.$fluro.app?this.$fluro.app.user:void 0:this.$fluro.auth.getCurrentUser()}},Object(r.b)("fluro",["application"])),watch:{value:function(e){this.model=e},model:function(){this.$emit("input",this.model)}}},d=c,f=(o(1343),o(1)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"fluro-post-thread"},[e._l(e.model,(function(t){return[e._t("post",null,{post:t})]}))],2)}),[],!1,null,"4dc2fc62",null);t.a=component.exports},924:function(e,t,o){"use strict";o(17),o(59),o(24),o(23),o(14);var n=o(0),r=o.n(n);function l(e){if(e)return{title:e.title,path:e.path,guid:e.guid||"nope"}}var c={props:{value:{type:Array},context:{type:Object},conditional:{type:Boolean}},data:function(){return{contextField:this.context,model:this.value,fields:[],selected:null}},watch:{value:function(e){this.model=e},contextField:"map",model:"map"},created:function(){this.map()},computed:{currentTrail:function(){var e=this.contextField;if(e)return l(r.a.find(this.trails,{guid:e.guid}))},trails:function(){return r.a.map(this.fields,l)}},methods:{selectExample:function(e,t){this.$emit("click",e,t)},toggle:function(e){this.selected=e},map:function(){var e=this;e.contextField&&(e.fields=function(e,t,o){console.log("CONTEXT FIELD",e);var n=[];function l(t,o,c){r.a.each(t,(function(t){var output={title:t.title,key:t.key,type:t.type,guid:t.guid};output.trail=o.slice(),output.titles=c.slice(),output.context=e==t,output.absoluteTitle=output.titles.concat([t.title]).join(" > "),output.parentTitle=r.a.last(c),output.parentTrail=o.slice().join("."),output.path=output.trail.concat([t.key]).join("."),output.isArray=1!=t.maximum,"reference"==t.type&&t.allowedReferences&&t.allowedReferences.length?output.options=r.a.map(t.allowedReferences,(function(e){return{name:"".concat(e.title||e.name||e._id),value:e._id||e.value}})):t.allowedValues&&t.allowedValues.length?output.options=r.a.map(t.allowedValues,(function(e){return{name:e,value:e}})):output.options=t.options||[],n.push(output),(t.asObject||"embedded"==t.directive)&&(1==t.maximum?(o.push(t.key),c.push(t.title)):(o.push(t.key+"[0]"),c.push(t.title))),t.fields&&t.fields.length&&l(t.fields,o,c),(t.asObject||"embedded"==t.directive)&&(o.pop(),c.pop())}))}l(t,[],[]),!1;var c=r.a.find(n,{guid:e.guid}),d=c?c.parentTrail:c.trail;return r.a.chain(n).map((function(e){var t,n;e.contextualPath=d.length?e.path.replace(d,"model"):e.path,e.contextualPath==e.path&&(e.contextualPath="data.".concat(e.path)),e.examples=[];var l=10;"reference"==e.type&&(l=50);var c=e.options?e.options.slice(0,l):[];switch(e.type){case"group":if(!e.asObject)return;break;case"void":return;case"number":t=n=18;break;case"integer":t=n=12;break;case"decimal":case"float":t=n=3.56;break;case"boolean":t=n="true";break;case"email":t=n="example@fluro.io";break;case"url":t=n="https://www.fluro.io";break;case"date":t="Date",n=Date.now();break;case"string":e.isArray?c&&c.length?(t="[".concat(r.a.map(c,(function(e){return"'".concat(e,"'")})).join(", "),"]"),n=r.a.map(c,"value")):t=(n=["Michael","Susan","Jerry"]).join(", "):c&&c.length?(t=r.a.first(c).name,n="'".concat(r.a.first(c).value,"'")):t=n="Michael";break;case"reference":t=n=e.isArray?["Object","Object","Object"]:{}}var f=[],m="[0]",h=e.contextualPath,v=h.lastIndexOf(m),y=-1!=v,x=h.slice(0,v),k=-1==v?0:v,_=h.slice(k+m.length+1);if(e.isArray){switch(e.type){case"reference":case"group":case"object":f.push({path:"matchInArray(".concat(e.contextualPath,", '_id', '12345').length"),description:"Returns the total number of '".concat(e.path,"' items where the '_id' field is '12345'")}),f.push({path:"matchInArray(".concat(e.contextualPath,", 'title', 'Example Title').length"),description:"Returns the total number of '".concat(e.path,"' items where the 'title' field is equal to 'Example Title'")}),f.push({path:"matchInArray(".concat(e.contextualPath,", '_id', '12345', '!=').length"),description:"Returns the total number of '".concat(e.path,"' items where the '_id' field is not equal to '12345'")}),f.push({path:"matchInArray(".concat(e.contextualPath,", 'title', 'Example Title', '!=').length"),description:"Returns the total number of '".concat(e.path,"' items where the 'title' field is not equal to 'Example Title'")});break;case"number":case"integer":case"decimal":case"float":c.length?r.a.each(c,(function(option){f.push({path:"".concat(e.contextualPath,".includes(").concat(option.value,")"),description:"Returns if '".concat(option.name,"' has been selected as a value")})})):r.a.each(n,(function(option){f.push({path:"".concat(e.contextualPath,".includes(").concat(option,")"),description:"Returns if '".concat(e.path,"' has been selected as a value")})}));break;default:c.length?r.a.each(c,(function(option){f.push({path:"".concat(e.contextualPath,".includes('").concat(option.value,"')"),description:"Returns if '".concat(option.name,"' has been selected")})})):r.a.each(n,(function(option){f.push({path:"".concat(e.contextualPath,".includes('").concat(option,"')"),description:"Returns if '".concat(e.path,"' has been selected")})}))}f.push({path:"".concat(e.contextualPath,".length"),description:"Returns the number of '".concat(e.title,"' values that have been input")}),f.push({path:"".concat(e.contextualPath,".length > 1"),description:"Returns true if more than 1 '".concat(e.title,"' value has been input")}),f.push({path:"".concat(e.contextualPath,".length < 4"),description:"Returns true if less than 4 '".concat(e.title,"' values have been input")})}else if(c.length)switch(e.type){case"reference":default:r.a.each(c,(function(option){f.push({path:"".concat(e.contextualPath," == '").concat(option.value,"'"),description:"Returns if '".concat(option.name,"' has been selected")})}));break;case"group":break;case"number":case"integer":case"decimal":case"float":r.a.each(c,(function(option){f.push({path:"".concat(e.contextualPath," == ").concat(option.value),description:"Returns if '".concat(option.name,"' has been selected")})}))}else if(o)switch(e.type){case"boolean":f.push({path:"".concat(e.contextualPath),description:"Returns true '".concat(e.title,"' has been ticked")}),f.push({path:"!".concat(e.contextualPath),description:"Returns true '".concat(e.title,"' has not been ticked")});break;case"date":f.push({path:"".concat(e.contextualPath),description:"Returns the value of '".concat(e.title,"'")}),f.push({path:" moment().diff(".concat(e.contextualPath,", 'years') < 18"),description:"Returns true if '".concat(e.title,"' is less than 18 years ago")}),f.push({path:" moment().diff(".concat(e.contextualPath,", 'years') >= 21"),description:"Returns true if '".concat(e.title,"' is greater than or equal to 21 years ago")}),f.push({path:"new Date(".concat(e.contextualPath,") <= Date.now()"),description:"Returns true if the date value of '".concat(e.title,"' is in the past")}),f.push({path:"new Date(".concat(e.contextualPath,") > Date.now()"),description:"Returns true if the date value of '".concat(e.title,"' is in the future")});break;case"number":case"integer":case"decimal":case"float":f.push({path:"".concat(e.contextualPath),description:"Returns the value of '".concat(e.title,"'")}),f.push({path:"".concat(e.contextualPath," <= 10"),description:"Returns true if the value of '".concat(e.title,"' is less than or equal to 10")}),f.push({path:"".concat(e.contextualPath," == 6"),description:"Returns true if the value of '".concat(e.title,"' is exactly 6")});break;case"reference":case"group":f.push({path:"".concat(e.contextualPath),description:"Returns the literal value of the object '".concat(e.title,"'")});break;default:f.push({path:"".concat(e.contextualPath),description:"Returns the value of '".concat(e.title,"'")}),f.push({path:"".concat(e.contextualPath," == '").concat(n,"'"),description:"Returns true if the value is exactly equal to ".concat(n)}),f.push({path:"".concat(e.contextualPath," == String('").concat(n,"').toLowerCase()"),description:"Returns true if the value is exactly equal to ".concat(n," (Case insensitive)")}),f.push({path:"String(".concat(e.contextualPath,").toLowerCase().includes('abc') "),description:"Returns true if ".concat(e.title," contains the characters 'abc' (Case insensitive)")})}else if(f.push({path:"".concat(e.contextualPath),description:"Returns the value of '".concat(e.title,"'")}),"date"===e.type)f.push({path:"moment().diff(".concat(e.contextualPath,", 'years')"),description:"Returns how many years difference since '".concat(e.title,"'")});if(y)if(e.isArray)c.length?r.a.each(c,(function(option){f.push({path:"matchInArray(".concat(e.contextualPath,", '").concat(_,"', '").concat(option.value,"', 'in').length"),description:"Returns the total number of '".concat(e.parentTitle,"' where '").concat(e.title,"' includes'").concat(option.name,"'")})})):f.push({path:"matchInArray(data.".concat(x,", '").concat(_,"', '").concat(n,"', 'in').length"),description:"Returns the total number of '".concat(e.parentTitle,"' where '").concat(e.title,"' includes'").concat(t,"'")});else if(c.length)r.a.each(c,(function(option){f.push({path:"matchInArray(".concat(x,", '").concat(_,"', '").concat(option.value,"').length"),description:"Returns the total number of '".concat(e.parentTitle,"' where ").concat(e.title," is equal to '").concat(option.name,"'")})}));else switch(e.type){case"number":case"float":case"decimal":case"integer":f.push({path:"matchInArray(".concat(x,", '").concat(_,"', ").concat(n,").length"),description:"Returns the total number of '".concat(e.parentTitle,"' where ").concat(e.title," is equal to ").concat(t)}),f.push({path:"matchInArray(".concat(x,", '").concat(_,"', ").concat(n,", '>=').length"),description:"Returns the total number of '".concat(e.parentTitle,"' where ").concat(e.title," is greater than or equal to ").concat(t)}),f.push({path:"matchInArray(".concat(x,", '").concat(_,"', ").concat(n,", '<').length"),description:"Returns the total number of '".concat(e.parentTitle,"' where ").concat(e.title," is less than ").concat(t)});break;case"boolean":break;default:f.push({path:"matchInArray(".concat(x,", '").concat(_,"', ").concat(n,").length"),description:"Returns the total number of '".concat(e.parentTitle,"' where ").concat(e.title," is equal to ").concat(t)})}return e.examples=f,e})).compact().value()}(e.contextField,e.model,e.conditional))}}},d=(o(1184),o(1)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("flex-column",{staticClass:"expression-field-select"},[o("flex-column-body",[o("div",{staticClass:"accordion"},e._l(e.fields,(function(t){return o("div",{staticClass:"accordion-panel",class:{expanded:t==e.selected}},[o("div",{staticClass:"accordion-panel-title",on:{click:function(o){return e.toggle(t)}}},[o("v-layout",[o("v-flex",[e._v(e._s(t.absoluteTitle))]),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("fluro-icon",{attrs:{icon:t==e.selected?"angle-up":"angle-down"}})],1)],1)],1),e._v(" "),t==e.selected?o("div",{staticClass:"accordion-panel-content"},e._l(t.examples,(function(n){return o("div",{staticClass:"example",on:{click:function(o){return e.selectExample(n,t)}}},[o("div",{staticClass:"example-code"},[e._v(e._s(n.path))]),e._v(" "),o("div",{staticClass:"example-description"},[e._v(e._s(n.description))])])})),0):e._e()])})),0)])],1)}),[],!1,null,"b4764164",null);t.a=component.exports},963:function(e,t,o){"use strict";o(0);var n={props:{small:{type:Boolean},block:{type:Boolean},value:{type:Object,required:!0}},methods:{toggle:function(){"public"==this.model.privacy?this.$set(this.model,"privacy","secure"):this.$set(this.model,"privacy","public")}},computed:{definitionTitle:function(){return this.$fluro.types.readable(this.model.definition||this.model._type||"node")},tooltip:function(){return"public"==this.model.privacy?"Public - Anyone can view this ".concat(this.definitionTitle):"Secure - This ".concat(this.definitionTitle," is secured by permissions")},icon:function(){return"public"==this.model.privacy?"lock-open":"lock-alt"}},data:function(){return{model:this.value}},watch:{model:function(e){this.$emit("input",e)},value:function(e){this.model!=e&&(this.model=e)}}},r=o(1),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.tooltip,small:e.small,block:e.block},on:{click:function(t){return e.toggle()}}},[o("span",{class:{"text-muted":"public"==e.model.privacy}},[o("fluro-icon",{attrs:{icon:e.icon,library:"public"==e.model.privacy?"far":"fas"}})],1)])}),[],!1,null,"413d9912",null);t.a=component.exports}}]);